var op=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var k=(t,e,n)=>(op(t,e,"read from private field"),n?n.call(t):e.get(t)),ve=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ie=(t,e,n,r)=>(op(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Sc=(t,e,n,r)=>({set _(i){ie(t,e,i,n)},get _(){return k(t,e,r)}}),rt=(t,e,n)=>(op(t,e,"access private method"),n);function Mx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function aT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lT={exports:{}},Fh={},uT={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),Vx=Symbol.for("react.portal"),Lx=Symbol.for("react.fragment"),Fx=Symbol.for("react.strict_mode"),$x=Symbol.for("react.profiler"),Ux=Symbol.for("react.provider"),Bx=Symbol.for("react.context"),zx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),qx=Symbol.for("react.memo"),Hx=Symbol.for("react.lazy"),n0=Symbol.iterator;function Wx(t){return t===null||typeof t!="object"?null:(t=n0&&t[n0]||t["@@iterator"],typeof t=="function"?t:null)}var cT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dT=Object.assign,hT={};function xa(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||cT}xa.prototype.isReactComponent={};xa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fT(){}fT.prototype=xa.prototype;function ny(t,e,n){this.props=t,this.context=e,this.refs=hT,this.updater=n||cT}var ry=ny.prototype=new fT;ry.constructor=ny;dT(ry,xa.prototype);ry.isPureReactComponent=!0;var r0=Array.isArray,pT=Object.prototype.hasOwnProperty,iy={current:null},mT={key:!0,ref:!0,__self:!0,__source:!0};function gT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pT.call(e,r)&&!mT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:zu,type:t,key:s,ref:o,props:i,_owner:iy.current}}function Kx(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sy(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function Gx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i0=/\/+/g;function ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gx(""+t.key):e.toString(36)}function rd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zu:case Vx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ap(o,0):r,r0(i)?(n="",t!=null&&(n=t.replace(i0,"$&/")+"/"),rd(i,e,n,"",function(u){return u})):i!=null&&(sy(i)&&(i=Kx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+ap(s,a);o+=rd(s,e,n,l,i)}else if(l=Wx(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+ap(s,a++),o+=rd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rc(t,e,n){if(t==null)return t;var r=[],i=0;return rd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Qx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qt={current:null},id={transition:null},Yx={ReactCurrentDispatcher:qt,ReactCurrentBatchConfig:id,ReactCurrentOwner:iy};ye.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!sy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=xa;ye.Fragment=Lx;ye.Profiler=$x;ye.PureComponent=ny;ye.StrictMode=Fx;ye.Suspense=jx;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yx;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pT.call(e,l)&&!mT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:zu,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:Bx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ux,_context:t},t.Consumer=t};ye.createElement=gT;ye.createFactory=function(t){var e=gT.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:zx,render:t}};ye.isValidElement=sy;ye.lazy=function(t){return{$$typeof:Hx,_payload:{_status:-1,_result:t},_init:Qx}};ye.memo=function(t,e){return{$$typeof:qx,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=id.transition;id.transition={};try{t()}finally{id.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return qt.current.useCallback(t,e)};ye.useContext=function(t){return qt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return qt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return qt.current.useEffect(t,e)};ye.useId=function(){return qt.current.useId()};ye.useImperativeHandle=function(t,e,n){return qt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return qt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return qt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return qt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return qt.current.useReducer(t,e,n)};ye.useRef=function(t){return qt.current.useRef(t)};ye.useState=function(t){return qt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return qt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return qt.current.useTransition()};ye.version="18.2.0";uT.exports=ye;var E=uT.exports;const B=aT(E),oy=Mx({__proto__:null,default:B},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx=E,Jx=Symbol.for("react.element"),Zx=Symbol.for("react.fragment"),eb=Object.prototype.hasOwnProperty,tb=Xx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nb={key:!0,ref:!0,__self:!0,__source:!0};function yT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eb.call(e,r)&&!nb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Jx,type:t,key:s,ref:o,props:i,_owner:tb.current}}Fh.Fragment=Zx;Fh.jsx=yT;Fh.jsxs=yT;lT.exports=Fh;var de=lT.exports,fm={},vT={exports:{}},pn={},_T={exports:{}},wT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,Y){var ne=x.length;x.push(Y);e:for(;0<ne;){var Ee=ne-1>>>1,ke=x[Ee];if(0<i(ke,Y))x[Ee]=Y,x[ne]=ke,ne=Ee;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var Y=x[0],ne=x.pop();if(ne!==Y){x[0]=ne;e:for(var Ee=0,ke=x.length,Gn=ke>>>1;Ee<Gn;){var Te=2*(Ee+1)-1,nn=x[Te],Mt=Te+1,Qn=x[Mt];if(0>i(nn,ne))Mt<ke&&0>i(Qn,nn)?(x[Ee]=Qn,x[Mt]=ne,Ee=Mt):(x[Ee]=nn,x[Te]=ne,Ee=Te);else if(Mt<ke&&0>i(Qn,ne))x[Ee]=Qn,x[Mt]=ne,Ee=Mt;else break e}}return Y}function i(x,Y){var ne=x.sortIndex-Y.sortIndex;return ne!==0?ne:x.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(x){for(var Y=n(u);Y!==null;){if(Y.callback===null)r(u);else if(Y.startTime<=x)r(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function p(x){if(v=!1,_(x),!y)if(n(l)!==null)y=!0,W(I);else{var Y=n(u);Y!==null&&te(p,Y.startTime-x)}}function I(x,Y){y=!1,v&&(v=!1,m(C),C=-1),f=!0;var ne=h;try{for(_(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||x&&!U());){var Ee=d.callback;if(typeof Ee=="function"){d.callback=null,h=d.priorityLevel;var ke=Ee(d.expirationTime<=Y);Y=t.unstable_now(),typeof ke=="function"?d.callback=ke:d===n(l)&&r(l),_(Y)}else r(l);d=n(l)}if(d!==null)var Gn=!0;else{var Te=n(u);Te!==null&&te(p,Te.startTime-Y),Gn=!1}return Gn}finally{d=null,h=ne,f=!1}}var T=!1,R=null,C=-1,D=5,N=-1;function U(){return!(t.unstable_now()-N<D)}function q(){if(R!==null){var x=t.unstable_now();N=x;var Y=!0;try{Y=R(!0,x)}finally{Y?K():(T=!1,R=null)}}else T=!1}var K;if(typeof g=="function")K=function(){g(q)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,H=F.port2;F.port1.onmessage=q,K=function(){H.postMessage(null)}}else K=function(){w(q,0)};function W(x){R=x,T||(T=!0,K())}function te(x,Y){C=w(function(){x(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){y||f||(y=!0,W(I))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var ne=h;h=Y;try{return x()}finally{h=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,Y){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var ne=h;h=x;try{return Y()}finally{h=ne}},t.unstable_scheduleCallback=function(x,Y,ne){var Ee=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ee+ne:Ee):ne=Ee,x){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ne+ke,x={id:c++,callback:Y,priorityLevel:x,startTime:ne,expirationTime:ke,sortIndex:-1},ne>Ee?(x.sortIndex=ne,e(u,x),n(l)===null&&x===n(u)&&(v?(m(C),C=-1):v=!0,te(p,ne-Ee))):(x.sortIndex=ke,e(l,x),y||f||(y=!0,W(I))),x},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(x){var Y=h;return function(){var ne=h;h=Y;try{return x.apply(this,arguments)}finally{h=ne}}}})(wT);_T.exports=wT;var rb=_T.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=E,dn=rb;function L(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var IT=new Set,Kl={};function Qs(t,e){aa(t,e),aa(t+"Capture",e)}function aa(t,e){for(Kl[t]=e,t=0;t<e.length;t++)IT.add(e[t])}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pm=Object.prototype.hasOwnProperty,ib=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s0={},o0={};function sb(t){return pm.call(o0,t)?!0:pm.call(s0,t)?!1:ib.test(t)?o0[t]=!0:(s0[t]=!0,!1)}function ob(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ab(t,e,n,r){if(e===null||typeof e>"u"||ob(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Tt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Tt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Tt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Tt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Tt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Tt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Tt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Tt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var ay=/[\-:]([a-z])/g;function ly(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ay,ly);Tt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ay,ly);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ay,ly);Tt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});Tt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Tt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function uy(t,e,n,r){var i=Tt.hasOwnProperty(e)?Tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ab(e,n,i,r)&&(n=null),r||i===null?sb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=ET.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),cy=Symbol.for("react.strict_mode"),mm=Symbol.for("react.profiler"),TT=Symbol.for("react.provider"),ST=Symbol.for("react.context"),dy=Symbol.for("react.forward_ref"),gm=Symbol.for("react.suspense"),ym=Symbol.for("react.suspense_list"),hy=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),RT=Symbol.for("react.offscreen"),a0=Symbol.iterator;function el(t){return t===null||typeof t!="object"?null:(t=a0&&t[a0]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,lp;function El(t){if(lp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lp=e&&e[1]||""}return`
`+lp+t}var up=!1;function cp(t,e){if(!t||up)return"";up=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{up=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?El(t):""}function lb(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=cp(t.type,!1),t;case 11:return t=cp(t.type.render,!1),t;case 1:return t=cp(t.type,!0),t;default:return""}}function vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case To:return"Fragment";case Io:return"Portal";case mm:return"Profiler";case cy:return"StrictMode";case gm:return"Suspense";case ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ST:return(t.displayName||"Context")+".Consumer";case TT:return(t._context.displayName||"Context")+".Provider";case dy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hy:return e=t.displayName||null,e!==null?e:vm(t.type)||"Memo";case si:e=t._payload,t=t._init;try{return vm(t(e))}catch{}}return null}function ub(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vm(e);case 8:return e===cy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cb(t){var e=PT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ac(t){t._valueTracker||(t._valueTracker=cb(t))}function AT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _m(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CT(t,e){e=e.checked,e!=null&&uy(t,"checked",e,!1)}function wm(t,e){CT(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Em(t,e.type,n):e.hasOwnProperty("defaultValue")&&Em(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Em(t,e,n){(e!=="number"||Dd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Il=Array.isArray;function Lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Im(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(L(92));if(Il(n)){if(1<n.length)throw Error(L(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function xT(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cc,kT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cc=Cc||document.createElement("div"),Cc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},db=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(t){db.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bl[e]=bl[t]})});function DT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bl.hasOwnProperty(t)&&bl[t]?(""+e).trim():e+"px"}function NT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hb=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sm(t,e){if(e){if(hb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Rm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pm=null;function fy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Am=null,Fo=null,$o=null;function h0(t){if(t=Hu(t)){if(typeof Am!="function")throw Error(L(280));var e=t.stateNode;e&&(e=jh(e),Am(t.stateNode,t.type,e))}}function OT(t){Fo?$o?$o.push(t):$o=[t]:Fo=t}function MT(){if(Fo){var t=Fo,e=$o;if($o=Fo=null,h0(t),e)for(t=0;t<e.length;t++)h0(e[t])}}function VT(t,e){return t(e)}function LT(){}var dp=!1;function FT(t,e,n){if(dp)return t(e,n);dp=!0;try{return VT(t,e,n)}finally{dp=!1,(Fo!==null||$o!==null)&&(LT(),MT())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=jh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(L(231,e,typeof n));return n}var Cm=!1;if($r)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Cm=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Cm=!1}function fb(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var kl=!1,Nd=null,Od=!1,xm=null,pb={onError:function(t){kl=!0,Nd=t}};function mb(t,e,n,r,i,s,o,a,l){kl=!1,Nd=null,fb.apply(pb,arguments)}function gb(t,e,n,r,i,s,o,a,l){if(mb.apply(this,arguments),kl){if(kl){var u=Nd;kl=!1,Nd=null}else throw Error(L(198));Od||(Od=!0,xm=u)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $T(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function f0(t){if(Ys(t)!==t)throw Error(L(188))}function yb(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(L(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f0(i),t;if(s===r)return f0(i),e;s=s.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?t:e}function UT(t){return t=yb(t),t!==null?BT(t):null}function BT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BT(t);if(e!==null)return e;t=t.sibling}return null}var zT=dn.unstable_scheduleCallback,p0=dn.unstable_cancelCallback,vb=dn.unstable_shouldYield,_b=dn.unstable_requestPaint,Je=dn.unstable_now,wb=dn.unstable_getCurrentPriorityLevel,py=dn.unstable_ImmediatePriority,jT=dn.unstable_UserBlockingPriority,Md=dn.unstable_NormalPriority,Eb=dn.unstable_LowPriority,qT=dn.unstable_IdlePriority,$h=null,ur=null;function Ib(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot($h,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:Rb,Tb=Math.log,Sb=Math.LN2;function Rb(t){return t>>>=0,t===0?32:31-(Tb(t)/Sb|0)|0}var xc=64,bc=4194304;function Tl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Tl(a):(s&=o,s!==0&&(r=Tl(s)))}else o=n&~i,o!==0?r=Tl(o):s!==0&&(r=Tl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zn(e),i=1<<n,r|=t[n],e&=~i;return r}function Pb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ab(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Pb(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HT(){var t=xc;return xc<<=1,!(xc&4194240)&&(xc=64),t}function hp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ju(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=n}function Cb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-zn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function my(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pe=0;function WT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KT,gy,GT,QT,YT,km=!1,kc=[],Ii=null,Ti=null,Si=null,Yl=new Map,Xl=new Map,ai=[],xb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m0(t,e){switch(t){case"focusin":case"focusout":Ii=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function nl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hu(e),e!==null&&gy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function bb(t,e,n,r,i){switch(e){case"focusin":return Ii=nl(Ii,t,e,n,r,i),!0;case"dragenter":return Ti=nl(Ti,t,e,n,r,i),!0;case"mouseover":return Si=nl(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yl.set(s,nl(Yl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xl.set(s,nl(Xl.get(s)||null,t,e,n,r,i)),!0}return!1}function XT(t){var e=fs(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=$T(n),e!==null){t.blockedOn=e,YT(t.priority,function(){GT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pm=r,n.target.dispatchEvent(r),Pm=null}else return e=Hu(n),e!==null&&gy(e),t.blockedOn=n,!1;e.shift()}return!0}function g0(t,e,n){sd(t)&&n.delete(e)}function kb(){km=!1,Ii!==null&&sd(Ii)&&(Ii=null),Ti!==null&&sd(Ti)&&(Ti=null),Si!==null&&sd(Si)&&(Si=null),Yl.forEach(g0),Xl.forEach(g0)}function rl(t,e){t.blockedOn===e&&(t.blockedOn=null,km||(km=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,kb)))}function Jl(t){function e(i){return rl(i,t)}if(0<kc.length){rl(kc[0],t);for(var n=1;n<kc.length;n++){var r=kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ii!==null&&rl(Ii,t),Ti!==null&&rl(Ti,t),Si!==null&&rl(Si,t),Yl.forEach(e),Xl.forEach(e),n=0;n<ai.length;n++)r=ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ai.length&&(n=ai[0],n.blockedOn===null);)XT(n),n.blockedOn===null&&ai.shift()}var Uo=Kr.ReactCurrentBatchConfig,Ld=!0;function Db(t,e,n,r){var i=Pe,s=Uo.transition;Uo.transition=null;try{Pe=1,yy(t,e,n,r)}finally{Pe=i,Uo.transition=s}}function Nb(t,e,n,r){var i=Pe,s=Uo.transition;Uo.transition=null;try{Pe=4,yy(t,e,n,r)}finally{Pe=i,Uo.transition=s}}function yy(t,e,n,r){if(Ld){var i=Dm(t,e,n,r);if(i===null)Ip(t,e,r,Fd,n),m0(t,r);else if(bb(i,t,e,n,r))r.stopPropagation();else if(m0(t,r),e&4&&-1<xb.indexOf(t)){for(;i!==null;){var s=Hu(i);if(s!==null&&KT(s),s=Dm(t,e,n,r),s===null&&Ip(t,e,r,Fd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ip(t,e,r,null,n)}}var Fd=null;function Dm(t,e,n,r){if(Fd=null,t=fy(r),t=fs(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$T(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fd=t,null}function JT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wb()){case py:return 1;case jT:return 4;case Md:case Eb:return 16;case qT:return 536870912;default:return 16}default:return 16}}var vi=null,vy=null,od=null;function ZT(){if(od)return od;var t,e=vy,n=e.length,r,i="value"in vi?vi.value:vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return od=i.slice(t,1<r?1-r:void 0)}function ad(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dc(){return!0}function y0(){return!1}function mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Dc:y0,this.isPropagationStopped=y0,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),e}var ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_y=mn(ba),qu=qe({},ba,{view:0,detail:0}),Ob=mn(qu),fp,pp,il,Uh=qe({},qu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==il&&(il&&t.type==="mousemove"?(fp=t.screenX-il.screenX,pp=t.screenY-il.screenY):pp=fp=0,il=t),fp)},movementY:function(t){return"movementY"in t?t.movementY:pp}}),v0=mn(Uh),Mb=qe({},Uh,{dataTransfer:0}),Vb=mn(Mb),Lb=qe({},qu,{relatedTarget:0}),mp=mn(Lb),Fb=qe({},ba,{animationName:0,elapsedTime:0,pseudoElement:0}),$b=mn(Fb),Ub=qe({},ba,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bb=mn(Ub),zb=qe({},ba,{data:0}),_0=mn(zb),jb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hb[t])?!!e[t]:!1}function wy(){return Wb}var Kb=qe({},qu,{key:function(t){if(t.key){var e=jb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ad(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(t){return t.type==="keypress"?ad(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ad(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gb=mn(Kb),Qb=qe({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=mn(Qb),Yb=qe({},qu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),Xb=mn(Yb),Jb=qe({},ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zb=mn(Jb),ek=qe({},Uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tk=mn(ek),nk=[9,13,27,32],Ey=$r&&"CompositionEvent"in window,Dl=null;$r&&"documentMode"in document&&(Dl=document.documentMode);var rk=$r&&"TextEvent"in window&&!Dl,e1=$r&&(!Ey||Dl&&8<Dl&&11>=Dl),E0=String.fromCharCode(32),I0=!1;function t1(t,e){switch(t){case"keyup":return nk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function n1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function ik(t,e){switch(t){case"compositionend":return n1(e);case"keypress":return e.which!==32?null:(I0=!0,E0);case"textInput":return t=e.data,t===E0&&I0?null:t;default:return null}}function sk(t,e){if(So)return t==="compositionend"||!Ey&&t1(t,e)?(t=ZT(),od=vy=vi=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return e1&&e.locale!=="ko"?null:e.data;default:return null}}var ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ok[t.type]:e==="textarea"}function r1(t,e,n,r){OT(r),e=$d(e,"onChange"),0<e.length&&(n=new _y("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nl=null,Zl=null;function ak(t){p1(t,0)}function Bh(t){var e=Ao(t);if(AT(e))return t}function lk(t,e){if(t==="change")return e}var i1=!1;if($r){var gp;if($r){var yp="oninput"in document;if(!yp){var S0=document.createElement("div");S0.setAttribute("oninput","return;"),yp=typeof S0.oninput=="function"}gp=yp}else gp=!1;i1=gp&&(!document.documentMode||9<document.documentMode)}function R0(){Nl&&(Nl.detachEvent("onpropertychange",s1),Zl=Nl=null)}function s1(t){if(t.propertyName==="value"&&Bh(Zl)){var e=[];r1(e,Zl,t,fy(t)),FT(ak,e)}}function uk(t,e,n){t==="focusin"?(R0(),Nl=e,Zl=n,Nl.attachEvent("onpropertychange",s1)):t==="focusout"&&R0()}function ck(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bh(Zl)}function dk(t,e){if(t==="click")return Bh(e)}function hk(t,e){if(t==="input"||t==="change")return Bh(e)}function fk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:fk;function eu(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!pm.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function P0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function A0(t,e){var n=P0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P0(n)}}function o1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?o1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function a1(){for(var t=window,e=Dd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dd(t.document)}return e}function Iy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pk(t){var e=a1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&o1(n.ownerDocument.documentElement,n)){if(r!==null&&Iy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=A0(n,s);var o=A0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mk=$r&&"documentMode"in document&&11>=document.documentMode,Ro=null,Nm=null,Ol=null,Om=!1;function C0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||Ro==null||Ro!==Dd(r)||(r=Ro,"selectionStart"in r&&Iy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&eu(Ol,r)||(Ol=r,r=$d(Nm,"onSelect"),0<r.length&&(e=new _y("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function Nc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},vp={},l1={};$r&&(l1=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function zh(t){if(vp[t])return vp[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in l1)return vp[t]=e[n];return t}var u1=zh("animationend"),c1=zh("animationiteration"),d1=zh("animationstart"),h1=zh("transitionend"),f1=new Map,x0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(t,e){f1.set(t,e),Qs(e,[t])}for(var _p=0;_p<x0.length;_p++){var wp=x0[_p],gk=wp.toLowerCase(),yk=wp[0].toUpperCase()+wp.slice(1);ji(gk,"on"+yk)}ji(u1,"onAnimationEnd");ji(c1,"onAnimationIteration");ji(d1,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(h1,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function b0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gb(r,e,void 0,t),t.currentTarget=null}function p1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,u),s=l}}}if(Od)throw t=xm,Od=!1,xm=null,t}function Ne(t,e){var n=e[$m];n===void 0&&(n=e[$m]=new Set);var r=t+"__bubble";n.has(r)||(m1(e,t,2,!1),n.add(r))}function Ep(t,e,n){var r=0;e&&(r|=4),m1(n,t,r,e)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[Oc]){t[Oc]=!0,IT.forEach(function(n){n!=="selectionchange"&&(vk.has(n)||Ep(n,!1,t),Ep(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oc]||(e[Oc]=!0,Ep("selectionchange",!1,e))}}function m1(t,e,n,r){switch(JT(e)){case 1:var i=Db;break;case 4:i=Nb;break;default:i=yy}n=i.bind(null,e,n,t),i=void 0,!Cm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ip(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FT(function(){var u=s,c=fy(n),d=[];e:{var h=f1.get(t);if(h!==void 0){var f=_y,y=t;switch(t){case"keypress":if(ad(n)===0)break e;case"keydown":case"keyup":f=Gb;break;case"focusin":y="focus",f=mp;break;case"focusout":y="blur",f=mp;break;case"beforeblur":case"afterblur":f=mp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Vb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Xb;break;case u1:case c1:case d1:f=$b;break;case h1:f=Zb;break;case"scroll":f=Ob;break;case"wheel":f=tk;break;case"copy":case"cut":case"paste":f=Bb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=w0}var v=(e&4)!==0,w=!v&&t==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,_;g!==null;){_=g;var p=_.stateNode;if(_.tag===5&&p!==null&&(_=p,m!==null&&(p=Ql(g,m),p!=null&&v.push(nu(g,p,_)))),w)break;g=g.return}0<v.length&&(h=new f(h,y,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Pm&&(y=n.relatedTarget||n.fromElement)&&(fs(y)||y[Ur]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(y=n.relatedTarget||n.toElement,f=u,y=y?fs(y):null,y!==null&&(w=Ys(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(v=v0,p="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=w0,p="onPointerLeave",m="onPointerEnter",g="pointer"),w=f==null?h:Ao(f),_=y==null?h:Ao(y),h=new v(p,g+"leave",f,n,c),h.target=w,h.relatedTarget=_,p=null,fs(c)===u&&(v=new v(m,g+"enter",y,n,c),v.target=_,v.relatedTarget=w,p=v),w=p,f&&y)t:{for(v=f,m=y,g=0,_=v;_;_=ao(_))g++;for(_=0,p=m;p;p=ao(p))_++;for(;0<g-_;)v=ao(v),g--;for(;0<_-g;)m=ao(m),_--;for(;g--;){if(v===m||m!==null&&v===m.alternate)break t;v=ao(v),m=ao(m)}v=null}else v=null;f!==null&&k0(d,h,f,v,!1),y!==null&&w!==null&&k0(d,w,y,v,!0)}}e:{if(h=u?Ao(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=lk;else if(T0(h))if(i1)I=hk;else{I=ck;var T=uk}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=dk);if(I&&(I=I(t,u))){r1(d,I,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Em(h,"number",h.value)}switch(T=u?Ao(u):window,t){case"focusin":(T0(T)||T.contentEditable==="true")&&(Ro=T,Nm=u,Ol=null);break;case"focusout":Ol=Nm=Ro=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,C0(d,n,c);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":C0(d,n,c)}var R;if(Ey)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else So?t1(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(e1&&n.locale!=="ko"&&(So||C!=="onCompositionStart"?C==="onCompositionEnd"&&So&&(R=ZT()):(vi=c,vy="value"in vi?vi.value:vi.textContent,So=!0)),T=$d(u,C),0<T.length&&(C=new _0(C,t,null,n,c),d.push({event:C,listeners:T}),R?C.data=R:(R=n1(n),R!==null&&(C.data=R)))),(R=rk?ik(t,n):sk(t,n))&&(u=$d(u,"onBeforeInput"),0<u.length&&(c=new _0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=R))}p1(d,e)})}function nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $d(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ql(t,n),s!=null&&r.unshift(nu(t,s,i)),s=Ql(t,e),s!=null&&r.push(nu(t,s,i))),t=t.return}return r}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ql(n,s),l!=null&&o.unshift(nu(n,l,a))):i||(l=Ql(n,s),l!=null&&o.push(nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _k=/\r\n?/g,wk=/\u0000|\uFFFD/g;function D0(t){return(typeof t=="string"?t:""+t).replace(_k,`
`).replace(wk,"")}function Mc(t,e,n){if(e=D0(e),D0(t)!==e&&n)throw Error(L(425))}function Ud(){}var Mm=null,Vm=null;function Lm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fm=typeof setTimeout=="function"?setTimeout:void 0,Ek=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,Ik=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(Tk)}:Fm;function Tk(t){setTimeout(function(){throw t})}function Tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jl(e)}function Ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ka=Math.random().toString(36).slice(2),tr="__reactFiber$"+ka,ru="__reactProps$"+ka,Ur="__reactContainer$"+ka,$m="__reactEvents$"+ka,Sk="__reactListeners$"+ka,Rk="__reactHandles$"+ka;function fs(t){var e=t[tr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ur]||n[tr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O0(t);t!==null;){if(n=t[tr])return n;t=O0(t)}return e}t=n,n=t.parentNode}return null}function Hu(t){return t=t[tr]||t[Ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(L(33))}function jh(t){return t[ru]||null}var Um=[],Co=-1;function qi(t){return{current:t}}function Me(t){0>Co||(t.current=Um[Co],Um[Co]=null,Co--)}function De(t,e){Co++,Um[Co]=t.current,t.current=e}var Vi={},Ot=qi(Vi),Jt=qi(!1),xs=Vi;function la(t,e){var n=t.type.contextTypes;if(!n)return Vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zt(t){return t=t.childContextTypes,t!=null}function Bd(){Me(Jt),Me(Ot)}function M0(t,e,n){if(Ot.current!==Vi)throw Error(L(168));De(Ot,e),De(Jt,n)}function g1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(L(108,ub(t)||"Unknown",i));return qe({},n,r)}function zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,xs=Ot.current,De(Ot,t),De(Jt,Jt.current),!0}function V0(t,e,n){var r=t.stateNode;if(!r)throw Error(L(169));n?(t=g1(t,e,xs),r.__reactInternalMemoizedMergedChildContext=t,Me(Jt),Me(Ot),De(Ot,t)):Me(Jt),De(Jt,n)}var Sr=null,qh=!1,Sp=!1;function y1(t){Sr===null?Sr=[t]:Sr.push(t)}function Pk(t){qh=!0,y1(t)}function Hi(){if(!Sp&&Sr!==null){Sp=!0;var t=0,e=Pe;try{var n=Sr;for(Pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,qh=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),zT(py,Hi),i}finally{Pe=e,Sp=!1}}return null}var xo=[],bo=0,jd=null,qd=0,wn=[],En=0,bs=null,Ar=1,Cr="";function ss(t,e){xo[bo++]=qd,xo[bo++]=jd,jd=t,qd=e}function v1(t,e,n){wn[En++]=Ar,wn[En++]=Cr,wn[En++]=bs,bs=t;var r=Ar;t=Cr;var i=32-zn(r)-1;r&=~(1<<i),n+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ar=1<<32-zn(e)+i|n<<i|r,Cr=s+t}else Ar=1<<s|n<<i|r,Cr=t}function Ty(t){t.return!==null&&(ss(t,1),v1(t,1,0))}function Sy(t){for(;t===jd;)jd=xo[--bo],xo[bo]=null,qd=xo[--bo],xo[bo]=null;for(;t===bs;)bs=wn[--En],wn[En]=null,Cr=wn[--En],wn[En]=null,Ar=wn[--En],wn[En]=null}var un=null,an=null,Ve=!1,Un=null;function _1(t,e){var n=Tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function L0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=Ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bs!==null?{id:Ar,overflow:Cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function Bm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zm(t){if(Ve){var e=an;if(e){var n=e;if(!L0(t,e)){if(Bm(t))throw Error(L(418));e=Ri(n.nextSibling);var r=un;e&&L0(t,e)?_1(r,n):(t.flags=t.flags&-4097|2,Ve=!1,un=t)}}else{if(Bm(t))throw Error(L(418));t.flags=t.flags&-4097|2,Ve=!1,un=t}}}function F0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function Vc(t){if(t!==un)return!1;if(!Ve)return F0(t),Ve=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lm(t.type,t.memoizedProps)),e&&(e=an)){if(Bm(t))throw w1(),Error(L(418));for(;e;)_1(t,e),e=Ri(e.nextSibling)}if(F0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(L(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=Ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?Ri(t.stateNode.nextSibling):null;return!0}function w1(){for(var t=an;t;)t=Ri(t.nextSibling)}function ua(){an=un=null,Ve=!1}function Ry(t){Un===null?Un=[t]:Un.push(t)}var Ak=Kr.ReactCurrentBatchConfig;function Mn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hd=qi(null),Wd=null,ko=null,Py=null;function Ay(){Py=ko=Wd=null}function Cy(t){var e=Hd.current;Me(Hd),t._currentValue=e}function jm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bo(t,e){Wd=t,Py=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function An(t){var e=t._currentValue;if(Py!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(Wd===null)throw Error(L(308));ko=t,Wd.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var ps=null;function xy(t){ps===null?ps=[t]:ps.push(t)}function E1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Br(t,r)}function Br(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oi=!1;function by(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function I1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Br(t,n)}return i=r.interleaved,i===null?(e.next=e,xy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Br(t,n)}function ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}function $0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kd(t,e,n,r){var i=t.updateQueue;oi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,v=a;switch(h=e,f=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(f,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(f,d,h):y,h==null)break e;d=qe({},d,h);break e;case 2:oi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ds|=o,t.lanes=o,t.memoizedState=d}}function U0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var T1=new ET.Component().refs;function qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hh={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Ci(t),s=Mr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(jn(e,t,i,r),ld(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),i=Ci(t),s=Mr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Pi(t,s,i),e!==null&&(jn(e,t,i,r),ld(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=Ci(t),i=Mr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Pi(t,i,r),e!==null&&(jn(e,t,r,n),ld(e,t,r))}};function B0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!eu(n,r)||!eu(i,s):!0}function S1(t,e,n){var r=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=Zt(e)?xs:Ot.current,r=e.contextTypes,s=(r=r!=null)?la(t,i):Vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function z0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hh.enqueueReplaceState(e,e.state,null)}function Hm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=T1,by(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=Zt(e)?xs:Ot.current,i.context=la(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(qm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hh.enqueueReplaceState(i,i.state,null),Kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===T1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,t))}return t}function Lc(t,e){throw t=Object.prototype.toString.call(e),Error(L(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function j0(t){var e=t._init;return e(t._payload)}function R1(t){function e(m,g){if(t){var _=m.deletions;_===null?(m.deletions=[g],m.flags|=16):_.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function i(m,g){return m=xi(m,g),m.index=0,m.sibling=null,m}function s(m,g,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<g?(m.flags|=2,g):_):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,_,p){return g===null||g.tag!==6?(g=kp(_,m.mode,p),g.return=m,g):(g=i(g,_),g.return=m,g)}function l(m,g,_,p){var I=_.type;return I===To?c(m,g,_.props.children,p,_.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===si&&j0(I)===g.type)?(p=i(g,_.props),p.ref=sl(m,g,_),p.return=m,p):(p=pd(_.type,_.key,_.props,null,m.mode,p),p.ref=sl(m,g,_),p.return=m,p)}function u(m,g,_,p){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Dp(_,m.mode,p),g.return=m,g):(g=i(g,_.children||[]),g.return=m,g)}function c(m,g,_,p,I){return g===null||g.tag!==7?(g=Rs(_,m.mode,p,I),g.return=m,g):(g=i(g,_),g.return=m,g)}function d(m,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=kp(""+g,m.mode,_),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Pc:return _=pd(g.type,g.key,g.props,null,m.mode,_),_.ref=sl(m,null,g),_.return=m,_;case Io:return g=Dp(g,m.mode,_),g.return=m,g;case si:var p=g._init;return d(m,p(g._payload),_)}if(Il(g)||el(g))return g=Rs(g,m.mode,_,null),g.return=m,g;Lc(m,g)}return null}function h(m,g,_,p){var I=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return I!==null?null:a(m,g,""+_,p);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pc:return _.key===I?l(m,g,_,p):null;case Io:return _.key===I?u(m,g,_,p):null;case si:return I=_._init,h(m,g,I(_._payload),p)}if(Il(_)||el(_))return I!==null?null:c(m,g,_,p,null);Lc(m,_)}return null}function f(m,g,_,p,I){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(_)||null,a(g,m,""+p,I);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Pc:return m=m.get(p.key===null?_:p.key)||null,l(g,m,p,I);case Io:return m=m.get(p.key===null?_:p.key)||null,u(g,m,p,I);case si:var T=p._init;return f(m,g,_,T(p._payload),I)}if(Il(p)||el(p))return m=m.get(_)||null,c(g,m,p,I,null);Lc(g,p)}return null}function y(m,g,_,p){for(var I=null,T=null,R=g,C=g=0,D=null;R!==null&&C<_.length;C++){R.index>C?(D=R,R=null):D=R.sibling;var N=h(m,R,_[C],p);if(N===null){R===null&&(R=D);break}t&&R&&N.alternate===null&&e(m,R),g=s(N,g,C),T===null?I=N:T.sibling=N,T=N,R=D}if(C===_.length)return n(m,R),Ve&&ss(m,C),I;if(R===null){for(;C<_.length;C++)R=d(m,_[C],p),R!==null&&(g=s(R,g,C),T===null?I=R:T.sibling=R,T=R);return Ve&&ss(m,C),I}for(R=r(m,R);C<_.length;C++)D=f(R,m,C,_[C],p),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?C:D.key),g=s(D,g,C),T===null?I=D:T.sibling=D,T=D);return t&&R.forEach(function(U){return e(m,U)}),Ve&&ss(m,C),I}function v(m,g,_,p){var I=el(_);if(typeof I!="function")throw Error(L(150));if(_=I.call(_),_==null)throw Error(L(151));for(var T=I=null,R=g,C=g=0,D=null,N=_.next();R!==null&&!N.done;C++,N=_.next()){R.index>C?(D=R,R=null):D=R.sibling;var U=h(m,R,N.value,p);if(U===null){R===null&&(R=D);break}t&&R&&U.alternate===null&&e(m,R),g=s(U,g,C),T===null?I=U:T.sibling=U,T=U,R=D}if(N.done)return n(m,R),Ve&&ss(m,C),I;if(R===null){for(;!N.done;C++,N=_.next())N=d(m,N.value,p),N!==null&&(g=s(N,g,C),T===null?I=N:T.sibling=N,T=N);return Ve&&ss(m,C),I}for(R=r(m,R);!N.done;C++,N=_.next())N=f(R,m,C,N.value,p),N!==null&&(t&&N.alternate!==null&&R.delete(N.key===null?C:N.key),g=s(N,g,C),T===null?I=N:T.sibling=N,T=N);return t&&R.forEach(function(q){return e(m,q)}),Ve&&ss(m,C),I}function w(m,g,_,p){if(typeof _=="object"&&_!==null&&_.type===To&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Pc:e:{for(var I=_.key,T=g;T!==null;){if(T.key===I){if(I=_.type,I===To){if(T.tag===7){n(m,T.sibling),g=i(T,_.props.children),g.return=m,m=g;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===si&&j0(I)===T.type){n(m,T.sibling),g=i(T,_.props),g.ref=sl(m,T,_),g.return=m,m=g;break e}n(m,T);break}else e(m,T);T=T.sibling}_.type===To?(g=Rs(_.props.children,m.mode,p,_.key),g.return=m,m=g):(p=pd(_.type,_.key,_.props,null,m.mode,p),p.ref=sl(m,g,_),p.return=m,m=p)}return o(m);case Io:e:{for(T=_.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(m,g.sibling),g=i(g,_.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=Dp(_,m.mode,p),g.return=m,m=g}return o(m);case si:return T=_._init,w(m,g,T(_._payload),p)}if(Il(_))return y(m,g,_,p);if(el(_))return v(m,g,_,p);Lc(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(m,g.sibling),g=i(g,_),g.return=m,m=g):(n(m,g),g=kp(_,m.mode,p),g.return=m,m=g),o(m)):n(m,g)}return w}var ca=R1(!0),P1=R1(!1),Wu={},cr=qi(Wu),iu=qi(Wu),su=qi(Wu);function ms(t){if(t===Wu)throw Error(L(174));return t}function ky(t,e){switch(De(su,e),De(iu,t),De(cr,Wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tm(e,t)}Me(cr),De(cr,e)}function da(){Me(cr),Me(iu),Me(su)}function A1(t){ms(su.current);var e=ms(cr.current),n=Tm(e,t.type);e!==n&&(De(iu,t),De(cr,n))}function Dy(t){iu.current===t&&(Me(cr),Me(iu))}var Ue=qi(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rp=[];function Ny(){for(var t=0;t<Rp.length;t++)Rp[t]._workInProgressVersionPrimary=null;Rp.length=0}var ud=Kr.ReactCurrentDispatcher,Pp=Kr.ReactCurrentBatchConfig,ks=0,ze=null,st=null,dt=null,Qd=!1,Ml=!1,ou=0,Ck=0;function Pt(){throw Error(L(321))}function Oy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function My(t,e,n,r,i,s){if(ks=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ud.current=t===null||t.memoizedState===null?Dk:Nk,t=n(r,i),Ml){s=0;do{if(Ml=!1,ou=0,25<=s)throw Error(L(301));s+=1,dt=st=null,e.updateQueue=null,ud.current=Ok,t=n(r,i)}while(Ml)}if(ud.current=Yd,e=st!==null&&st.next!==null,ks=0,dt=st=ze=null,Qd=!1,e)throw Error(L(300));return t}function Vy(){var t=ou!==0;return ou=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?ze.memoizedState=dt=t:dt=dt.next=t,dt}function Cn(){if(st===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=dt===null?ze.memoizedState:dt.next;if(e!==null)dt=e,st=t;else{if(t===null)throw Error(L(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},dt===null?ze.memoizedState=dt=t:dt=dt.next=t}return dt}function au(t,e){return typeof e=="function"?e(t):e}function Ap(t){var e=Cn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=st,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ks&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,ze.lanes|=c,Ds|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,qn(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,Ds|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Cp(t){var e=Cn(),n=e.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qn(s,e.memoizedState)||(Qt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function C1(){}function x1(t,e){var n=ze,r=Cn(),i=e(),s=!qn(r.memoizedState,i);if(s&&(r.memoizedState=i,Qt=!0),r=r.queue,Ly(D1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,lu(9,k1.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(L(349));ks&30||b1(n,e,i)}return i}function b1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k1(t,e,n,r){e.value=n,e.getSnapshot=r,N1(e)&&O1(t)}function D1(t,e,n){return n(function(){N1(e)&&O1(t)})}function N1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function O1(t){var e=Br(t,1);e!==null&&jn(e,t,1,-1)}function q0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:t},e.queue=t,t=t.dispatch=kk.bind(null,ze,t),[e.memoizedState,t]}function lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function M1(){return Cn().memoizedState}function cd(t,e,n,r){var i=Xn();ze.flags|=t,i.memoizedState=lu(1|e,n,void 0,r===void 0?null:r)}function Wh(t,e,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,r!==null&&Oy(r,o.deps)){i.memoizedState=lu(e,n,s,r);return}}ze.flags|=t,i.memoizedState=lu(1|e,n,s,r)}function H0(t,e){return cd(8390656,8,t,e)}function Ly(t,e){return Wh(2048,8,t,e)}function V1(t,e){return Wh(4,2,t,e)}function L1(t,e){return Wh(4,4,t,e)}function F1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $1(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4,4,F1.bind(null,e,t),n)}function Fy(){}function U1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function B1(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Oy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function z1(t,e,n){return ks&21?(qn(n,e)||(n=HT(),ze.lanes|=n,Ds|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function xk(t,e){var n=Pe;Pe=n!==0&&4>n?n:4,t(!0);var r=Pp.transition;Pp.transition={};try{t(!1),e()}finally{Pe=n,Pp.transition=r}}function j1(){return Cn().memoizedState}function bk(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},q1(t))H1(e,n);else if(n=E1(t,e,n,r),n!==null){var i=Ut();jn(n,t,r,i),W1(n,e,r)}}function kk(t,e,n){var r=Ci(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(q1(t))H1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qn(a,o)){var l=e.interleaved;l===null?(i.next=i,xy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=E1(t,e,i,r),n!==null&&(i=Ut(),jn(n,t,r,i),W1(n,e,r))}}function q1(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function H1(t,e){Ml=Qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function W1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,my(t,n)}}var Yd={readContext:An,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},Dk={readContext:An,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:An,useEffect:H0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cd(4194308,4,F1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return cd(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bk.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:q0,useDebugValue:Fy,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=q0(!1),e=t[0];return t=xk.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Xn();if(Ve){if(n===void 0)throw Error(L(407));n=n()}else{if(n=e(),ht===null)throw Error(L(349));ks&30||b1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,H0(D1.bind(null,r,s,t),[t]),r.flags|=2048,lu(9,k1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Xn(),e=ht.identifierPrefix;if(Ve){var n=Cr,r=Ar;n=(r&~(1<<32-zn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ck++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nk={readContext:An,useCallback:U1,useContext:An,useEffect:Ly,useImperativeHandle:$1,useInsertionEffect:V1,useLayoutEffect:L1,useMemo:B1,useReducer:Ap,useRef:M1,useState:function(){return Ap(au)},useDebugValue:Fy,useDeferredValue:function(t){var e=Cn();return z1(e,st.memoizedState,t)},useTransition:function(){var t=Ap(au)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:C1,useSyncExternalStore:x1,useId:j1,unstable_isNewReconciler:!1},Ok={readContext:An,useCallback:U1,useContext:An,useEffect:Ly,useImperativeHandle:$1,useInsertionEffect:V1,useLayoutEffect:L1,useMemo:B1,useReducer:Cp,useRef:M1,useState:function(){return Cp(au)},useDebugValue:Fy,useDeferredValue:function(t){var e=Cn();return st===null?e.memoizedState=t:z1(e,st.memoizedState,t)},useTransition:function(){var t=Cp(au)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:C1,useSyncExternalStore:x1,useId:j1,unstable_isNewReconciler:!1};function ha(t,e){try{var n="",r=e;do n+=lb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function xp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Mk=typeof WeakMap=="function"?WeakMap:Map;function K1(t,e,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jd||(Jd=!0,ng=r),Wm(t,e)},n}function G1(t,e,n){n=Mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wm(t,e),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function W0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Mk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Qk.bind(null,t,e,n),e.then(t,t))}function K0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Mr(-1,1),e.tag=2,Pi(n,e,1))),n.lanes|=1),t)}var Vk=Kr.ReactCurrentOwner,Qt=!1;function Vt(t,e,n,r){e.child=t===null?P1(e,null,n,r):ca(e,t.child,n,r)}function Q0(t,e,n,r,i){n=n.render;var s=e.ref;return Bo(e,i),r=My(t,e,n,r,s,i),n=Vy(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ve&&n&&Ty(e),e.flags|=1,Vt(t,e,r,i),e.child)}function Y0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Wy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Q1(t,e,s,r,i)):(t=pd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(o,r)&&t.ref===e.ref)return zr(t,e,i)}return e.flags|=1,t=xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Q1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(eu(s,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,zr(t,e,i)}return Km(t,e,n,r,i)}function Y1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(No,sn),sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(No,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(No,sn),sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(No,sn),sn|=r;return Vt(t,e,i,n),e.child}function X1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Km(t,e,n,r,i){var s=Zt(n)?xs:Ot.current;return s=la(e,s),Bo(e,i),n=My(t,e,n,r,s,i),r=Vy(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zr(t,e,i)):(Ve&&r&&Ty(e),e.flags|=1,Vt(t,e,n,i),e.child)}function X0(t,e,n,r,i){if(Zt(n)){var s=!0;zd(e)}else s=!1;if(Bo(e,i),e.stateNode===null)dd(t,e),S1(e,n,r),Hm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=An(u):(u=Zt(n)?xs:Ot.current,u=la(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&z0(e,o,r,u),oi=!1;var h=e.memoizedState;o.state=h,Kd(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Jt.current||oi?(typeof c=="function"&&(qm(e,n,c,r),l=e.memoizedState),(a=oi||B0(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,I1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=An(l):(l=Zt(n)?xs:Ot.current,l=la(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&z0(e,o,r,l),oi=!1,h=e.memoizedState,o.state=h,Kd(e,r,o,i);var y=e.memoizedState;a!==d||h!==y||Jt.current||oi?(typeof f=="function"&&(qm(e,n,f,r),y=e.memoizedState),(u=oi||B0(e,n,u,r,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Gm(t,e,n,r,s,i)}function Gm(t,e,n,r,i,s){X1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&V0(e,n,!1),zr(t,e,s);r=e.stateNode,Vk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ca(e,t.child,null,s),e.child=ca(e,null,a,s)):Vt(t,e,a,s),e.memoizedState=r.state,i&&V0(e,n,!0),e.child}function J1(t){var e=t.stateNode;e.pendingContext?M0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M0(t,e.context,!1),ky(t,e.containerInfo)}function J0(t,e,n,r,i){return ua(),Ry(i),e.flags|=256,Vt(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0};function Ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z1(t,e,n){var r=e.pendingProps,i=Ue.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(Ue,i&1),t===null)return zm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Qh(o,r,0,null),t=Rs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ym(n),e.memoizedState=Qm,t):$y(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Lk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xi(a,s):(s=Rs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ym(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Qm,r}return s=t.child,t=s.sibling,r=xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $y(t,e){return e=Qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,r){return r!==null&&Ry(r),ca(e,t.child,null,n),t=$y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=xp(Error(L(422))),Fc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Qh({mode:"visible",children:r.children},i,0,null),s=Rs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ca(e,t.child,null,o),e.child.memoizedState=Ym(o),e.memoizedState=Qm,s);if(!(e.mode&1))return Fc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(L(419)),r=xp(s,r,void 0),Fc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Qt||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Br(t,i),jn(r,t,i,-1))}return Hy(),r=xp(Error(L(421))),Fc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Yk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,an=Ri(i.nextSibling),un=e,Ve=!0,Un=null,t!==null&&(wn[En++]=Ar,wn[En++]=Cr,wn[En++]=bs,Ar=t.id,Cr=t.overflow,bs=e),e=$y(e,r.children),e.flags|=4096,e)}function Z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jm(t.return,e,n)}function bp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vt(t,e,r.children,n),r=Ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z0(t,n,e);else if(t.tag===19)Z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(Ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),bp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}bp(e,!0,n,null,s);break;case"together":bp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ds|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(L(153));if(e.child!==null){for(t=e.child,n=xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fk(t,e,n){switch(e.tag){case 3:J1(e),ua();break;case 5:A1(e);break;case 1:Zt(e.type)&&zd(e);break;case 4:ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Hd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(Ue,Ue.current&1),e.flags|=128,null):n&e.child.childLanes?Z1(t,e,n):(De(Ue,Ue.current&1),t=zr(t,e,n),t!==null?t.sibling:null);De(Ue,Ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ue,Ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Y1(t,e,n)}return zr(t,e,n)}var tS,Xm,nS,rS;tS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xm=function(){};nS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ms(cr.current);var s=null;switch(n){case"input":i=_m(t,i),r=_m(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=Im(t,i),r=Im(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ud)}Sm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Kl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ne("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ol(t,e){if(!Ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $k(t,e,n){var r=e.pendingProps;switch(Sy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Zt(e.type)&&Bd(),At(e),null;case 3:return r=e.stateNode,da(),Me(Jt),Me(Ot),Ny(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Vc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(sg(Un),Un=null))),Xm(t,e),At(e),null;case 5:Dy(e);var i=ms(su.current);if(n=e.type,t!==null&&e.stateNode!=null)nS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(L(166));return At(e),null}if(t=ms(cr.current),Vc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[tr]=e,r[ru]=s,t=(e.mode&1)!==0,n){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ne(Sl[i],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":l0(r,s),Ne("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",r);break;case"textarea":c0(r,s),Ne("invalid",r)}Sm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Mc(r.textContent,a,t),i=["children",""+a]):Kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",r)}switch(n){case"input":Ac(r),u0(r,s,!0);break;case"textarea":Ac(r),d0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ud)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[tr]=e,t[ru]=r,tS(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rm(n,r),n){case"dialog":Ne("cancel",t),Ne("close",t),i=r;break;case"iframe":case"object":case"embed":Ne("load",t),i=r;break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ne(Sl[i],t);i=r;break;case"source":Ne("error",t),i=r;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=r;break;case"details":Ne("toggle",t),i=r;break;case"input":l0(t,r),i=_m(t,r),Ne("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Ne("invalid",t);break;case"textarea":c0(t,r),i=Im(t,r),Ne("invalid",t);break;default:i=r}Sm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?NT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gl(t,l):typeof l=="number"&&Gl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ne("scroll",t):l!=null&&uy(t,s,l,o))}switch(n){case"input":Ac(t),u0(t,r,!1);break;case"textarea":Ac(t),d0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)rS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(L(166));if(n=ms(su.current),ms(cr.current),Vc(e)){if(r=e.stateNode,n=e.memoizedProps,r[tr]=e,(s=r.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:Mc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Mc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=e,e.stateNode=r}return At(e),null;case 13:if(Me(Ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ve&&an!==null&&e.mode&1&&!(e.flags&128))w1(),ua(),e.flags|=98560,s=!1;else if(s=Vc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(L(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(L(317));s[tr]=e}else ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),s=!1}else Un!==null&&(sg(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ue.current&1?ot===0&&(ot=3):Hy())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return da(),Xm(t,e),t===null&&tu(e.stateNode.containerInfo),At(e),null;case 10:return Cy(e.type._context),At(e),null;case 17:return Zt(e.type)&&Bd(),At(e),null;case 19:if(Me(Ue),s=e.memoizedState,s===null)return At(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ol(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,ol(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(Ue,Ue.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>fa&&(e.flags|=128,r=!0,ol(s,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ve)return At(e),null}else 2*Je()-s.renderingStartTime>fa&&n!==1073741824&&(e.flags|=128,r=!0,ol(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=Ue.current,De(Ue,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return qy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function Uk(t,e){switch(Sy(e),e.tag){case 1:return Zt(e.type)&&Bd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return da(),Me(Jt),Me(Ot),Ny(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dy(e),null;case 13:if(Me(Ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(L(340));ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(Ue),null;case 4:return da(),null;case 10:return Cy(e.type._context),null;case 22:case 23:return qy(),null;case 24:return null;default:return null}}var $c=!1,xt=!1,Bk=typeof WeakSet=="function"?WeakSet:Set,Q=null;function Do(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Jm(t,e,n){try{n()}catch(r){He(t,e,r)}}var ew=!1;function zk(t,e){if(Mm=Ld,t=a1(),Iy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vm={focusedElem:t,selectionRange:n},Ld=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:Mn(e.type,v),w);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(p){He(e,e.return,p)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return y=ew,ew=!1,y}function Vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Jm(e,n,s)}i=i.next}while(i!==r)}}function Kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iS(t){var e=t.alternate;e!==null&&(t.alternate=null,iS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[tr],delete e[ru],delete e[$m],delete e[Sk],delete e[Rk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sS(t){return t.tag===5||t.tag===3||t.tag===4}function tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ud));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var yt=null,Fn=!1;function ei(t,e,n){for(n=n.child;n!==null;)oS(t,e,n),n=n.sibling}function oS(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount($h,n)}catch{}switch(n.tag){case 5:xt||Do(n,e);case 6:var r=yt,i=Fn;yt=null,ei(t,e,n),yt=r,Fn=i,yt!==null&&(Fn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Fn?(t=yt,n=n.stateNode,t.nodeType===8?Tp(t.parentNode,n):t.nodeType===1&&Tp(t,n),Jl(t)):Tp(yt,n.stateNode));break;case 4:r=yt,i=Fn,yt=n.stateNode.containerInfo,Fn=!0,ei(t,e,n),yt=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jm(n,e,o),i=i.next}while(i!==r)}ei(t,e,n);break;case 1:if(!xt&&(Do(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}ei(t,e,n);break;case 21:ei(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,ei(t,e,n),xt=r):ei(t,e,n);break;default:ei(t,e,n)}}function nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Bk),e.forEach(function(r){var i=Xk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function On(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Fn=!1;break e;case 3:yt=a.stateNode.containerInfo,Fn=!0;break e;case 4:yt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(yt===null)throw Error(L(160));oS(s,o,i),yt=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){He(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aS(e,t),e=e.sibling}function aS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(On(e,t),Yn(t),r&4){try{Vl(3,t,t.return),Kh(3,t)}catch(v){He(t,t.return,v)}try{Vl(5,t,t.return)}catch(v){He(t,t.return,v)}}break;case 1:On(e,t),Yn(t),r&512&&n!==null&&Do(n,n.return);break;case 5:if(On(e,t),Yn(t),r&512&&n!==null&&Do(n,n.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(v){He(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&CT(i,s),Rm(a,o);var u=Rm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?NT(i,d):c==="dangerouslySetInnerHTML"?kT(i,d):c==="children"?Gl(i,d):uy(i,c,d,u)}switch(a){case"input":wm(i,s);break;case"textarea":xT(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Lo(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[ru]=s}catch(v){He(t,t.return,v)}}break;case 6:if(On(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(L(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){He(t,t.return,v)}}break;case 3:if(On(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(v){He(t,t.return,v)}break;case 4:On(e,t),Yn(t);break;case 13:On(e,t),Yn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zy=Je())),r&4&&nw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||c,On(e,t),xt=u):On(e,t),Yn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Q=t,c=t.child;c!==null;){for(d=Q=c;Q!==null;){switch(h=Q,f=h.child,h.tag){case 0:case 11:case 14:case 15:Vl(4,h,h.return);break;case 1:Do(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){He(r,n,v)}}break;case 5:Do(h,h.return);break;case 22:if(h.memoizedState!==null){iw(d);continue}}f!==null?(f.return=h,Q=f):iw(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DT("display",o))}catch(v){He(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){He(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:On(e,t),Yn(t),r&4&&nw(t);break;case 21:break;default:On(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sS(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var s=tw(t);tg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tw(t);eg(t,a,o);break;default:throw Error(L(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jk(t,e,n){Q=t,lS(t)}function lS(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$c;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=$c;var u=xt;if($c=o,(xt=l)&&!u)for(Q=i;Q!==null;)o=Q,l=o.child,o.tag===22&&o.memoizedState!==null?sw(i):l!==null?(l.return=o,Q=l):sw(i);for(;s!==null;)Q=s,lS(s),s=s.sibling;Q=i,$c=a,xt=u}rw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):rw(t)}}function rw(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Kh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Jl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}xt||e.flags&512&&Zm(e)}catch(h){He(e,e.return,h)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function iw(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function sw(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kh(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Zm(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Zm(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var qk=Math.ceil,Xd=Kr.ReactCurrentDispatcher,Uy=Kr.ReactCurrentOwner,Rn=Kr.ReactCurrentBatchConfig,we=0,ht=null,tt=null,Et=0,sn=0,No=qi(0),ot=0,uu=null,Ds=0,Gh=0,By=0,Ll=null,Gt=null,zy=0,fa=1/0,Tr=null,Jd=!1,ng=null,Ai=null,Uc=!1,_i=null,Zd=0,Fl=0,rg=null,hd=-1,fd=0;function Ut(){return we&6?Je():hd!==-1?hd:hd=Je()}function Ci(t){return t.mode&1?we&2&&Et!==0?Et&-Et:Ak.transition!==null?(fd===0&&(fd=HT()),fd):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:JT(t.type)),t):1}function jn(t,e,n,r){if(50<Fl)throw Fl=0,rg=null,Error(L(185));ju(t,n,r),(!(we&2)||t!==ht)&&(t===ht&&(!(we&2)&&(Gh|=n),ot===4&&li(t,Et)),en(t,r),n===1&&we===0&&!(e.mode&1)&&(fa=Je()+500,qh&&Hi()))}function en(t,e){var n=t.callbackNode;Ab(t,e);var r=Vd(t,t===ht?Et:0);if(r===0)n!==null&&p0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p0(n),e===1)t.tag===0?Pk(ow.bind(null,t)):y1(ow.bind(null,t)),Ik(function(){!(we&6)&&Hi()}),n=null;else{switch(WT(r)){case 1:n=py;break;case 4:n=jT;break;case 16:n=Md;break;case 536870912:n=qT;break;default:n=Md}n=gS(n,uS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uS(t,e){if(hd=-1,fd=0,we&6)throw Error(L(327));var n=t.callbackNode;if(zo()&&t.callbackNode!==n)return null;var r=Vd(t,t===ht?Et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eh(t,r);else{e=r;var i=we;we|=2;var s=dS();(ht!==t||Et!==e)&&(Tr=null,fa=Je()+500,Ss(t,e));do try{Kk();break}catch(a){cS(t,a)}while(1);Ay(),Xd.current=s,we=i,tt!==null?e=0:(ht=null,Et=0,e=ot)}if(e!==0){if(e===2&&(i=bm(t),i!==0&&(r=i,e=ig(t,i))),e===1)throw n=uu,Ss(t,0),li(t,r),en(t,Je()),n;if(e===6)li(t,r);else{if(i=t.current.alternate,!(r&30)&&!Hk(i)&&(e=eh(t,r),e===2&&(s=bm(t),s!==0&&(r=s,e=ig(t,s))),e===1))throw n=uu,Ss(t,0),li(t,r),en(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(L(345));case 2:os(t,Gt,Tr);break;case 3:if(li(t,r),(r&130023424)===r&&(e=zy+500-Je(),10<e)){if(Vd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fm(os.bind(null,t,Gt,Tr),e);break}os(t,Gt,Tr);break;case 4:if(li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-zn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qk(r/1960))-r,10<r){t.timeoutHandle=Fm(os.bind(null,t,Gt,Tr),r);break}os(t,Gt,Tr);break;case 5:os(t,Gt,Tr);break;default:throw Error(L(329))}}}return en(t,Je()),t.callbackNode===n?uS.bind(null,t):null}function ig(t,e){var n=Ll;return t.current.memoizedState.isDehydrated&&(Ss(t,e).flags|=256),t=eh(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&sg(e)),t}function sg(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function Hk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e){for(e&=~By,e&=~Gh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zn(e),r=1<<n;t[n]=-1,e&=~r}}function ow(t){if(we&6)throw Error(L(327));zo();var e=Vd(t,0);if(!(e&1))return en(t,Je()),null;var n=eh(t,e);if(t.tag!==0&&n===2){var r=bm(t);r!==0&&(e=r,n=ig(t,r))}if(n===1)throw n=uu,Ss(t,0),li(t,e),en(t,Je()),n;if(n===6)throw Error(L(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Gt,Tr),en(t,Je()),null}function jy(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(fa=Je()+500,qh&&Hi())}}function Ns(t){_i!==null&&_i.tag===0&&!(we&6)&&zo();var e=we;we|=1;var n=Rn.transition,r=Pe;try{if(Rn.transition=null,Pe=1,t)return t()}finally{Pe=r,Rn.transition=n,we=e,!(we&6)&&Hi()}}function qy(){sn=No.current,Me(No)}function Ss(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ek(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(Sy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bd();break;case 3:da(),Me(Jt),Me(Ot),Ny();break;case 5:Dy(r);break;case 4:da();break;case 13:Me(Ue);break;case 19:Me(Ue);break;case 10:Cy(r.type._context);break;case 22:case 23:qy()}n=n.return}if(ht=t,tt=t=xi(t.current,null),Et=sn=e,ot=0,uu=null,By=Gh=Ds=0,Gt=Ll=null,ps!==null){for(e=0;e<ps.length;e++)if(n=ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ps=null}return t}function cS(t,e){do{var n=tt;try{if(Ay(),ud.current=Yd,Qd){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qd=!1}if(ks=0,dt=st=ze=null,Ml=!1,ou=0,Uy.current=null,n===null||n.return===null){ot=1,uu=e,tt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Et,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=K0(o);if(f!==null){f.flags&=-257,G0(f,o,a,s,e),f.mode&1&&W0(s,u,e),e=f,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){W0(s,u,e),Hy();break e}l=Error(L(426))}}else if(Ve&&a.mode&1){var w=K0(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),G0(w,o,a,s,e),Ry(ha(l,a));break e}}s=l=ha(l,a),ot!==4&&(ot=2),Ll===null?Ll=[s]:Ll.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=K1(s,l,e);$0(s,m);break e;case 1:a=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ai===null||!Ai.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var p=G1(s,a,e);$0(s,p);break e}}s=s.return}while(s!==null)}fS(n)}catch(I){e=I,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(1)}function dS(){var t=Xd.current;return Xd.current=Yd,t===null?Yd:t}function Hy(){(ot===0||ot===3||ot===2)&&(ot=4),ht===null||!(Ds&268435455)&&!(Gh&268435455)||li(ht,Et)}function eh(t,e){var n=we;we|=2;var r=dS();(ht!==t||Et!==e)&&(Tr=null,Ss(t,e));do try{Wk();break}catch(i){cS(t,i)}while(1);if(Ay(),we=n,Xd.current=r,tt!==null)throw Error(L(261));return ht=null,Et=0,ot}function Wk(){for(;tt!==null;)hS(tt)}function Kk(){for(;tt!==null&&!vb();)hS(tt)}function hS(t){var e=mS(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?fS(t):tt=e,Uy.current=null}function fS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Uk(n,e),n!==null){n.flags&=32767,tt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,tt=null;return}}else if(n=$k(n,e,sn),n!==null){tt=n;return}if(e=e.sibling,e!==null){tt=e;return}tt=e=t}while(e!==null);ot===0&&(ot=5)}function os(t,e,n){var r=Pe,i=Rn.transition;try{Rn.transition=null,Pe=1,Gk(t,e,n,r)}finally{Rn.transition=i,Pe=r}return null}function Gk(t,e,n,r){do zo();while(_i!==null);if(we&6)throw Error(L(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(L(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Cb(t,s),t===ht&&(tt=ht=null,Et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Uc||(Uc=!0,gS(Md,function(){return zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=Pe;Pe=1;var a=we;we|=4,Uy.current=null,zk(t,n),aS(n,t),pk(Vm),Ld=!!Mm,Vm=Mm=null,t.current=n,jk(n),_b(),we=a,Pe=o,Rn.transition=s}else t.current=n;if(Uc&&(Uc=!1,_i=t,Zd=i),s=t.pendingLanes,s===0&&(Ai=null),Ib(n.stateNode),en(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jd)throw Jd=!1,t=ng,ng=null,t;return Zd&1&&t.tag!==0&&zo(),s=t.pendingLanes,s&1?t===rg?Fl++:(Fl=0,rg=t):Fl=0,Hi(),null}function zo(){if(_i!==null){var t=WT(Zd),e=Rn.transition,n=Pe;try{if(Rn.transition=null,Pe=16>t?16:t,_i===null)var r=!1;else{if(t=_i,_i=null,Zd=0,we&6)throw Error(L(331));var i=we;for(we|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Q=u;Q!==null;){var c=Q;switch(c.tag){case 0:case 11:case 15:Vl(8,c,s)}var d=c.child;if(d!==null)d.return=c,Q=d;else for(;Q!==null;){c=Q;var h=c.sibling,f=c.return;if(iS(c),c===u){Q=null;break}if(h!==null){h.return=f,Q=h;break}Q=f}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vl(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Q=m;break e}Q=s.return}}var g=t.current;for(Q=g;Q!==null;){o=Q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Q=_;else e:for(o=g;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Kh(9,a)}}catch(I){He(a,a.return,I)}if(a===o){Q=null;break e}var p=a.sibling;if(p!==null){p.return=a.return,Q=p;break e}Q=a.return}}if(we=i,Hi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot($h,t)}catch{}r=!0}return r}finally{Pe=n,Rn.transition=e}}return!1}function aw(t,e,n){e=ha(n,e),e=K1(t,e,1),t=Pi(t,e,1),e=Ut(),t!==null&&(ju(t,1,e),en(t,e))}function He(t,e,n){if(t.tag===3)aw(t,t,n);else for(;e!==null;){if(e.tag===3){aw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){t=ha(n,t),t=G1(e,t,1),e=Pi(e,t,1),t=Ut(),e!==null&&(ju(e,1,t),en(e,t));break}}e=e.return}}function Qk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(Et&n)===n&&(ot===4||ot===3&&(Et&130023424)===Et&&500>Je()-zy?Ss(t,0):By|=n),en(t,e)}function pS(t,e){e===0&&(t.mode&1?(e=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):e=1);var n=Ut();t=Br(t,e),t!==null&&(ju(t,e,n),en(t,n))}function Yk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pS(t,n)}function Xk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(e),pS(t,n)}var mS;mS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,Fk(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Ve&&e.flags&1048576&&v1(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dd(t,e),t=e.pendingProps;var i=la(e,Ot.current);Bo(e,n),i=My(null,e,r,t,i,n);var s=Vy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zt(r)?(s=!0,zd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,by(e),i.updater=Hh,e.stateNode=i,i._reactInternals=e,Hm(e,r,t,n),e=Gm(null,e,r,!0,s,n)):(e.tag=0,Ve&&s&&Ty(e),Vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Zk(r),t=Mn(r,t),i){case 0:e=Km(null,e,r,t,n);break e;case 1:e=X0(null,e,r,t,n);break e;case 11:e=Q0(null,e,r,t,n);break e;case 14:e=Y0(null,e,r,Mn(r.type,t),n);break e}throw Error(L(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Km(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),X0(t,e,r,i,n);case 3:e:{if(J1(e),t===null)throw Error(L(387));r=e.pendingProps,s=e.memoizedState,i=s.element,I1(t,e),Kd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ha(Error(L(423)),e),e=J0(t,e,r,n,i);break e}else if(r!==i){i=ha(Error(L(424)),e),e=J0(t,e,r,n,i);break e}else for(an=Ri(e.stateNode.containerInfo.firstChild),un=e,Ve=!0,Un=null,n=P1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ua(),r===i){e=zr(t,e,n);break e}Vt(t,e,r,n)}e=e.child}return e;case 5:return A1(e),t===null&&zm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Lm(r,i)?o=null:s!==null&&Lm(r,s)&&(e.flags|=32),X1(t,e),Vt(t,e,o,n),e.child;case 6:return t===null&&zm(e),null;case 13:return Z1(t,e,n);case 4:return ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ca(e,null,r,n):Vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Q0(t,e,r,i,n);case 7:return Vt(t,e,e.pendingProps,n),e.child;case 8:return Vt(t,e,e.pendingProps.children,n),e.child;case 12:return Vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Hd,r._currentValue),r._currentValue=o,s!==null)if(qn(s.value,o)){if(s.children===i.children&&!Jt.current){e=zr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Mr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),jm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),jm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bo(e,n),i=An(i),r=r(i),e.flags|=1,Vt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),Y0(t,e,r,i,n);case 15:return Q1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),dd(t,e),e.tag=1,Zt(r)?(t=!0,zd(e)):t=!1,Bo(e,n),S1(e,r,i),Hm(e,r,i,n),Gm(null,e,r,!0,t,n);case 19:return eS(t,e,n);case 22:return Y1(t,e,n)}throw Error(L(156,e.tag))};function gS(t,e){return zT(t,e)}function Jk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new Jk(t,e,n,r)}function Wy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zk(t){if(typeof t=="function")return Wy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dy)return 11;if(t===hy)return 14}return 2}function xi(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pd(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Wy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case To:return Rs(n.children,i,s,e);case cy:o=8,i|=8;break;case mm:return t=Tn(12,n,e,i|2),t.elementType=mm,t.lanes=s,t;case gm:return t=Tn(13,n,e,i),t.elementType=gm,t.lanes=s,t;case ym:return t=Tn(19,n,e,i),t.elementType=ym,t.lanes=s,t;case RT:return Qh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case TT:o=10;break e;case ST:o=9;break e;case dy:o=11;break e;case hy:o=14;break e;case si:o=16,r=null;break e}throw Error(L(130,t==null?t:typeof t,""))}return e=Tn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Rs(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Qh(t,e,n,r){return t=Tn(22,t,r,e),t.elementType=RT,t.lanes=n,t.stateNode={isHidden:!1},t}function kp(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function Dp(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hp(0),this.expirationTimes=hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ky(t,e,n,r,i,s,o,a,l){return t=new eD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Tn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},by(s),t}function tD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yS(t){if(!t)return Vi;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(L(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(t.tag===1){var n=t.type;if(Zt(n))return g1(t,n,e)}return e}function vS(t,e,n,r,i,s,o,a,l){return t=Ky(n,r,!0,t,i,s,o,a,l),t.context=yS(null),n=t.current,r=Ut(),i=Ci(n),s=Mr(r,i),s.callback=e??null,Pi(n,s,i),t.current.lanes=i,ju(t,i,r),en(t,r),t}function Yh(t,e,n,r){var i=e.current,s=Ut(),o=Ci(i);return n=yS(n),e.context===null?e.context=n:e.pendingContext=n,e=Mr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Pi(i,e,o),t!==null&&(jn(t,i,o,s),ld(t,i,o)),o}function th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gy(t,e){lw(t,e),(t=t.alternate)&&lw(t,e)}function nD(){return null}var _S=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qy(t){this._internalRoot=t}Xh.prototype.render=Qy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(L(409));Yh(t,e,null,null)};Xh.prototype.unmount=Qy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){Yh(null,t,null,null)}),e[Ur]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=QT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ai.length&&e!==0&&e<ai[n].priority;n++);ai.splice(n,0,t),n===0&&XT(t)}};function Yy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uw(){}function rD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=th(o);s.call(u)}}var o=vS(e,r,t,0,null,!1,!1,"",uw);return t._reactRootContainer=o,t[Ur]=o.current,tu(t.nodeType===8?t.parentNode:t),Ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=th(l);a.call(u)}}var l=Ky(t,0,!1,null,null,!1,!1,"",uw);return t._reactRootContainer=l,t[Ur]=l.current,tu(t.nodeType===8?t.parentNode:t),Ns(function(){Yh(e,l,n,r)}),l}function Zh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=th(o);a.call(l)}}Yh(e,o,t,i)}else o=rD(n,e,t,i,r);return th(o)}KT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Tl(e.pendingLanes);n!==0&&(my(e,n|1),en(e,Je()),!(we&6)&&(fa=Je()+500,Hi()))}break;case 13:Ns(function(){var r=Br(t,1);if(r!==null){var i=Ut();jn(r,t,1,i)}}),Gy(t,1)}};gy=function(t){if(t.tag===13){var e=Br(t,134217728);if(e!==null){var n=Ut();jn(e,t,134217728,n)}Gy(t,134217728)}};GT=function(t){if(t.tag===13){var e=Ci(t),n=Br(t,e);if(n!==null){var r=Ut();jn(n,t,e,r)}Gy(t,e)}};QT=function(){return Pe};YT=function(t,e){var n=Pe;try{return Pe=t,e()}finally{Pe=n}};Am=function(t,e,n){switch(e){case"input":if(wm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jh(r);if(!i)throw Error(L(90));AT(r),wm(r,i)}}}break;case"textarea":xT(t,n);break;case"select":e=n.value,e!=null&&Lo(t,!!n.multiple,e,!1)}};VT=jy;LT=Ns;var iD={usingClientEntryPoint:!1,Events:[Hu,Ao,jh,OT,MT,jy]},al={findFiberByHostInstance:fs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},sD={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UT(t),t===null?null:t.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||nD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{$h=Bc.inject(sD),ur=Bc}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iD;pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yy(e))throw Error(L(200));return tD(t,e,null,n)};pn.createRoot=function(t,e){if(!Yy(t))throw Error(L(299));var n=!1,r="",i=_S;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ky(t,1,!1,null,null,n,!1,r,i),t[Ur]=e.current,tu(t.nodeType===8?t.parentNode:t),new Qy(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(L(188)):(t=Object.keys(t).join(","),Error(L(268,t)));return t=UT(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return Ns(t)};pn.hydrate=function(t,e,n){if(!Jh(e))throw Error(L(200));return Zh(null,t,e,!0,n)};pn.hydrateRoot=function(t,e,n){if(!Yy(t))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_S;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vS(e,null,t,1,n??null,i,!1,s,o),t[Ur]=e.current,tu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xh(e)};pn.render=function(t,e,n){if(!Jh(e))throw Error(L(200));return Zh(null,t,e,!1,n)};pn.unmountComponentAtNode=function(t){if(!Jh(t))throw Error(L(40));return t._reactRootContainer?(Ns(function(){Zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ur]=null})}),!0):!1};pn.unstable_batchedUpdates=jy;pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jh(n))throw Error(L(200));if(t==null||t._reactInternals===void 0)throw Error(L(38));return Zh(t,e,n,!1,r)};pn.version="18.2.0-next-9e3b772b8-20220608";function wS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wS)}catch(t){console.error(t)}}wS(),vT.exports=pn;var Xy=vT.exports,cw=Xy;fm.createRoot=cw.createRoot,fm.hydrateRoot=cw.hydrateRoot;var dw=function(){return dw=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},dw.apply(this,arguments)};function Jy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uz(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function dr(t){return Object.keys(t)}function Np(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Zy(t,e){const n={...t},r=e;return Np(t)&&Np(e)&&Object.keys(e).forEach(i=>{Np(r[i])&&i in t?n[i]=Zy(n[i],r[i]):n[i]=r[i]}),n}function oD(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function aD(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function lD(t){const e=aD(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Op(t){return`calc(${t} * var(--mantine-scale))`}function ES(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?Op(i):i}if(typeof r=="string"){if(r.startsWith("calc(")||r.startsWith("var(")||r.startsWith("clamp("))return r;if(r.includes(" "))return r.split(" ").map(s=>n(s)).join(" ");if(r.includes(t))return e?Op(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const s=`${Number(i)/16}${t}`;return e?Op(s):s}}return r}return n}const M=ES("rem",{shouldScale:!0}),hw=ES("em");function ef(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function IS(t){return typeof t=="number"?!0:typeof t=="string"?t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!==""?!0:/[0-9]/.test(t.trim().replace("-","")[0]):!1}function ev(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==B.Fragment:!1}function tv(t){const e=E.createContext(null);return[({children:i,value:s})=>B.createElement(e.Provider,{value:s},i),()=>{const i=E.useContext(e);if(i===null)throw new Error(t);return i}]}function fw(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function nh(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function uD(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function cD(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function dD(t,e,n){return nh(t,n)===nh(e,n)}function TS({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:s="rtl",orientation:o}){return a=>{var y;n==null||n(a);const l=Array.from(((y=nh(a.currentTarget,t))==null?void 0:y.querySelectorAll(e))||[]).filter(v=>dD(a.currentTarget,v,t)),u=l.findIndex(v=>a.currentTarget===v),c=cD(u,l,r),d=uD(u,l,r),h=s==="rtl"?d:c,f=s==="rtl"?c:d;switch(a.key){case"ArrowRight":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowLeft":{o==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowUp":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{o==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const v=l.length-1;!l[v].disabled&&l[v].focus();break}}}}const hD={app:100,modal:200,popover:300,overlay:400,max:9999};function fD(t){return hD[t]}const pD=()=>{};function mD(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||pD:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function Wi(t,e="size",n=!0){if(t!==void 0)return IS(t)?n?M(t):t:`var(--${e}-${t})`}function cz(t){return Wi(t,"mantine-spacing")}function nv(t){return t===void 0?"var(--mantine-radius-default)":Wi(t,"mantine-radius")}function dz(t){return Wi(t,"mantine-font-size")}function hz(t){return Wi(t,"mantine-line-height",!1)}function gD(t){if(t)return Wi(t,"mantine-shadow",!1)}function xr(t,e){return n=>{t==null||t(n),e==null||e(n)}}function yD(t,e,n){var r;return n?Array.from(((r=nh(n,e))==null?void 0:r.querySelectorAll(t))||[]).findIndex(i=>i===n):null}function vD(){const[t,e]=E.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function fz(t){return t}function SS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=SS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Ki(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=SS(t))&&(r&&(r+=" "),r+=e);return r}const _D={};function wD(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Ki(e[r],i):e[r]=i})}),e}function tf({theme:t,classNames:e,props:n,stylesCtx:r}){const s=(Array.isArray(e)?e:[e]).map(o=>typeof o=="function"?o(t,n,r):o||_D);return wD(s)}function rh({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((s,o)=>typeof o=="function"?{...s,...o(t,n,r)}:{...s,...o},{})}function RS(){return`mantine-${Math.random().toString(36).slice(2,11)}`}const pw=["mousedown","touchstart"];function ED(t,e,n){const r=E.useRef();return E.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(n)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";n.every(u=>!!u&&!s.composedPath().includes(u))&&!a&&t()}else r.current&&!r.current.contains(o)&&t()};return(e||pw).forEach(s=>document.addEventListener(s,i)),()=>{(e||pw).forEach(s=>document.removeEventListener(s,i))}},[r,t,n]),r}function ID(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function TD(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function SD(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=E.useState(n?e:TD(t)),s=E.useRef();return E.useEffect(()=>{if("matchMedia"in window)return s.current=window.matchMedia(t),i(s.current.matches),ID(s.current,o=>i(o.matches))},[t]),r}const nf=typeof document<"u"?E.useLayoutEffect:E.useEffect;function Os(t,e){const n=E.useRef(!1);E.useEffect(()=>()=>{n.current=!1},[]),E.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function RD({opened:t,shouldReturnFocus:e=!0}){const n=E.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Os(()=>{let i=-1;const s=o=>{o.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",s),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",s)}},[t,e]),r}function PD(t,e="body > :not(script)"){const n=RS(),r=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;const s=i.getAttribute("aria-hidden"),o=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),s===null||s==="false"?i.setAttribute("aria-hidden","true"):!o&&!a&&i.setAttribute("data-hidden",s),{node:i,ariaHidden:o||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const AD=/input|select|textarea|button|object/,PS="a, input, select, textarea, button, object, [tabindex]";function CD(t){return t.style.display==="none"}function xD(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(CD(n))return!1;n=n.parentNode}return!0}function AS(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function og(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(AS(t));return(AD.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&xD(t)}function CS(t){const e=AS(t);return(Number.isNaN(e)||e>=0)&&og(t)}function bD(t){return Array.from(t.querySelectorAll(PS)).filter(CS)}function kD(t,e){const n=bD(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let s=r===i.activeElement||t===i.activeElement;const o=i.activeElement;if(o.tagName==="INPUT"&&o.getAttribute("type")==="radio"&&(s=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===o.getAttribute("name")).includes(r)),!s)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function DD(t=!0){const e=E.useRef(),n=E.useRef(null),r=s=>{let o=s.querySelector("[data-autofocus]");if(!o){const a=Array.from(s.querySelectorAll(PS));o=a.find(CS)||a.find(og)||null,!o&&og(s)&&(o=s)}o&&o.focus({preventScroll:!0})},i=E.useCallback(s=>{if(t){if(s===null){n.current&&(n.current(),n.current=null);return}n.current=PD(s),e.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),e.current=s):e.current=null)}},[t]);return E.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const s=o=>{o.key==="Tab"&&e.current&&kD(e.current,o)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s),n.current&&n.current()}},[t]),i}const ND=B["useId".toString()]||(()=>{});function OD(){const t=ND();return t?`mantine-${t.replace(/:/g,"")}`:""}function xS(t){const e=OD(),[n,r]=E.useState(e);return nf(()=>{r(RS())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function bS(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function MD(...t){return e=>{t.forEach(n=>bS(n,e))}}function Ku(...t){return E.useCallback(MD(...t),t)}function rv({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,s]=E.useState(e!==void 0?e:n),o=(a,...l)=>{s(a),r==null||r(a,...l)};return t!==void 0?[t,r,!0]:[i,o,!1]}function VD(t,e){return SD("(prefers-reduced-motion: reduce)",t,e)}const kS=E.createContext(null);function iv(){const t=E.useContext(kS);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function LD(){return iv().cssVariablesResolver}function FD(){return iv().classNamesPrefix}function sv(){return iv().getStyleNonce}function $D(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function UD(t){let e=t.replace("#","");if(e.length===3){const o=e.split("");e=[o[0],o[0],o[1],o[1],o[2],o[2]].join("")}if(e.length===8){const o=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:o}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,s=n&255;return{r,g:i,b:s,a:1}}function BD(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function zD(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,o=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*s-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=s-a/2;let d,h,f;return l>=0&&l<1?(d=a,h=u,f=0):l>=1&&l<2?(d=u,h=a,f=0):l>=2&&l<3?(d=0,h=a,f=u):l>=3&&l<4?(d=0,h=u,f=a):l>=4&&l<5?(d=u,h=0,f=a):(d=a,h=0,f=u),{r:Math.round((d+c)*255),g:Math.round((h+c)*255),b:Math.round((f+c)*255),a:o||1}}function ov(t){return $D(t)?UD(t):t.startsWith("rgb")?BD(t):t.startsWith("hsl")?zD(t):{r:0,g:0,b:0,a:1}}function zc(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:s}=ov(t),o=1-e,a=l=>Math.round(l*o);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${s})`}function ih(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function Mp(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function jD(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function qD(t){if(t.startsWith("oklch("))return(jD(t)||0)/100;const{r:e,g:n,b:r}=ov(t),i=e/255,s=n/255,o=r/255,a=Mp(i),l=Mp(s),u=Mp(o);return .2126*a+.7152*l+.0722*u}function ll(t,e=.179){return t.startsWith("var(")?!1:qD(t)>e}function Da({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:ll(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:ll(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:ll(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),s=i?Number(i):void 0,o=r in e.colors;if(o){const a=s!==void 0?e.colors[r][s]:e.colors[r][ih(e,n||"light")];return{color:r,value:a,shade:s,isThemeColor:o,isLight:ll(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${s}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:o,isLight:ll(t,e.luminanceThreshold),shade:s,variable:void 0}}function cu(t,e){const n=Da({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function mw(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=cu(n.from,e),i=cu(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Wt(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=ov(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const HD=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const s=Da({color:t,theme:e}),o=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=o&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${M(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:a,border:`${M(1)} solid transparent`}:{background:t,hover:zc(t,.1),color:a,border:`${M(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${M(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:Wt(a,.1),hover:Wt(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${M(1)} solid transparent`}}return{background:Wt(t,.1),hover:Wt(t,.12),color:t,border:`${M(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${M(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:Wt(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${M(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:Wt(t,.05),color:t,border:`${M(1)} solid ${t}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${M(1)} solid transparent`};const a=e.colors[s.color][s.shade];return{background:"transparent",hover:Wt(a,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${M(1)} solid transparent`}}return{background:"transparent",hover:Wt(t,.12),color:t,border:`${M(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${M(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${M(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${M(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:zc(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${M(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:zc(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${M(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:zc(e.white,.01),color:t,border:`${M(1)} solid transparent`}:n==="gradient"?{background:mw(r,e),hover:mw(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${M(1)} solid var(--mantine-color-default-border)`}:{}},WD={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},gw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",av={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:WD,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:HD,autoContrast:!1,luminanceThreshold:.3,fontFamily:gw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:gw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:M(34),lineHeight:"1.3"},h2:{fontSize:M(26),lineHeight:"1.35"},h3:{fontSize:M(22),lineHeight:"1.4"},h4:{fontSize:M(18),lineHeight:"1.45"},h5:{fontSize:M(16),lineHeight:"1.5"},h6:{fontSize:M(14),lineHeight:"1.5"}}},fontSizes:{xs:M(12),sm:M(14),md:M(16),lg:M(18),xl:M(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:M(2),sm:M(4),md:M(8),lg:M(16),xl:M(32)},spacing:{xs:M(10),sm:M(12),md:M(16),lg:M(20),xl:M(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), 0 ${M(1)} ${M(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(10)} ${M(15)} ${M(-5)}, rgba(0, 0, 0, 0.04) 0 ${M(7)} ${M(7)} ${M(-5)}`,md:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(20)} ${M(25)} ${M(-5)}, rgba(0, 0, 0, 0.04) 0 ${M(10)} ${M(10)} ${M(-5)}`,lg:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(28)} ${M(23)} ${M(-7)}, rgba(0, 0, 0, 0.04) 0 ${M(12)} ${M(12)} ${M(-7)}`,xl:`0 ${M(1)} ${M(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${M(36)} ${M(28)} ${M(-7)}, rgba(0, 0, 0, 0.04) 0 ${M(17)} ${M(17)} ${M(-7)}`},other:{},components:{}};function yw(t){return t==="auto"||t==="dark"||t==="light"}function KD({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return yw(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&yw(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const GD="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",vw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Vp(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function _w(t){if(!(t.primaryColor in t.colors))throw new Error(GD);if(typeof t.primaryShade=="object"&&(!Vp(t.primaryShade.dark)||!Vp(t.primaryShade.light)))throw new Error(vw);if(typeof t.primaryShade=="number"&&!Vp(t.primaryShade))throw new Error(vw)}function QD(t,e){var r;if(!e)return _w(t),t;const n=Zy(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),_w(n),n}const lv=E.createContext(null),YD=()=>E.useContext(lv)||av;function yr(){const t=E.useContext(lv);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function DS({theme:t,children:e,inherit:n=!0}){const r=YD(),i=E.useMemo(()=>QD(n?r:av,t),[t,r,n]);return B.createElement(lv.Provider,{value:i},e)}DS.displayName="@mantine/core/MantineThemeProvider";function XD(){const t=yr(),e=sv(),n=dr(t.breakpoints).reduce((r,i)=>{const s=t.breakpoints[i].includes("px"),o=lD(t.breakpoints[i]),a=s?`${o-.1}px`:hw(o-.1),l=s?`${o}px`:hw(o);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return B.createElement("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function Lp(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function Fp(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function JD(t,e){const n=Lp(t.variables),r=n?Fp(e,n):"",i=Lp(t.dark),s=i?Fp(`${e}[data-mantine-color-scheme="dark"]`,i):"",o=Lp(t.light),a=o?Fp(`${e}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function NS({color:t,theme:e,autoContrast:n=!0}){return(typeof n=="boolean"?n:e.autoContrast)&&Da({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function ww(t,e){return NS({color:t.colors[t.primaryColor][ih(t,e)],theme:t,autoContrast:null})}function lo(t,e,n){dr(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const OS=t=>{const e=ih(t,"dark"),n=ih(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:M(t.defaultRadius),i={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-color-scheme":"light dark","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":ww(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${n})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)"},dark:{"--mantine-primary-color-contrast":ww(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)"}};lo(i.variables,t.breakpoints,"breakpoint"),lo(i.variables,t.spacing,"spacing"),lo(i.variables,t.fontSizes,"font-size"),lo(i.variables,t.lineHeights,"line-height"),lo(i.variables,t.shadows,"shadow"),lo(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((o,a)=>{i.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${t.primaryColor}-${a})`}),dr(t.colors).forEach(o=>{t.colors[o].forEach((u,c)=>{i.variables[`--mantine-color-${o}-${c}`]=u});const a=`var(--mantine-color-${o}-${n===9?8:n+1})`,l=`var(--mantine-color-${o}-${e===9?8:e+1})`;i.light["--mantine-color-dimmed"]="var(--mantine-color-gray-6)",i.light[`--mantine-color-${o}-text`]=`var(--mantine-color-${o}-filled)`,i.light[`--mantine-color-${o}-filled`]=`var(--mantine-color-${o}-${n})`,i.light[`--mantine-color-${o}-filled-hover`]=a,i.light[`--mantine-color-${o}-light`]=Wt(t.colors[o][n],.1),i.light[`--mantine-color-${o}-light-hover`]=Wt(t.colors[o][n],.12),i.light[`--mantine-color-${o}-light-color`]=`var(--mantine-color-${o}-${n})`,i.light[`--mantine-color-${o}-outline`]=`var(--mantine-color-${o}-${n})`,i.light[`--mantine-color-${o}-outline-hover`]=Wt(t.colors[o][n],.05),i.dark["--mantine-color-dimmed"]="var(--mantine-color-dark-2)",i.dark[`--mantine-color-${o}-text`]=`var(--mantine-color-${o}-4)`,i.dark[`--mantine-color-${o}-filled`]=`var(--mantine-color-${o}-${e})`,i.dark[`--mantine-color-${o}-filled-hover`]=l,i.dark[`--mantine-color-${o}-light`]=Wt(t.colors[o][Math.max(0,e-2)],.15),i.dark[`--mantine-color-${o}-light-hover`]=Wt(t.colors[o][Math.max(0,e-2)],.2),i.dark[`--mantine-color-${o}-light-color`]=`var(--mantine-color-${o}-${Math.max(e-5,0)})`,i.dark[`--mantine-color-${o}-outline`]=`var(--mantine-color-${o}-${Math.max(e-4,0)})`,i.dark[`--mantine-color-${o}-outline-hover`]=Wt(t.colors[o][Math.max(e-4,0)],.05)});const s=t.headings.sizes;return dr(s).forEach(o=>{i.variables[`--mantine-${o}-font-size`]=s[o].fontSize,i.variables[`--mantine-${o}-line-height`]=s[o].lineHeight,i.variables[`--mantine-${o}-font-weight`]=s[o].fontWeight||t.headings.fontWeight}),i};function ZD({theme:t,generator:e}){const n=OS(t),r=e==null?void 0:e(t);return r?Zy(n,r):n}const $p=OS(av);function eN(t){const e={variables:{},light:{},dark:{}};return dr(t.variables).forEach(n=>{$p.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),dr(t.light).forEach(n=>{$p.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),dr(t.dark).forEach(n=>{$p.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function tN(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function MS({cssVariablesSelector:t}){const e=yr(),n=sv(),r=LD(),i=ZD({theme:e,generator:r}),s=t===":root",o=s?eN(i):i,a=JD(o,t);return a?B.createElement("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${a}${s?"":tN(t)}`}}):null}MS.displayName="@mantine/CssVariables";function nN(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function uo(t,e){var r;const n=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=e())==null||r.setAttribute("data-mantine-color-scheme",n)}function rN({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=E.useRef(),[s,o]=E.useState(()=>t.get(e)),a=r||s,l=E.useCallback(c=>{r||(uo(c,n),o(c),t.set(c))},[t.set,a,r]),u=E.useCallback(()=>{o(e),uo(e,n),t.clear()},[t.clear,e]);return E.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),nf(()=>{uo(t.get(e),n)},[]),E.useEffect(()=>{var d;if(r)return uo(r,n),()=>{};r===void 0&&uo(s,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=h=>{s==="auto"&&uo(h.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var h;return(h=i.current)==null?void 0:h.removeEventListener("change",c)}},[s,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function iN({respectReducedMotion:t,getRootElement:e}){nf(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}nN();function VS({theme:t,children:e,getStyleNonce:n,withCssVariables:r=!0,cssVariablesSelector:i=":root",classNamesPrefix:s="mantine",colorSchemeManager:o=KD(),defaultColorScheme:a="light",getRootElement:l=()=>document.documentElement,cssVariablesResolver:u,forceColorScheme:c}){const{colorScheme:d,setColorScheme:h,clearColorScheme:f}=rN({defaultColorScheme:a,forceColorScheme:c,manager:o,getRootElement:l});return iN({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:l}),B.createElement(kS.Provider,{value:{colorSchemeManager:o,colorScheme:d,setColorScheme:h,clearColorScheme:f,getRootElement:l,classNamesPrefix:s,getStyleNonce:n,cssVariablesResolver:u,cssVariablesSelector:i}},B.createElement(DS,{theme:t},r&&B.createElement(MS,{cssVariablesSelector:i}),B.createElement(XD,null),e))}VS.displayName="@mantine/core/MantineProvider";function sN({classNames:t,styles:e,props:n,stylesCtx:r}){const i=yr();return{resolvedClassNames:tf({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:rh({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const oN={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function aN({theme:t,options:e,unstyled:n}){return Ki((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||oN[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function lN({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return tf({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function uN({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return tf({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function cN({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function dN({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function hN({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function fN({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(s=>{var o,a;return(a=tf({theme:e,classNames:(o=e.components[s])==null?void 0:o.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function pN({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function mN({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:s,classes:o,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d}){return Ki(aN({theme:t,options:e,unstyled:a}),fN({theme:t,themeName:n,selector:r,props:c,stylesCtx:d}),pN({options:e,classes:o,selector:r,unstyled:a}),uN({selector:r,stylesCtx:d,theme:t,classNames:s,props:c}),lN({selector:r,stylesCtx:d,options:e,props:c,theme:t}),cN({rootSelector:u,selector:r,className:l}),dN({selector:r,classes:o,unstyled:a}),hN({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function gN({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(s=>{var o;return rh({theme:t,styles:(o=t.components[s])==null?void 0:o.styles,props:n,stylesCtx:r})[i]}).reduce((s,o)=>({...s,...o}),{})}function ag({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...ag({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function yN(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...ef(n[r])}}),e),{})}function vN({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:s,themeName:o}){var a;return(a=yN([e==null?void 0:e(n,r,i),...o.map(l=>{var u,c,d;return(d=(c=(u=n.components)==null?void 0:u[l])==null?void 0:c.vars)==null?void 0:d.call(c,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:a[s]}function _N({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:s,rootSelector:o,styles:a,style:l,vars:u,varsResolver:c}){return{...gN({theme:t,themeName:e,props:i,stylesCtx:s,selector:n}),...rh({theme:t,styles:a,props:i,stylesCtx:s})[n],...rh({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:s})[n],...vN({theme:t,props:i,stylesCtx:s,vars:u,varsResolver:c,selector:n,themeName:e}),...o===n?ag({style:l,theme:t}):null,...ag({style:r==null?void 0:r.style,theme:t})}}function vr({name:t,classes:e,props:n,stylesCtx:r,className:i,style:s,rootSelector:o="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const h=yr(),f=FD(),y=(Array.isArray(t)?t:[t]).filter(v=>v);return(v,w)=>({className:mN({theme:h,options:w,themeName:y,selector:v,classNamesPrefix:f,classNames:l,classes:e,unstyled:a,className:i,rootSelector:o,props:n,stylesCtx:r}),style:_N({theme:h,themeName:y,selector:v,options:w,props:n,stylesCtx:r,rootSelector:o,styles:u,style:s,vars:c,varsResolver:d})})}function wN(t,e){return typeof t=="boolean"?t:e.autoContrast}function Ge(t,e,n){var o;const r=yr(),i=(o=r.components[t])==null?void 0:o.defaultProps,s=typeof i=="function"?i(r):i;return{...e,...s,...ef(n)}}function Ew(t){return dr(t).reduce((e,n)=>t[n]!==void 0?`${e}${oD(n)}:${t[n]};`:e,"").trim()}function EN({selector:t,styles:e,media:n}){const r=e?Ew(e):"",i=Array.isArray(n)?n.map(s=>`@media${s.query}{${t}{${Ew(s.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}`.trim()}function LS({selector:t,styles:e,media:n}){const r=sv();return B.createElement("style",{"data-mantine-styles":"inline",nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:EN({selector:t,styles:e,media:n})}})}function IN(t){const{m:e,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,p:l,px:u,py:c,pt:d,pb:h,pl:f,pr:y,bg:v,c:w,opacity:m,ff:g,fz:_,fw:p,lts:I,ta:T,lh:R,fs:C,tt:D,td:N,w:U,miw:q,maw:K,h:F,mih:H,mah:W,bgsz:te,bgp:x,bgr:Y,bga:ne,pos:Ee,top:ke,left:Gn,bottom:Te,right:nn,inset:Mt,display:Qn,flex:kn,hiddenFrom:Ga,visibleFrom:Qa,lightHidden:ro,darkHidden:io,...lt}=t;return{styleProps:ef({m:e,mx:n,my:r,mt:i,mb:s,ml:o,mr:a,p:l,px:u,py:c,pt:d,pb:h,pl:f,pr:y,bg:v,c:w,opacity:m,ff:g,fz:_,fw:p,lts:I,ta:T,lh:R,fs:C,tt:D,td:N,w:U,miw:q,maw:K,h:F,mih:H,mah:W,bgsz:te,bgp:x,bgr:Y,bga:ne,pos:Ee,top:ke,left:Gn,bottom:Te,right:nn,inset:Mt,display:Qn,flex:kn,hiddenFrom:Ga,visibleFrom:Qa,lightHidden:ro,darkHidden:io}),rest:lt}}const TN={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function FS(t,e){const n=Da({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function SN(t,e){const n=Da({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:FS(t,e)}const Iw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)"};function RN(t){return typeof t=="string"&&t in Iw?Iw[t]:t}function PN(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="number"||typeof t=="string"?M(t):t}function AN(t){return t}function CN(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:t}function xN(t){return typeof t=="number"?M(t):t}function bN(t,e){if(typeof t=="number")return M(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return M(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const Up={color:FS,textColor:SN,fontSize:PN,spacing:bN,identity:AN,size:xN,lineHeight:CN,fontFamily:RN};function Tw(t){return t.replace("(min-width: ","").replace("em)","")}function kN({media:t,...e}){const r=Object.keys(t).sort((i,s)=>Number(Tw(i))-Number(Tw(s))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function DN(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function NN(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function ON(t){return typeof t=="object"&&t!==null?dr(t).filter(e=>e!=="base"):[]}function MN(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function $S({styleProps:t,data:e,theme:n}){return kN(dr(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom")return r;const s=e[i],o=Array.isArray(s.property)?s.property:[s.property],a=NN(t[i]);if(!DN(t[i]))return o.forEach(u=>{r.inlineStyles[u]=Up[s.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=ON(t[i]);return o.forEach(u=>{a&&(r.styles[u]=Up[s.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:Up[s.type](MN(t[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function US(){return`__m__-${E.useId().replace(/:/g,"")}`}function BS(t){return t.startsWith("data-")?t:`data-${t}`}function VN(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[BS(n)]=t[n]),e},{})}function zS(t){return t?typeof t=="string"?{[BS(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...zS(n)}),{}):VN(t):null}function lg(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...lg(r,e)}),{}):typeof t=="function"?t(e):t??{}}function LN({theme:t,style:e,vars:n,styleProps:r}){const i=lg(e,t),s=lg(n,t);return{...i,...s,...r}}const jS=E.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:s,size:o,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,...h},f)=>{const y=yr(),v=t||"div",{styleProps:w,rest:m}=IN(h),g=US(),_=$S({styleProps:w,theme:y,data:TN}),p={ref:f,style:LN({theme:y,style:e,vars:n,styleProps:_.inlineStyles}),className:Ki(r,{[g]:_.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":IS(o)?void 0:o||void 0,...zS(s),...m};return B.createElement(B.Fragment,null,_.hasResponsiveStyles&&B.createElement(LS,{selector:`.${g}`,styles:_.styles,media:_.media}),typeof d=="function"?d(p):B.createElement(v,{...p}))});jS.displayName="@mantine/core/Box";const ft=jS;function qS(t){return t}function bn(t){const e=E.forwardRef(t);return e.extend=qS,e}function Gu(t){const e=E.forwardRef(t);return e.extend=qS,e}const FN=E.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function rf(){return E.useContext(FN)}var HS={root:"m-87cf2631"};const $N={__staticSelector:"UnstyledButton"},Na=Gu((t,e)=>{const n=Ge("UnstyledButton",$N,t),{className:r,component:i="button",__staticSelector:s,unstyled:o,classNames:a,styles:l,style:u,...c}=n,d=vr({name:s,props:n,classes:HS,className:r,style:u,classNames:a,styles:l,unstyled:o});return B.createElement(ft,{...d("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...c})});Na.classes=HS;Na.displayName="@mantine/core/UnstyledButton";const Hn=Math.min,bt=Math.max,sh=Math.round,jc=Math.floor,Li=t=>({x:t,y:t}),UN={left:"right",right:"left",bottom:"top",top:"bottom"},BN={start:"end",end:"start"};function ug(t,e,n){return bt(t,Hn(e,n))}function jr(t,e){return typeof t=="function"?t(e):t}function Wn(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function uv(t){return t==="x"?"y":"x"}function cv(t){return t==="y"?"height":"width"}function Xs(t){return["top","bottom"].includes(Wn(t))?"y":"x"}function dv(t){return uv(Xs(t))}function zN(t,e,n){n===void 0&&(n=!1);const r=Oa(t),i=dv(t),s=cv(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=oh(o)),[o,oh(o)]}function jN(t){const e=oh(t);return[cg(t),e,cg(e)]}function cg(t){return t.replace(/start|end/g,e=>BN[e])}function qN(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function HN(t,e,n,r){const i=Oa(t);let s=qN(Wn(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(cg)))),s}function oh(t){return t.replace(/left|right|bottom|top/g,e=>UN[e])}function WN(t){return{top:0,right:0,bottom:0,left:0,...t}}function hv(t){return typeof t!="number"?WN(t):{top:t,right:t,bottom:t,left:t}}function pa(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Sw(t,e,n){let{reference:r,floating:i}=t;const s=Xs(e),o=dv(e),a=cv(o),l=Wn(e),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:c,y:r.y-i.height};break;case"bottom":f={x:c,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-i.width,y:d};break;default:f={x:r.x,y:r.y}}switch(Oa(e)){case"start":f[o]-=h*(n&&u?-1:1);break;case"end":f[o]+=h*(n&&u?-1:1);break}return f}const KN=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:d}=Sw(u,r,l),h=r,f={},y=0;for(let v=0;v<a.length;v++){const{name:w,fn:m}=a[v],{x:g,y:_,data:p,reset:I}=await m({x:c,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});if(c=g??c,d=_??d,f={...f,[w]:{...f[w],...p}},I&&y<=50){y++,typeof I=="object"&&(I.placement&&(h=I.placement),I.rects&&(u=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:c,y:d}=Sw(u,h,l)),v=-1;continue}}return{x:c,y:d,placement:h,strategy:i,middlewareData:f}};async function fv(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=jr(e,t),y=hv(f),w=a[h?d==="floating"?"reference":"floating":d],m=pa(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=d==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),p=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},I=pa(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:_,strategy:l}):g);return{top:(m.top-I.top+y.top)/p.y,bottom:(I.bottom-m.bottom+y.bottom)/p.y,left:(m.left-I.left+y.left)/p.x,right:(I.right-m.right+y.right)/p.x}}const Rw=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=jr(t,e)||{};if(u==null)return{};const d=hv(c),h={x:n,y:r},f=dv(i),y=cv(f),v=await o.getDimensions(u),w=f==="y",m=w?"top":"left",g=w?"bottom":"right",_=w?"clientHeight":"clientWidth",p=s.reference[y]+s.reference[f]-h[f]-s.floating[y],I=h[f]-s.reference[f],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let R=T?T[_]:0;(!R||!await(o.isElement==null?void 0:o.isElement(T)))&&(R=a.floating[_]||s.floating[y]);const C=p/2-I/2,D=R/2-v[y]/2-1,N=Hn(d[m],D),U=Hn(d[g],D),q=N,K=R-v[y]-U,F=R/2-v[y]/2+C,H=ug(q,F,K),W=!l.arrow&&Oa(i)!=null&&F!=H&&s.reference[y]/2-(F<q?N:U)-v[y]/2<0,te=W?F<q?F-q:F-K:0;return{[f]:h[f]+te,data:{[f]:H,centerOffset:F-H-te,...W&&{alignmentOffset:te}},reset:W}}}),GN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=jr(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const m=Wn(i),g=Wn(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),p=h||(g||!v?[oh(a)]:jN(a));!h&&y!=="none"&&p.push(...HN(a,v,y,_));const I=[a,...p],T=await fv(e,w),R=[];let C=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&R.push(T[m]),d){const q=zN(i,o,_);R.push(T[q[0]],T[q[1]])}if(C=[...C,{placement:i,overflows:R}],!R.every(q=>q<=0)){var D,N;const q=(((D=s.flip)==null?void 0:D.index)||0)+1,K=I[q];if(K)return{data:{index:q,overflows:C},reset:{placement:K}};let F=(N=C.filter(H=>H.overflows[0]<=0).sort((H,W)=>H.overflows[1]-W.overflows[1])[0])==null?void 0:N.placement;if(!F)switch(f){case"bestFit":{var U;const H=(U=C.map(W=>[W.placement,W.overflows.filter(te=>te>0).reduce((te,x)=>te+x,0)]).sort((W,te)=>W[1]-te[1])[0])==null?void 0:U[0];H&&(F=H);break}case"initialPlacement":F=a;break}if(i!==F)return{reset:{placement:F}}}return{}}}};function WS(t){const e=Hn(...t.map(s=>s.left)),n=Hn(...t.map(s=>s.top)),r=bt(...t.map(s=>s.right)),i=bt(...t.map(s=>s.bottom));return{x:e,y:n,width:r-e,height:i-n}}function QN(t){const e=t.slice().sort((i,s)=>i.y-s.y),n=[];let r=null;for(let i=0;i<e.length;i++){const s=e[i];!r||s.y-r.y>r.height/2?n.push([s]):n[n.length-1].push(s),r=s}return n.map(i=>pa(WS(i)))}const YN=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:s,strategy:o}=e,{padding:a=2,x:l,y:u}=jr(t,e),c=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(r.reference))||[]),d=QN(c),h=pa(WS(c)),f=hv(a);function y(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(w=>l>w.left-f.left&&l<w.right+f.right&&u>w.top-f.top&&u<w.bottom+f.bottom)||h;if(d.length>=2){if(Xs(n)==="y"){const N=d[0],U=d[d.length-1],q=Wn(n)==="top",K=N.top,F=U.bottom,H=q?N.left:U.left,W=q?N.right:U.right,te=W-H,x=F-K;return{top:K,bottom:F,left:H,right:W,width:te,height:x,x:H,y:K}}const w=Wn(n)==="left",m=bt(...d.map(N=>N.right)),g=Hn(...d.map(N=>N.left)),_=d.filter(N=>w?N.left===g:N.right===m),p=_[0].top,I=_[_.length-1].bottom,T=g,R=m,C=R-T,D=I-p;return{top:p,bottom:I,left:T,right:R,width:C,height:D,x:T,y:p}}return h}const v=await s.getElementRects({reference:{getBoundingClientRect:y},floating:r.floating,strategy:o});return i.reference.x!==v.reference.x||i.reference.y!==v.reference.y||i.reference.width!==v.reference.width||i.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};async function XN(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Wn(n),a=Oa(n),l=Xs(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=jr(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:y}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof y=="number"&&(f=a==="end"?y*-1:y),l?{x:f*c,y:h*u}:{x:h*u,y:f*c}}const JN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await XN(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},ZN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:w=>{let{x:m,y:g}=w;return{x:m,y:g}}},...l}=jr(t,e),u={x:n,y:r},c=await fv(e,l),d=Xs(Wn(i)),h=uv(d);let f=u[h],y=u[d];if(s){const w=h==="y"?"top":"left",m=h==="y"?"bottom":"right",g=f+c[w],_=f-c[m];f=ug(g,f,_)}if(o){const w=d==="y"?"top":"left",m=d==="y"?"bottom":"right",g=y+c[w],_=y-c[m];y=ug(g,y,_)}const v=a.fn({...e,[h]:f,[d]:y});return{...v,data:{x:v.x-n,y:v.y-r}}}}},eO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=jr(t,e),c={x:n,y:r},d=Xs(i),h=uv(d);let f=c[h],y=c[d];const v=jr(a,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const _=h==="y"?"height":"width",p=s.reference[h]-s.floating[_]+w.mainAxis,I=s.reference[h]+s.reference[_]-w.mainAxis;f<p?f=p:f>I&&(f=I)}if(u){var m,g;const _=h==="y"?"width":"height",p=["top","left"].includes(Wn(i)),I=s.reference[d]-s.floating[_]+(p&&((m=o.offset)==null?void 0:m[d])||0)+(p?0:w.crossAxis),T=s.reference[d]+s.reference[_]+(p?0:((g=o.offset)==null?void 0:g[d])||0)-(p?w.crossAxis:0);y<I?y=I:y>T&&(y=T)}return{[h]:f,[d]:y}}}},tO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=jr(t,e),l=await fv(e,a),u=Wn(n),c=Oa(n),d=Xs(n)==="y",{width:h,height:f}=r.floating;let y,v;u==="top"||u==="bottom"?(y=u,v=c===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(v=u,y=c==="end"?"top":"bottom");const w=f-l[y],m=h-l[v],g=!e.middlewareData.shift;let _=w,p=m;if(d){const T=h-l.left-l.right;p=c||g?Hn(m,T):T}else{const T=f-l.top-l.bottom;_=c||g?Hn(w,T):T}if(g&&!c){const T=bt(l.left,0),R=bt(l.right,0),C=bt(l.top,0),D=bt(l.bottom,0);d?p=h-2*(T!==0||R!==0?T+R:bt(l.left,l.right)):_=f-2*(C!==0||D!==0?C+D:bt(l.top,l.bottom))}await o({...e,availableWidth:p,availableHeight:_});const I=await i.getDimensions(s.floating);return h!==I.width||f!==I.height?{reset:{rects:!0}}:{}}}};function Fi(t){return KS(t)?(t.nodeName||"").toLowerCase():"#document"}function cn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Gr(t){var e;return(e=(KS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function KS(t){return t instanceof Node||t instanceof cn(t).Node}function qr(t){return t instanceof Element||t instanceof cn(t).Element}function pr(t){return t instanceof HTMLElement||t instanceof cn(t).HTMLElement}function Pw(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cn(t).ShadowRoot}function Qu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function nO(t){return["table","td","th"].includes(Fi(t))}function pv(t){const e=mv(),n=xn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rO(t){let e=ma(t);for(;pr(e)&&!sf(e);){if(pv(e))return e;e=ma(e)}return null}function mv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sf(t){return["html","body","#document"].includes(Fi(t))}function xn(t){return cn(t).getComputedStyle(t)}function of(t){return qr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ma(t){if(Fi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pw(t)&&t.host||Gr(t);return Pw(e)?e.host:e}function GS(t){const e=ma(t);return sf(e)?t.ownerDocument?t.ownerDocument.body:t.body:pr(e)&&Qu(e)?e:GS(e)}function bi(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=GS(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=cn(i);return s?e.concat(o,o.visualViewport||[],Qu(i)?i:[],o.frameElement&&n?bi(o.frameElement):[]):e.concat(i,bi(i,[],n))}function QS(t){const e=xn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=pr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=sh(n)!==s||sh(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function gv(t){return qr(t)?t:t.contextElement}function jo(t){const e=gv(t);if(!pr(e))return Li(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=QS(e);let o=(s?sh(n.width):n.width)/r,a=(s?sh(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iO=Li(0);function YS(t){const e=cn(t);return!mv()||!e.visualViewport?iO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cn(t)?!1:e}function Ms(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=gv(t);let o=Li(1);e&&(r?qr(r)&&(o=jo(r)):o=jo(t));const a=sO(s,n,r)?YS(s):Li(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const h=cn(s),f=r&&qr(r)?cn(r):r;let y=h.frameElement;for(;y&&r&&f!==h;){const v=jo(y),w=y.getBoundingClientRect(),m=xn(y),g=w.left+(y.clientLeft+parseFloat(m.paddingLeft))*v.x,_=w.top+(y.clientTop+parseFloat(m.paddingTop))*v.y;l*=v.x,u*=v.y,c*=v.x,d*=v.y,l+=g,u+=_,y=cn(y).frameElement}}return pa({width:c,height:d,x:l,y:u})}function oO(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=pr(n),s=Gr(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=Li(1);const l=Li(0);if((i||!i&&r!=="fixed")&&((Fi(n)!=="body"||Qu(s))&&(o=of(n)),pr(n))){const u=Ms(n);a=jo(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function aO(t){return Array.from(t.getClientRects())}function XS(t){return Ms(Gr(t)).left+of(t).scrollLeft}function lO(t){const e=Gr(t),n=of(t),r=t.ownerDocument.body,i=bt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=bt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+XS(t);const a=-n.scrollTop;return xn(r).direction==="rtl"&&(o+=bt(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function uO(t,e){const n=cn(t),r=Gr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=mv();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function cO(t,e){const n=Ms(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=pr(t)?jo(t):Li(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Aw(t,e,n){let r;if(e==="viewport")r=uO(t,n);else if(e==="document")r=lO(Gr(t));else if(qr(e))r=cO(e,n);else{const i=YS(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return pa(r)}function JS(t,e){const n=ma(t);return n===e||!qr(n)||sf(n)?!1:xn(n).position==="fixed"||JS(n,e)}function dO(t,e){const n=e.get(t);if(n)return n;let r=bi(t,[],!1).filter(a=>qr(a)&&Fi(a)!=="body"),i=null;const s=xn(t).position==="fixed";let o=s?ma(t):t;for(;qr(o)&&!sf(o);){const a=xn(o),l=pv(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Qu(o)&&!l&&JS(t,o))?r=r.filter(c=>c!==o):i=a,o=ma(o)}return e.set(t,r),r}function hO(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?dO(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Aw(e,c,i);return u.top=bt(d.top,u.top),u.right=Hn(d.right,u.right),u.bottom=Hn(d.bottom,u.bottom),u.left=bt(d.left,u.left),u},Aw(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fO(t){return QS(t)}function pO(t,e,n){const r=pr(e),i=Gr(e),s=n==="fixed",o=Ms(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Li(0);if(r||!r&&!s)if((Fi(e)!=="body"||Qu(i))&&(a=of(e)),r){const u=Ms(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=XS(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Cw(t,e){return!pr(t)||xn(t).position==="fixed"?null:e?e(t):t.offsetParent}function ZS(t,e){const n=cn(t);if(!pr(t))return n;let r=Cw(t,e);for(;r&&nO(r)&&xn(r).position==="static";)r=Cw(r,e);return r&&(Fi(r)==="html"||Fi(r)==="body"&&xn(r).position==="static"&&!pv(r))?n:r||rO(t)||n}const mO=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||ZS,s=this.getDimensions;return{reference:pO(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function gO(t){return xn(t).direction==="rtl"}const yO={convertOffsetParentRelativeRectToViewportRelativeRect:oO,getDocumentElement:Gr,getClippingRect:hO,getOffsetParent:ZS,getElementRects:mO,getClientRects:aO,getDimensions:fO,getScale:jo,isElement:qr,isRTL:gO};function vO(t,e){let n=null,r;const i=Gr(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:d,height:h}=t.getBoundingClientRect();if(a||e(),!d||!h)return;const f=jc(c),y=jc(i.clientWidth-(u+d)),v=jc(i.clientHeight-(c+h)),w=jc(u),g={rootMargin:-f+"px "+-y+"px "+-v+"px "+-w+"px",threshold:bt(0,Hn(1,l))||1};let _=!0;function p(I){const T=I[0].intersectionRatio;if(T!==l){if(!_)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(p,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(p,g)}n.observe(t)}return o(!0),s}function _O(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=gv(t),c=i||s?[...u?bi(u):[],...bi(e)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),s&&m.addEventListener("resize",n)});const d=u&&a?vO(u,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(m=>{let[g]=m;g&&g.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{f&&f.observe(e)})),n()}),u&&!l&&f.observe(u),f.observe(e));let y,v=l?Ms(t):null;l&&w();function w(){const m=Ms(t);v&&(m.x!==v.x||m.y!==v.y||m.width!==v.width||m.height!==v.height)&&n(),v=m,y=requestAnimationFrame(w)}return n(),()=>{c.forEach(m=>{i&&m.removeEventListener("scroll",n),s&&m.removeEventListener("resize",n)}),d&&d(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(y)}}const wO=(t,e,n)=>{const r=new Map,i={platform:yO,...n},s={...i.platform,_c:r};return KN(t,e,{...i,platform:s})},EO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Rw({element:r.current,padding:i}).fn(n):{}:r?Rw({element:r,padding:i}).fn(n):{}}}};var md=typeof document<"u"?E.useLayoutEffect:E.useEffect;function ah(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!ah(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!ah(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function eR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xw(t,e){const n=eR(t);return Math.round(e*n)/n}function bw(t){const e=E.useRef(t);return md(()=>{e.current=t}),e}function IO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,d]=E.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=E.useState(r);ah(h,r)||f(r);const[y,v]=E.useState(null),[w,m]=E.useState(null),g=E.useCallback(W=>{W!=T.current&&(T.current=W,v(W))},[v]),_=E.useCallback(W=>{W!==R.current&&(R.current=W,m(W))},[m]),p=s||y,I=o||w,T=E.useRef(null),R=E.useRef(null),C=E.useRef(c),D=bw(l),N=bw(i),U=E.useCallback(()=>{if(!T.current||!R.current)return;const W={placement:e,strategy:n,middleware:h};N.current&&(W.platform=N.current),wO(T.current,R.current,W).then(te=>{const x={...te,isPositioned:!0};q.current&&!ah(C.current,x)&&(C.current=x,Xy.flushSync(()=>{d(x)}))})},[h,e,n,N]);md(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,d(W=>({...W,isPositioned:!1})))},[u]);const q=E.useRef(!1);md(()=>(q.current=!0,()=>{q.current=!1}),[]),md(()=>{if(p&&(T.current=p),I&&(R.current=I),p&&I){if(D.current)return D.current(p,I,U);U()}},[p,I,U,D]);const K=E.useMemo(()=>({reference:T,floating:R,setReference:g,setFloating:_}),[g,_]),F=E.useMemo(()=>({reference:p,floating:I}),[p,I]),H=E.useMemo(()=>{const W={position:n,left:0,top:0};if(!F.floating)return W;const te=xw(F.floating,c.x),x=xw(F.floating,c.y);return a?{...W,transform:"translate("+te+"px, "+x+"px)",...eR(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:x}},[n,a,F.floating,c.x,c.y]);return E.useMemo(()=>({...c,update:U,refs:K,elements:F,floatingStyles:H}),[c,U,K,F,H])}var Vr=typeof document<"u"?E.useLayoutEffect:E.useEffect;let Bp=!1,TO=0;const kw=()=>"floating-ui-"+TO++;function SO(){const[t,e]=E.useState(()=>Bp?kw():void 0);return Vr(()=>{t==null&&e(kw())},[]),E.useEffect(()=>{Bp||(Bp=!0)},[]),t}const RO=oy["useId".toString()],tR=RO||SO;function PO(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const AO=E.createContext(null),CO=E.createContext(null),nR=()=>{var t;return((t=E.useContext(AO))==null?void 0:t.id)||null},yv=()=>E.useContext(CO);function wi(t){return(t==null?void 0:t.ownerDocument)||document}function xO(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function bO(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function af(t){return wi(t).defaultView||window}function ir(t){return t?t instanceof Element||t instanceof af(t).Element:!1}function rR(t){return t?t instanceof HTMLElement||t instanceof af(t).HTMLElement:!1}function kO(t){if(typeof ShadowRoot>"u")return!1;const e=af(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function DO(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(xO())||e.test(bO()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function NO(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function iR(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function OO(t){return"nativeEvent"in t}function dg(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&kO(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function sR(t){return"data-floating-ui-"+t}function Dw(t){const e=E.useRef(t);return Vr(()=>{e.current=t}),e}const Nw=sR("safe-polygon");function gd(t,e,n){return n&&!iR(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function pz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:{domReference:o,floating:a},refs:l}=t,{enabled:u=!0,delay:c=0,handleClose:d=null,mouseOnly:h=!1,restMs:f=0,move:y=!0}=e,v=yv(),w=nR(),m=Dw(d),g=Dw(c),_=E.useRef(),p=E.useRef(),I=E.useRef(),T=E.useRef(),R=E.useRef(!0),C=E.useRef(!1),D=E.useRef(()=>{}),N=E.useCallback(()=>{var F;const H=(F=i.current.openEvent)==null?void 0:F.type;return(H==null?void 0:H.includes("mouse"))&&H!=="mousedown"},[i]);E.useEffect(()=>{if(!u)return;function F(){clearTimeout(p.current),clearTimeout(T.current),R.current=!0}return s.on("dismiss",F),()=>{s.off("dismiss",F)}},[u,s]),E.useEffect(()=>{if(!u||!m.current||!n)return;function F(W){N()&&r(!1,W)}const H=wi(a).documentElement;return H.addEventListener("mouseleave",F),()=>{H.removeEventListener("mouseleave",F)}},[a,n,r,u,m,i,N]);const U=E.useCallback(function(F,H){H===void 0&&(H=!0);const W=gd(g.current,"close",_.current);W&&!I.current?(clearTimeout(p.current),p.current=setTimeout(()=>r(!1,F),W)):H&&(clearTimeout(p.current),r(!1,F))},[g,r]),q=E.useCallback(()=>{D.current(),I.current=void 0},[]),K=E.useCallback(()=>{if(C.current){const F=wi(l.floating.current).body;F.style.pointerEvents="",F.removeAttribute(Nw),C.current=!1}},[l]);return E.useEffect(()=>{if(!u)return;function F(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function H(x){if(clearTimeout(p.current),R.current=!1,h&&!iR(_.current)||f>0&&gd(g.current,"open")===0)return;const Y=gd(g.current,"open",_.current);Y?p.current=setTimeout(()=>{r(!0,x)},Y):r(!0,x)}function W(x){if(F())return;D.current();const Y=wi(a);if(clearTimeout(T.current),m.current){n||clearTimeout(p.current),I.current=m.current({...t,tree:v,x:x.clientX,y:x.clientY,onClose(){K(),q(),U(x)}});const Ee=I.current;Y.addEventListener("mousemove",Ee),D.current=()=>{Y.removeEventListener("mousemove",Ee)};return}(_.current==="touch"?!dg(a,x.relatedTarget):!0)&&U(x)}function te(x){F()||m.current==null||m.current({...t,tree:v,x:x.clientX,y:x.clientY,onClose(){K(),q(),U(x)}})(x)}if(ir(o)){const x=o;return n&&x.addEventListener("mouseleave",te),a==null||a.addEventListener("mouseleave",te),y&&x.addEventListener("mousemove",H,{once:!0}),x.addEventListener("mouseenter",H),x.addEventListener("mouseleave",W),()=>{n&&x.removeEventListener("mouseleave",te),a==null||a.removeEventListener("mouseleave",te),y&&x.removeEventListener("mousemove",H),x.removeEventListener("mouseenter",H),x.removeEventListener("mouseleave",W)}}},[o,a,u,t,h,f,y,U,q,K,r,n,v,g,m,i]),Vr(()=>{var F;if(u&&n&&(F=m.current)!=null&&F.__options.blockPointerEvents&&N()){const te=wi(a).body;if(te.setAttribute(Nw,""),te.style.pointerEvents="none",C.current=!0,ir(o)&&a){var H,W;const x=o,Y=v==null||(H=v.nodesRef.current.find(ne=>ne.id===w))==null||(W=H.context)==null?void 0:W.elements.floating;return Y&&(Y.style.pointerEvents=""),x.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{x.style.pointerEvents="",a.style.pointerEvents=""}}}},[u,n,w,a,o,v,m,i,N]),Vr(()=>{n||(_.current=void 0,q(),K())},[n,q,K]),E.useEffect(()=>()=>{q(),clearTimeout(p.current),clearTimeout(T.current),K()},[u,q,K]),E.useMemo(()=>{if(!u)return{};function F(H){_.current=H.pointerType}return{reference:{onPointerDown:F,onPointerEnter:F,onMouseMove(H){n||f===0||(clearTimeout(T.current),T.current=setTimeout(()=>{R.current||r(!0,H.nativeEvent)},f))}},floating:{onMouseEnter(){clearTimeout(p.current)},onMouseLeave(H){s.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),U(H.nativeEvent,!1)}}}},[s,u,f,n,r,U])}const oR=E.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),MO=()=>E.useContext(oR),mz=t=>{let{children:e,delay:n,timeoutMs:r=0}=t;const[i,s]=E.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),o=E.useRef(null),a=E.useCallback(l=>{s({currentId:l})},[]);return Vr(()=>{i.currentId?o.current===null?o.current=i.currentId:s({isInstantPhase:!0}):(s({isInstantPhase:!1}),o.current=null)},[i.currentId]),E.createElement(oR.Provider,{value:E.useMemo(()=>({...i,setState:s,setCurrentId:a}),[i,s,a])},e)},gz=(t,e)=>{let{open:n,onOpenChange:r}=t,{id:i}=e;const{currentId:s,setCurrentId:o,initialDelay:a,setState:l,timeoutMs:u}=MO();Vr(()=>{s&&(l({delay:{open:1,close:gd(a,"close")}}),s!==i&&r(!1))},[i,r,l,s,a]),Vr(()=>{function c(){r(!1),l({delay:a,currentId:null})}if(!n&&s===i)if(u){const d=window.setTimeout(c,u);return()=>{clearTimeout(d)}}else c()},[n,l,s,i,r,a,u]),Vr(()=>{n&&o(i)},[n,o,i])};function VO(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function zp(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}function LO(t){return"composedPath"in t?t.composedPath()[0]:t.target}const FO=oy["useInsertionEffect".toString()],$O=FO||(t=>t());function yd(t){const e=E.useRef(()=>{});return $O(()=>{e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function vd(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}const UO={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},BO={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},zO=t=>{var e,n;return{escapeKeyBubbles:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePressBubbles:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function yz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:l},dataRef:u}=t,{enabled:c=!0,escapeKey:d=!0,outsidePress:h=!0,outsidePressEvent:f="pointerdown",referencePress:y=!1,referencePressEvent:v="pointerdown",ancestorScroll:w=!1,bubbles:m}=e,g=yv(),_=nR()!=null,p=yd(typeof h=="function"?h:()=>!1),I=typeof h=="function"?p:h,T=E.useRef(!1),{escapeKeyBubbles:R,outsidePressBubbles:C}=zO(m),D=yd(U=>{if(!n||!c||!d||U.key!=="Escape")return;const q=g?zp(g.nodesRef.current,s):[];if(!R&&(U.stopPropagation(),q.length>0)){let K=!0;if(q.forEach(F=>{var H;if((H=F.context)!=null&&H.open&&!F.context.dataRef.current.__escapeKeyBubbles){K=!1;return}}),!K)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,OO(U)?U.nativeEvent:U)}),N=yd(U=>{const q=T.current;if(T.current=!1,q||typeof I=="function"&&!I(U))return;const K=LO(U);if(rR(K)&&l){const W=K.clientWidth>0&&K.scrollWidth>K.clientWidth,te=K.clientHeight>0&&K.scrollHeight>K.clientHeight;let x=te&&U.offsetX>K.clientWidth;if(te&&af(l).getComputedStyle(K).direction==="rtl"&&(x=U.offsetX<=K.offsetWidth-K.clientWidth),x||W&&U.offsetY>K.clientHeight)return}const F=g&&zp(g.nodesRef.current,s).some(W=>{var te;return vd(U,(te=W.context)==null?void 0:te.elements.floating)});if(vd(U,l)||vd(U,a)||F)return;const H=g?zp(g.nodesRef.current,s):[];if(H.length>0){let W=!0;if(H.forEach(te=>{var x;if((x=te.context)!=null&&x.open&&!te.context.dataRef.current.__outsidePressBubbles){W=!1;return}}),!W)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:DO(U)||NO(U)}}),r(!1,U)});return E.useEffect(()=>{if(!n||!c)return;u.current.__escapeKeyBubbles=R,u.current.__outsidePressBubbles=C;function U(F){r(!1,F)}const q=wi(l);d&&q.addEventListener("keydown",D),I&&q.addEventListener(f,N);let K=[];return w&&(ir(a)&&(K=bi(a)),ir(l)&&(K=K.concat(bi(l))),!ir(o)&&o&&o.contextElement&&(K=K.concat(bi(o.contextElement)))),K=K.filter(F=>{var H;return F!==((H=q.defaultView)==null?void 0:H.visualViewport)}),K.forEach(F=>{F.addEventListener("scroll",U,{passive:!0})}),()=>{d&&q.removeEventListener("keydown",D),I&&q.removeEventListener(f,N),K.forEach(F=>{F.removeEventListener("scroll",U)})}},[u,l,a,o,d,I,f,n,r,w,c,R,C,D,N]),E.useEffect(()=>{T.current=!1},[I,f]),E.useMemo(()=>c?{reference:{onKeyDown:D,[UO[v]]:U=>{y&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,U.nativeEvent))}},floating:{onKeyDown:D,[BO[f]]:()=>{T.current=!0}}}:{},[c,i,y,f,v,r,D])}function jO(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[s,o]=E.useState(null),a=((e=t.elements)==null?void 0:e.reference)||s,l=IO(t),u=yv(),c=yd((p,I)=>{p&&(h.current.openEvent=I),r==null||r(p,I)}),d=E.useRef(null),h=E.useRef({}),f=E.useState(()=>PO())[0],y=tR(),v=E.useCallback(p=>{const I=ir(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),contextElement:p}:p;l.refs.setReference(I)},[l.refs]),w=E.useCallback(p=>{(ir(p)||p===null)&&(d.current=p,o(p)),(ir(l.refs.reference.current)||l.refs.reference.current===null||p!==null&&!ir(p))&&l.refs.setReference(p)},[l.refs]),m=E.useMemo(()=>({...l.refs,setReference:w,setPositionReference:v,domReference:d}),[l.refs,w,v]),g=E.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),_=E.useMemo(()=>({...l,refs:m,elements:g,dataRef:h,nodeId:i,floatingId:y,events:f,open:n,onOpenChange:c}),[l,i,y,f,n,c,m,g]);return Vr(()=>{const p=u==null?void 0:u.nodesRef.current.find(I=>I.id===i);p&&(p.context=_)}),E.useMemo(()=>({...l,context:_,refs:m,elements:g}),[l,m,g,_])}function vz(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,refs:o,elements:{floating:a,domReference:l}}=t,{enabled:u=!0,keyboardOnly:c=!0}=e,d=E.useRef(""),h=E.useRef(!1),f=E.useRef();return E.useEffect(()=>{if(!u)return;const v=wi(a).defaultView||window;function w(){!n&&rR(l)&&l===VO(wi(l))&&(h.current=!0)}return v.addEventListener("blur",w),()=>{v.removeEventListener("blur",w)}},[a,l,n,u]),E.useEffect(()=>{if(!u)return;function y(v){(v.type==="referencePress"||v.type==="escapeKey")&&(h.current=!0)}return s.on("dismiss",y),()=>{s.off("dismiss",y)}},[s,u]),E.useEffect(()=>()=>{clearTimeout(f.current)},[]),E.useMemo(()=>u?{reference:{onPointerDown(y){let{pointerType:v}=y;d.current=v,h.current=!!(v&&c)},onMouseLeave(){h.current=!1},onFocus(y){var v;h.current||y.type==="focus"&&((v=i.current.openEvent)==null?void 0:v.type)==="mousedown"&&vd(i.current.openEvent,l)||r(!0,y.nativeEvent)},onBlur(y){h.current=!1;const v=y.relatedTarget,w=ir(v)&&v.hasAttribute(sR("focus-guard"))&&v.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{dg(o.floating.current,v)||dg(l,v)||w||r(!1,y.nativeEvent)})}}}:{},[u,c,l,o,i,r])}function jp(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,l]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return(c=r.get(a))==null?void 0:c.map(y=>y(...h)).find(y=>y!==void 0)}}}else i[a]=l}),i),{})}}function _z(t){t===void 0&&(t=[]);const e=t,n=E.useCallback(s=>jp(s,t,"reference"),e),r=E.useCallback(s=>jp(s,t,"floating"),e),i=E.useCallback(s=>jp(s,t,"item"),t.map(s=>s==null?void 0:s.item));return E.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function wz(t,e){e===void 0&&(e={});const{open:n,floatingId:r}=t,{enabled:i=!0,role:s="dialog"}=e,o=tR();return E.useMemo(()=>{const a={id:r,role:s};return i?s==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":n?r:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:o}},floating:{...a,...s==="menu"&&{"aria-labelledby":o}}}:{}},[i,s,n,r,o])}function qO(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}function Ow(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function Mw(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const HO={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function WO({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:s,arrowY:o,dir:a}){const[l,u="center"]=t.split("-"),c={width:M(e),height:M(e),transform:"rotate(45deg)",position:"absolute",[HO[l]]:M(r)},d=M(-e/2);return l==="left"?{...c,...Ow(u,o,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...c,...Ow(u,o,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...c,...Mw(u,s,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...c,...Mw(u,s,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const aR=E.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:s,arrowX:o,arrowY:a,style:l,...u},c)=>{const{dir:d}=rf();return s?B.createElement("div",{...u,ref:c,style:{...l,...WO({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:o,arrowY:a})}}):null});aR.displayName="@mantine/core/FloatingArrow";const[KO,lR]=tv("Popover component was not found in the tree");function uR({children:t,active:e=!0,refProp:n="ref"}){const r=DD(e),i=Ku(r,t==null?void 0:t.ref);return ev(t)?E.cloneElement(t,{[n]:i}):t}uR.displayName="@mantine/core/FocusTrap";function GO(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const QO={},cR=E.forwardRef((t,e)=>{const{children:n,target:r,...i}=Ge("Portal",QO,t),[s,o]=E.useState(!1),a=E.useRef(null);return nf(()=>(o(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:GO(i),bS(e,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!s||!a.current?null:Xy.createPortal(B.createElement(B.Fragment,null,n),a.current)});cR.displayName="@mantine/core/Portal";function dR({withinPortal:t=!0,children:e,...n}){return t?B.createElement(cR,{...n},e):B.createElement(B.Fragment,null,e)}dR.displayName="@mantine/core/OptionalPortal";const ul=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${M(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),qc={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${M(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${M(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${M(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${M(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...ul("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...ul("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...ul("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...ul("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...ul("top"),common:{transformOrigin:"top right"}}},Vw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function YO({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in qc?{transitionProperty:qc[t].transitionProperty,...i,...qc[t].common,...qc[t][Vw[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[Vw[e]]}}function XO({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:s,onEntered:o,onExited:a}){const l=yr(),u=VD(),c=l.respectReducedMotion?u:!1,[d,h]=E.useState(c?0:t),[f,y]=E.useState(r?"entered":"exited"),v=E.useRef(-1),w=m=>{const g=m?i:s,_=m?o:a;y(m?"pre-entering":"pre-exiting"),window.clearTimeout(v.current);const p=c?0:m?t:e;if(h(p),p===0)typeof g=="function"&&g(),typeof _=="function"&&_(),y(m?"entered":"exited");else{const I=window.setTimeout(()=>{typeof g=="function"&&g(),y(m?"entering":"exiting")},10);v.current=window.setTimeout(()=>{window.clearTimeout(I),typeof _=="function"&&_(),y(m?"entered":"exited")},p)}};return Os(()=>{w(r)},[r]),E.useEffect(()=>()=>window.clearTimeout(v.current),[]),{transitionDuration:d,transitionStatus:f,transitionTimingFunction:n||"ease"}}function hR({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:s,timingFunction:o="ease",onExit:a,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:d,transitionStatus:h,transitionTimingFunction:f}=XO({mounted:i,exitDuration:r,duration:n,timingFunction:o,onExit:a,onEntered:l,onEnter:u,onExited:c});return d===0?i?B.createElement(B.Fragment,null,s({})):t?s({display:"none"}):null:h==="exited"?t?s({display:"none"}):null:B.createElement(B.Fragment,null,s(YO({transition:e,duration:d,state:h,timingFunction:f})))}hR.displayName="@mantine/core/Transition";var fR={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const JO={},vv=bn((t,e)=>{var w,m,g,_;const n=Ge("PopoverDropdown",JO,t),{className:r,style:i,vars:s,children:o,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,h=lR(),f=RD({opened:h.opened,shouldReturnFocus:h.returnFocus}),y=h.withRoles?{"aria-labelledby":h.getTargetId(),id:h.getDropdownId(),role:"dialog",tabIndex:-1}:{},v=Ku(e,h.floating);return h.disabled?null:B.createElement(dR,{...h.portalProps,withinPortal:h.withinPortal},B.createElement(hR,{mounted:h.opened,...h.transitionProps,transition:((w=h.transitionProps)==null?void 0:w.transition)||"fade",duration:((m=h.transitionProps)==null?void 0:m.duration)??150,keepMounted:h.keepMounted,exitDuration:typeof((g=h.transitionProps)==null?void 0:g.exitDuration)=="number"?h.transitionProps.exitDuration:(_=h.transitionProps)==null?void 0:_.duration},p=>B.createElement(uR,{active:h.trapFocus},B.createElement(ft,{...y,...d,variant:l,ref:v,onKeyDownCapture:mD(h.onClose,{active:h.closeOnEscape,onTrigger:f,onKeyDown:a}),"data-position":h.placement,...h.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...p,zIndex:h.zIndex,top:h.y??0,left:h.x??0,width:h.width==="target"?void 0:M(h.width)},i]})},o,B.createElement(aR,{ref:h.arrowRef,arrowX:h.arrowX,arrowY:h.arrowY,visible:h.withArrow,position:h.placement,arrowSize:h.arrowSize,arrowRadius:h.arrowRadius,arrowOffset:h.arrowOffset,arrowPosition:h.arrowPosition,...h.getStyles("arrow",{props:n,classNames:u,styles:c})})))))});vv.classes=fR;vv.displayName="@mantine/core/PopoverDropdown";const ZO={refProp:"ref",popupType:"dialog"},pR=bn((t,e)=>{const{children:n,refProp:r,popupType:i,...s}=Ge("PopoverTarget",ZO,t);if(!ev(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=s,a=lR(),l=Ku(a.reference,n.ref,e),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return E.cloneElement(n,{...o,...u,...a.targetProps,className:Ki(a.targetProps.className,o.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});pR.displayName="@mantine/core/PopoverTarget";function eM({opened:t,floating:e,position:n,positionDependencies:r}){const[i,s]=E.useState(0);E.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current)return _O(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),Os(()=>{e.update()},r),Os(()=>{s(o=>o+1)},[t])}function tM(t,e){var r,i,s,o;const n=[JN(t.offset)];return(r=t.middlewares)!=null&&r.shift&&n.push(ZN({limiter:eO()})),(i=t.middlewares)!=null&&i.flip&&n.push(GN()),(s=t.middlewares)!=null&&s.inline&&n.push(YN()),n.push(EO({element:t.arrowRef,padding:t.arrowOffset})),((o=t.middlewares)!=null&&o.size||t.width==="target")&&n.push(tO({apply({rects:a,availableWidth:l,availableHeight:u}){var h,f;const d=((h=e().refs.floating.current)==null?void 0:h.style)??{};(f=t.middlewares)!=null&&f.size&&Object.assign(d,{maxWidth:`${l}px`,maxHeight:`${u}px`}),t.width==="target"&&Object.assign(d,{width:`${a.reference.width}px`})}})),n}function nM(t){const[e,n]=rv({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=()=>{var o;e&&((o=t.onClose)==null||o.call(t),n(!1))},i=()=>{var o,a;e?((o=t.onClose)==null||o.call(t),n(!1)):((a=t.onOpen)==null||a.call(t),n(!0))},s=jO({placement:t.position,middleware:tM(t,()=>s)});return eM({opened:t.opened,position:t.position,positionDependencies:t.positionDependencies||[],floating:s}),Os(()=>{var o;(o=t.onPositionChange)==null||o.call(t,s.placement)},[s.placement]),Os(()=>{var o,a;t.opened?(a=t.onOpen)==null||a.call(t):(o=t.onClose)==null||o.call(t)},[t.opened]),{floating:s,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const rM={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:fD("popover"),__staticSelector:"Popover",width:"max-content"},iM=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:nv(e),"--popover-shadow":gD(n)}});function Js(t){var Ya,so,es,oo,Dn,Xa;const e=Ge("Popover",rM,t),{children:n,position:r,offset:i,onPositionChange:s,positionDependencies:o,opened:a,transitionProps:l,width:u,middlewares:c,withArrow:d,arrowSize:h,arrowOffset:f,arrowRadius:y,arrowPosition:v,unstyled:w,classNames:m,styles:g,closeOnClickOutside:_,withinPortal:p,portalProps:I,closeOnEscape:T,clickOutsideEvents:R,trapFocus:C,onClose:D,onOpen:N,onChange:U,zIndex:q,radius:K,shadow:F,id:H,defaultOpened:W,__staticSelector:te,withRoles:x,disabled:Y,returnFocus:ne,variant:Ee,keepMounted:ke,vars:Gn,...Te}=e,nn=vr({name:te,props:e,classes:fR,classNames:m,styles:g,unstyled:w,rootSelector:"dropdown",vars:Gn,varsResolver:iM}),Mt=E.useRef(null),[Qn,kn]=E.useState(null),[Ga,Qa]=E.useState(null),{dir:ro}=rf(),io=xS(H),lt=nM({middlewares:c,width:u,position:qO(ro,r),offset:typeof i=="number"?i+(d?h/2:0):i,arrowRef:Mt,arrowOffset:f,onPositionChange:s,positionDependencies:o,opened:a,defaultOpened:W,onChange:U,onOpen:N,onClose:D});ED(()=>_&&lt.onClose(),R,[Qn,Ga]);const Ec=E.useCallback(Jr=>{kn(Jr),lt.floating.refs.setReference(Jr)},[lt.floating.refs.setReference]),Zi=E.useCallback(Jr=>{Qa(Jr),lt.floating.refs.setFloating(Jr)},[lt.floating.refs.setFloating]);return B.createElement(KO,{value:{returnFocus:ne,disabled:Y,controlled:lt.controlled,reference:Ec,floating:Zi,x:lt.floating.x,y:lt.floating.y,arrowX:(es=(so=(Ya=lt.floating)==null?void 0:Ya.middlewareData)==null?void 0:so.arrow)==null?void 0:es.x,arrowY:(Xa=(Dn=(oo=lt.floating)==null?void 0:oo.middlewareData)==null?void 0:Dn.arrow)==null?void 0:Xa.y,opened:lt.opened,arrowRef:Mt,transitionProps:l,width:u,withArrow:d,arrowSize:h,arrowOffset:f,arrowRadius:y,arrowPosition:v,placement:lt.floating.placement,trapFocus:C,withinPortal:p,portalProps:I,zIndex:q,radius:K,shadow:F,closeOnEscape:T,onClose:lt.onClose,onToggle:lt.onToggle,getTargetId:()=>`${io}-target`,getDropdownId:()=>`${io}-dropdown`,withRoles:x,targetProps:Te,__staticSelector:te,classNames:m,styles:g,unstyled:w,variant:Ee,keepMounted:ke,getStyles:nn}},n)}Js.Target=pR;Js.Dropdown=vv;Js.displayName="@mantine/core/Popover";Js.extend=t=>t;var Bn={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const sM=E.forwardRef(({className:t,...e},n)=>B.createElement(ft,{component:"span",className:Ki(Bn.barsLoader,t),...e,ref:n},B.createElement("span",{className:Bn.bar}),B.createElement("span",{className:Bn.bar}),B.createElement("span",{className:Bn.bar}))),oM=E.forwardRef(({className:t,...e},n)=>B.createElement(ft,{component:"span",className:Ki(Bn.dotsLoader,t),...e,ref:n},B.createElement("span",{className:Bn.dot}),B.createElement("span",{className:Bn.dot}),B.createElement("span",{className:Bn.dot}))),aM=E.forwardRef(({className:t,...e},n)=>B.createElement(ft,{component:"span",className:Ki(Bn.ovalLoader,t),...e,ref:n})),mR={bars:sM,oval:aM,dots:oM},lM={loaders:mR,type:"oval"},uM=(t,{size:e,color:n})=>({root:{"--loader-size":Wi(e,"loader-size"),"--loader-color":n?cu(n,t):void 0}}),Yu=bn((t,e)=>{const n=Ge("Loader",lM,t),{size:r,color:i,type:s,vars:o,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:h,variant:f,children:y,...v}=n,w=vr({name:"Loader",props:n,classes:Bn,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:o,varsResolver:uM});return y?B.createElement(ft,{...w("root"),ref:e,...v},y):B.createElement(ft,{...w("root"),ref:e,component:h[s],variant:f,size:r,...v})});Yu.defaultLoaders=mR;Yu.classes=Bn;Yu.displayName="@mantine/core/Loader";var lf={root:"m-8d3f4000",loader:"m-302b9fb1",icon:"m-8d3afb97",group:"m-1a0f1b21"};const Lw={orientation:"horizontal"},cM=(t,{borderWidth:e})=>({group:{"--ai-border-width":M(e)}}),_v=bn((t,e)=>{const n=Ge("ActionIconGroup",Lw,t),{className:r,style:i,classNames:s,styles:o,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:h,...f}=Ge("ActionIconGroup",Lw,t),y=vr({name:"ActionIconGroup",props:n,classes:lf,className:r,style:i,classNames:s,styles:o,unstyled:a,vars:u,varsResolver:cM,rootSelector:"group"});return B.createElement(ft,{...y("group"),ref:e,variant:d,mod:[{"data-orientation":l},h],role:"group",...f})});_v.classes=lf;_v.displayName="@mantine/core/ActionIconGroup";const dM={},hM=(t,{size:e,radius:n,variant:r,gradient:i,color:s,autoContrast:o})=>{const a=t.variantColorResolver({color:s||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:o});return{root:{"--ai-size":Wi(e,"ai-size"),"--ai-radius":n===void 0?void 0:nv(n),"--ai-bg":s||r?a.background:void 0,"--ai-hover":s||r?a.hover:void 0,"--ai-hover-color":s||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":s||r?a.border:void 0}}},du=Gu((t,e)=>{const n=Ge("ActionIcon",dM,t),{className:r,unstyled:i,variant:s,classNames:o,styles:a,style:l,loading:u,loaderProps:c,size:d,color:h,radius:f,__staticSelector:y,gradient:v,vars:w,children:m,disabled:g,"data-disabled":_,autoContrast:p,mod:I,...T}=n,R=vr({name:["ActionIcon",y],props:n,className:r,style:l,classes:lf,classNames:o,styles:a,unstyled:i,vars:w,varsResolver:hM});return B.createElement(Na,{...R("root",{active:!g&&!u&&!_}),...T,unstyled:i,variant:s,size:d,disabled:g||u,ref:e,mod:[{loading:u,disabled:g||_},I]},B.createElement(ft,{component:"span",...R("loader"),"aria-hidden":!0},B.createElement(Yu,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})),B.createElement(ft,{component:"span",mod:{loading:u},...R("icon")},m))});du.classes=lf;du.displayName="@mantine/core/ActionIcon";du.Group=_v;const fM={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var gR={root:"m-8bffd616"};const pM={},lh=Gu((t,e)=>{const n=Ge("Flex",pM,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:h,justify:f,wrap:y,direction:v,...w}=n,m=vr({name:"Flex",classes:gR,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l}),g=yr(),_=US(),p=$S({styleProps:{gap:u,rowGap:c,columnGap:d,align:h,justify:f,wrap:y,direction:v},theme:g,data:fM});return B.createElement(B.Fragment,null,p.hasResponsiveStyles&&B.createElement(LS,{selector:`.${_}`,styles:p.styles,media:p.media}),B.createElement(ft,{ref:e,...m("root",{className:_,style:ef(p.inlineStyles)}),...w}))});lh.classes=gR;lh.displayName="@mantine/core/Flex";var yR={root:"m-4451eb3a"};const mM={},wv=Gu((t,e)=>{const n=Ge("Center",mM,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,inline:u,mod:c,...d}=n,h=vr({name:"Center",props:n,classes:yR,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l});return B.createElement(ft,{ref:e,mod:[{inline:u},c],...h("root"),...d})});wv.classes=yR;wv.displayName="@mantine/core/Center";var vR={root:"m-7485cace"};const gM={},yM=(t,{size:e,fluid:n})=>({root:{"--container-size":n?void 0:Wi(e,"container-size")}}),Ev=bn((t,e)=>{const n=Ge("Container",gM,t),{classNames:r,className:i,style:s,styles:o,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,h=vr({name:"Container",classes:vR,props:n,className:i,style:s,classNames:r,styles:o,unstyled:a,vars:l,varsResolver:yM});return B.createElement(ft,{ref:e,mod:[{fluid:u},c],...h("root"),...d})});Ev.classes=vR;Ev.displayName="@mantine/core/Container";function vM({open:t,close:e,openDelay:n,closeDelay:r}){const i=E.useRef(-1),s=E.useRef(-1),o=()=>{window.clearTimeout(i.current),window.clearTimeout(s.current)},a=()=>{o(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},l=()=>{o(),r===0||r===void 0?e():s.current=window.setTimeout(e,r)};return E.useEffect(()=>o,[]),{openDropdown:a,closeDropdown:l}}const[_M,Xu]=tv("Menu component was not found in the tree");var Ma={dropdown:"m-dc9b7c9f",label:"m-9bfac126",divider:"m-efdf90cb",item:"m-99ac2aa1",itemLabel:"m-5476e0d3",itemSection:"m-8b75e504"};const wM={},Iv=bn((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ge("MenuDivider",wM,t),l=Xu();return B.createElement(ft,{ref:e,...l.getStyles("divider",{className:r,style:i,styles:s,classNames:n}),...a})});Iv.classes=Ma;Iv.displayName="@mantine/core/MenuDivider";const EM={},Tv=bn((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,onMouseEnter:a,onMouseLeave:l,children:u,...c}=Ge("MenuDropdown",EM,t),d=E.useRef(null),h=Xu(),f=w=>{var m,g;(w.key==="ArrowUp"||w.key==="ArrowDown")&&(w.preventDefault(),(g=(m=d.current)==null?void 0:m.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||g.focus())},y=xr(a,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.openDropdown()),v=xr(l,()=>(h.trigger==="hover"||h.trigger==="click-hover")&&h.closeDropdown());return B.createElement(Js.Dropdown,{...c,onMouseEnter:y,onMouseLeave:v,role:"menu","aria-orientation":"vertical",ref:Ku(e,d),...h.getStyles("dropdown",{className:r,style:i,styles:s,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:f},B.createElement("div",{tabIndex:-1,"data-autofocus":!0}),u)});Tv.classes=Ma;Tv.displayName="@mantine/core/MenuDropdown";const IM={},Sv=Gu((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:h,...f}=Ge("MenuItem",IM,t),y=Xu(),v=yr(),{dir:w}=rf(),m=E.useRef(),g=y.getItemIndex(m.current),_=f,p=xr(_.onMouseLeave,()=>y.setHovered(-1)),I=xr(_.onMouseEnter,()=>y.setHovered(y.getItemIndex(m.current))),T=xr(_.onClick,()=>{typeof l=="boolean"?l&&y.closeDropdownImmediately():y.closeOnItemClick&&y.closeDropdownImmediately()}),R=xr(_.onFocus,()=>y.setHovered(y.getItemIndex(m.current))),C=a?v.variantColorResolver({color:a,theme:v,variant:"light"}):void 0,D=a?Da({color:a,theme:v}):null;return B.createElement(Na,{...f,unstyled:y.unstyled,tabIndex:y.menuItemTabIndex,onFocus:R,...y.getStyles("item",{className:r,style:i,styles:s,classNames:n}),ref:Ku(m,e),role:"menuitem",disabled:h,"data-menu-item":!0,"data-disabled":h||void 0,"data-hovered":y.hovered===g?!0:void 0,onMouseEnter:I,onMouseLeave:p,onClick:T,onKeyDown:TS({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:y.loop,dir:w,orientation:"vertical",onKeyDown:_.onKeydown}),__vars:{"--menu-item-color":D!=null&&D.isThemeColor&&(D==null?void 0:D.shade)===void 0?`var(--mantine-color-${D.color}-6)`:C==null?void 0:C.color,"--menu-item-hover":C==null?void 0:C.hover}},u&&B.createElement("div",{...y.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"left"},u),d&&B.createElement("div",{...y.getStyles("itemLabel",{styles:s,classNames:n})},d),c&&B.createElement("div",{...y.getStyles("itemSection",{styles:s,classNames:n}),"data-position":"right"},c))});Sv.classes=Ma;Sv.displayName="@mantine/core/MenuItem";const TM={},Rv=bn((t,e)=>{const{classNames:n,className:r,style:i,styles:s,vars:o,...a}=Ge("MenuLabel",TM,t),l=Xu();return B.createElement(ft,{ref:e,...l.getStyles("label",{className:r,style:i,styles:s,classNames:n}),...a})});Rv.classes=Ma;Rv.displayName="@mantine/core/MenuLabel";const SM={refProp:"ref"},_R=E.forwardRef((t,e)=>{const{children:n,refProp:r,...i}=Ge("MenuTarget",SM,t);if(!ev(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=Xu(),o=xr(n.props.onClick,()=>{s.trigger==="click"?s.toggleDropdown():s.trigger==="click-hover"&&(s.setOpenedViaClick(!0),s.opened||s.openDropdown())}),a=xr(n.props.onMouseEnter,()=>(s.trigger==="hover"||s.trigger==="click-hover")&&s.openDropdown()),l=xr(n.props.onMouseLeave,()=>{(s.trigger==="hover"||s.trigger==="click-hover"&&!s.openedViaClick)&&s.closeDropdown()});return B.createElement(Js.Target,{refProp:r,popupType:"menu",ref:e,...i},E.cloneElement(n,{onClick:o,onMouseEnter:a,onMouseLeave:l,"data-expanded":s.opened?!0:void 0}))});_R.displayName="@mantine/core/MenuTarget";const RM={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function on(t){const e=Ge("Menu",RM,t),{children:n,onOpen:r,onClose:i,opened:s,defaultOpened:o,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:h,openDelay:f,closeDelay:y,classNames:v,styles:w,unstyled:m,variant:g,vars:_,menuItemTabIndex:p,...I}=e,T=vr({name:"Menu",classes:Ma,props:e,classNames:v,styles:w,unstyled:m}),[R,{setHovered:C,resetHovered:D}]=vD(),[N,U]=rv({value:s,defaultValue:o,finalValue:!1,onChange:l}),[q,K]=E.useState(!1),F=()=>{U(!1),K(!1),N&&(i==null||i())},H=()=>{U(!0),!N&&(r==null||r())},W=()=>{N?F():H()},{openDropdown:te,closeDropdown:x}=vM({open:H,close:F,closeDelay:y,openDelay:f}),Y=ke=>yD("[data-menu-item]","[data-menu-dropdown]",ke),{resolvedClassNames:ne,resolvedStyles:Ee}=sN({classNames:v,styles:w,props:e});return Os(()=>{D()},[N]),B.createElement(_M,{value:{getStyles:T,opened:N,toggleDropdown:W,getItemIndex:Y,hovered:R,setHovered:C,openedViaClick:q,setOpenedViaClick:K,closeOnItemClick:u,closeDropdown:h==="click"?F:x,openDropdown:h==="click"?H:te,closeDropdownImmediately:F,loop:c,trigger:h,unstyled:m,menuItemTabIndex:p}},B.createElement(Js,{...I,opened:N,onChange:W,defaultOpened:o,trapFocus:a,closeOnEscape:d,__staticSelector:"Menu",classNames:ne,styles:Ee,unstyled:m,variant:g},n))}on.extend=t=>t;on.classes=Ma;on.displayName="@mantine/core/Menu";on.Item=Sv;on.Label=Rv;on.Dropdown=Tv;on.Target=_R;on.Divider=Iv;const[PM,Pv]=tv("Tabs component was not found in the tree");var Ju={root:"m-89d60db1","list--default":"m-576c9d4",list:"m-89d33d6d",panel:"m-b0c91715",tab:"m-4ec4dce6",tabSection:"m-fc420b1f","tab--default":"m-539e827b","list--outline":"m-6772fbd5","tab--outline":"m-b59ab47c","tab--pills":"m-c3381914"};const AM={},Av=bn((t,e)=>{const n=Ge("TabsList",AM,t),{children:r,className:i,grow:s,justify:o,classNames:a,styles:l,style:u,mod:c,...d}=n,h=Pv();return B.createElement(ft,{...d,...h.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:h.variant}),ref:e,role:"tablist",variant:h.variant,mod:[{grow:s,orientation:h.orientation,placement:h.orientation==="vertical"&&h.placement,inverted:h.inverted},c],"aria-orientation":h.orientation,__vars:{"--tabs-justify":o}},r)});Av.classes=Ju;Av.displayName="@mantine/core/TabsList";const CM={},Cv=bn((t,e)=>{const n=Ge("TabsPanel",CM,t),{children:r,className:i,value:s,classNames:o,styles:a,style:l,mod:u,...c}=n,d=Pv(),h=d.value===s,f=d.keepMounted||n.keepMounted||h?r:null;return B.createElement(ft,{...c,...d.getStyles("panel",{className:i,classNames:o,styles:a,style:[l,h?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:d.orientation},u],role:"tabpanel",id:d.getPanelId(s),"aria-labelledby":d.getTabId(s)},f)});Cv.classes=Ju;Cv.displayName="@mantine/core/TabsPanel";const xM={},xv=bn((t,e)=>{const n=Ge("TabsTab",xM,t),{className:r,children:i,rightSection:s,leftSection:o,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:h,classNames:f,styles:y,vars:v,mod:w,...m}=n,g=yr(),{dir:_}=rf(),p=Pv(),I=a===p.value,T=C=>{p.onChange(p.allowTabDeactivation&&a===p.value?null:a),l==null||l(C)},R={classNames:f,styles:y,props:n};return B.createElement(Na,{...m,...p.getStyles("tab",{className:r,style:h,variant:p.variant,...R}),disabled:c,unstyled:p.unstyled,variant:p.variant,mod:[{active:I,disabled:c,orientation:p.orientation,inverted:p.inverted,placement:p.orientation==="vertical"&&p.placement},w],ref:e,role:"tab",id:p.getTabId(a),"aria-selected":I,tabIndex:I||p.value===null?0:-1,"aria-controls":p.getPanelId(a),onClick:T,__vars:{"--tabs-color":d?cu(d,g):void 0},onKeyDown:TS({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:p.activateTabWithKeyboard,loop:p.loop,orientation:p.orientation||"horizontal",dir:_,onKeyDown:u})},o&&B.createElement("span",{...p.getStyles("tabSection",R),"data-position":"left"},o),i&&B.createElement("span",{...p.getStyles("tabLabel",R)},i),s&&B.createElement("span",{...p.getStyles("tabSection",R),"data-position":"right"},s))});xv.classes=Ju;xv.displayName="@mantine/core/TabsTab";const Fw="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",bM={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},kM=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":nv(e),"--tabs-color":cu(n,t),"--tabs-text-color":wN(r,t)?NS({color:n,theme:t}):void 0}}),nr=bn((t,e)=>{const n=Ge("Tabs",bM,t),{defaultValue:r,value:i,onChange:s,orientation:o,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:h,color:f,radius:y,inverted:v,placement:w,keepMounted:m,classNames:g,styles:_,unstyled:p,className:I,style:T,vars:R,autoContrast:C,mod:D,...N}=n,U=xS(u),[q,K]=rv({value:i,defaultValue:r,finalValue:null,onChange:s}),F=vr({name:"Tabs",props:n,classes:Ju,className:I,style:T,classNames:g,styles:_,unstyled:p,vars:R,varsResolver:kM});return B.createElement(PM,{value:{placement:w,value:q,orientation:o,id:U,loop:l,activateTabWithKeyboard:c,getTabId:fw(`${U}-tab`,Fw),getPanelId:fw(`${U}-panel`,Fw),onChange:K,allowTabDeactivation:d,variant:h,color:f,radius:y,inverted:v,keepMounted:m,unstyled:p,getStyles:F}},B.createElement(ft,{ref:e,id:U,variant:h,mod:[{orientation:o,inverted:o==="horizontal"&&v,placement:o==="vertical"&&w},D],...F("root"),...N},a))});nr.classes=Ju;nr.displayName="@mantine/core/Tabs";nr.Tab=xv;nr.Panel=Cv;nr.List=Av;var uf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cf=typeof window>"u"||"Deno"in window;function Vn(){}function DM(t,e){return typeof t=="function"?t(e):t}function NM(t){return typeof t=="number"&&t>=0&&t!==1/0}function OM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $w(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==bv(o,e.options))return!1}else if(!fu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function Uw(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(hu(e.options.mutationKey)!==hu(s))return!1}else if(!fu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function bv(t,e){return((e==null?void 0:e.queryKeyHashFn)||hu)(t)}function hu(t){return JSON.stringify(t,(e,n)=>hg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!fu(t[n],e[n])):!1}function wR(t,e){if(t===e)return t;const n=Bw(t)&&Bw(e);if(n||hg(t)&&hg(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let a=0;for(let l=0;l<s;l++){const u=n?l:i[l];o[u]=wR(t[u],e[u]),o[u]===t[u]&&a++}return r===s&&a===r?t:o}return e}function Ez(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Bw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hg(t){if(!zw(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!zw(n)||!n.hasOwnProperty("isPrototypeOf"))}function zw(t){return Object.prototype.toString.call(t)==="[object Object]"}function ER(t){return new Promise(e=>{setTimeout(e,t)})}function jw(t){ER(0).then(t)}function MM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wR(t,e):e}function VM(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LM(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ws,hi,Yo,ZI,FM=(ZI=class extends uf{constructor(){super();ve(this,ws,void 0);ve(this,hi,void 0);ve(this,Yo,void 0);ie(this,Yo,e=>{if(!cf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,hi)||this.setEventListener(k(this,Yo))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,hi))==null||e.call(this),ie(this,hi,void 0))}setEventListener(e){var n;ie(this,Yo,e),(n=k(this,hi))==null||n.call(this),ie(this,hi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){k(this,ws)!==e&&(ie(this,ws,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof k(this,ws)=="boolean"?k(this,ws):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ws=new WeakMap,hi=new WeakMap,Yo=new WeakMap,ZI),fg=new FM,Xo,fi,Jo,eT,$M=(eT=class extends uf{constructor(){super();ve(this,Xo,!0);ve(this,fi,void 0);ve(this,Jo,void 0);ie(this,Jo,e=>{if(!cf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,fi)||this.setEventListener(k(this,Jo))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,fi))==null||e.call(this),ie(this,fi,void 0))}setEventListener(e){var n;ie(this,Jo,e),(n=k(this,fi))==null||n.call(this),ie(this,fi,e(this.setOnline.bind(this)))}setOnline(e){k(this,Xo)!==e&&(ie(this,Xo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return k(this,Xo)}},Xo=new WeakMap,fi=new WeakMap,Jo=new WeakMap,eT),uh=new $M;function UM(t){return Math.min(1e3*2**t,3e4)}function kv(t){return(t??"online")==="online"?uh.isOnline():!0}var IR=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function qp(t){return t instanceof IR}function TR(t){let e=!1,n=0,r=!1,i,s,o;const a=new Promise((w,m)=>{s=w,o=m}),l=w=>{var m;r||(f(new IR(w)),(m=t.abort)==null||m.call(t))},u=()=>{e=!0},c=()=>{e=!1},d=()=>!fg.isFocused()||t.networkMode!=="always"&&!uh.isOnline(),h=w=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,w),i==null||i(),s(w))},f=w=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,w),i==null||i(),o(w))},y=()=>new Promise(w=>{var m;i=g=>{const _=r||!d();return _&&w(g),_},(m=t.onPause)==null||m.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(r)return;let w;try{w=t.fn()}catch(m){w=Promise.reject(m)}Promise.resolve(w).then(h).catch(m=>{var T;if(r)return;const g=t.retry??(cf?0:3),_=t.retryDelay??UM,p=typeof _=="function"?_(n,m):_,I=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,m);if(e||!I){f(m);return}n++,(T=t.onFail)==null||T.call(t,n,m),ER(p).then(()=>{if(d())return y()}).then(()=>{e?f(m):v()})})};return kv(t.networkMode)?v():y().then(v),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}function BM(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},s=c=>{e?t.push(c):jw(()=>{n(c)})},o=c=>(...d)=>{s(()=>{c(...d)})},a=()=>{const c=t;t=[],c.length&&jw(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:i,batchCalls:o,schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}var Lt=BM(),Es,tT,SR=(tT=class{constructor(){ve(this,Es,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NM(this.gcTime)&&ie(this,Es,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(cf?1/0:5*60*1e3))}clearGcTimeout(){k(this,Es)&&(clearTimeout(k(this,Es)),ie(this,Es,void 0))}},Es=new WeakMap,tT),Zo,ea,gn,pi,yn,ut,$u,Is,ta,_d,Ln,Ir,nT,zM=(nT=class extends SR{constructor(n){super();ve(this,ta);ve(this,Ln);ve(this,Zo,void 0);ve(this,ea,void 0);ve(this,gn,void 0);ve(this,pi,void 0);ve(this,yn,void 0);ve(this,ut,void 0);ve(this,$u,void 0);ve(this,Is,void 0);ie(this,Is,!1),ie(this,$u,n.defaultOptions),rt(this,ta,_d).call(this,n.options),ie(this,ut,[]),ie(this,gn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ie(this,Zo,n.state||jM(this.options)),this.state=k(this,Zo),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!k(this,ut).length&&this.state.fetchStatus==="idle"&&k(this,gn).remove(this)}setData(n,r){const i=MM(this.state.data,n,this.options);return rt(this,Ln,Ir).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){rt(this,Ln,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i;const r=k(this,pi);return(i=k(this,yn))==null||i.cancel(n),r?r.then(Vn).catch(Vn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,Zo))}isActive(){return k(this,ut).some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||k(this,ut).some(n=>n.getCurrentResult().isStale)}isStaleByTime(n=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!OM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=k(this,ut).find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=k(this,yn))==null||r.continue()}onOnline(){var r;const n=k(this,ut).find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=k(this,yn))==null||r.continue()}addObserver(n){k(this,ut).includes(n)||(k(this,ut).push(n),this.clearGcTimeout(),k(this,gn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){k(this,ut).includes(n)&&(ie(this,ut,k(this,ut).filter(r=>r!==n)),k(this,ut).length||(k(this,yn)&&(k(this,Is)?k(this,yn).cancel({revert:!0}):k(this,yn).cancelRetry()),this.scheduleGc()),k(this,gn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return k(this,ut).length}invalidate(){this.state.isInvalidated||rt(this,Ln,Ir).call(this,{type:"invalidate"})}fetch(n,r){var c,d,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(k(this,pi))return(c=k(this,yn))==null||c.continueRetry(),k(this,pi)}if(n&&rt(this,ta,_d).call(this,n),!this.options.queryFn){const y=k(this,ut).find(v=>v.options.queryFn);y&&rt(this,ta,_d).call(this,y.options)}const i=new AbortController,s={queryKey:this.queryKey,meta:this.meta},o=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(ie(this,Is,!0),i.signal)})};o(s);const a=()=>this.options.queryFn?(ie(this,Is,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};o(l),(d=this.options.behavior)==null||d.onFetch(l,this),ie(this,ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&rt(this,Ln,Ir).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const u=y=>{var v,w,m,g;qp(y)&&y.silent||rt(this,Ln,Ir).call(this,{type:"error",error:y}),qp(y)||((w=(v=k(this,gn).config).onError)==null||w.call(v,y,this),(g=(m=k(this,gn).config).onSettled)==null||g.call(m,this.state.data,y,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return ie(this,yn,TR({fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:y=>{var v,w,m,g;if(typeof y>"u"){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(y),(w=(v=k(this,gn).config).onSuccess)==null||w.call(v,y,this),(g=(m=k(this,gn).config).onSettled)==null||g.call(m,y,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(y,v)=>{rt(this,Ln,Ir).call(this,{type:"failed",failureCount:y,error:v})},onPause:()=>{rt(this,Ln,Ir).call(this,{type:"pause"})},onContinue:()=>{rt(this,Ln,Ir).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),ie(this,pi,k(this,yn).promise),k(this,pi)}},Zo=new WeakMap,ea=new WeakMap,gn=new WeakMap,pi=new WeakMap,yn=new WeakMap,ut=new WeakMap,$u=new WeakMap,Is=new WeakMap,ta=new WeakSet,_d=function(n){this.options={...k(this,$u),...n},this.updateGcTime(this.options.gcTime)},Ln=new WeakSet,Ir=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:n.meta??null,fetchStatus:kv(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return qp(s)&&s.revert&&k(this,ea)?{...k(this,ea),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Lt.batch(()=>{k(this,ut).forEach(i=>{i.onQueryUpdate()}),k(this,gn).notify({query:this,type:"updated",action:n})})},nT);function jM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Jn,rT,qM=(rT=class extends uf{constructor(e={}){super();ve(this,Jn,void 0);this.config=e,ie(this,Jn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??bv(i,n);let o=this.get(s);return o||(o=new zM({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){k(this,Jn).has(e.queryHash)||(k(this,Jn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=k(this,Jn).get(e.queryHash);n&&(e.destroy(),n===e&&k(this,Jn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,Jn).get(e)}getAll(){return[...k(this,Jn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>$w(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>$w(e,r)):n}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jn=new WeakMap,rT),Zn,Uu,rn,na,er,ii,iT,HM=(iT=class extends SR{constructor(n){super();ve(this,er);ve(this,Zn,void 0);ve(this,Uu,void 0);ve(this,rn,void 0);ve(this,na,void 0);this.mutationId=n.mutationId,ie(this,Uu,n.defaultOptions),ie(this,rn,n.mutationCache),ie(this,Zn,[]),this.state=n.state||WM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options={...k(this,Uu),...n},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){k(this,Zn).includes(n)||(k(this,Zn).push(n),this.clearGcTimeout(),k(this,rn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ie(this,Zn,k(this,Zn).filter(r=>r!==n)),this.scheduleGc(),k(this,rn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){k(this,Zn).length||(this.state.status==="pending"?this.scheduleGc():k(this,rn).remove(this))}continue(){var n;return((n=k(this,na))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,o,a,l,u,c,d,h,f,y,v,w,m,g,_,p,I,T,R,C;const r=()=>(ie(this,na,TR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(D,N)=>{rt(this,er,ii).call(this,{type:"failed",failureCount:D,error:N})},onPause:()=>{rt(this,er,ii).call(this,{type:"pause"})},onContinue:()=>{rt(this,er,ii).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),k(this,na).promise),i=this.state.status==="pending";try{if(!i){rt(this,er,ii).call(this,{type:"pending",variables:n}),await((o=(s=k(this,rn).config).onMutate)==null?void 0:o.call(s,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&rt(this,er,ii).call(this,{type:"pending",context:N,variables:n})}const D=await r();return await((c=(u=k(this,rn).config).onSuccess)==null?void 0:c.call(u,D,n,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,D,n,this.state.context)),await((y=(f=k(this,rn).config).onSettled)==null?void 0:y.call(f,D,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,D,null,n,this.state.context)),rt(this,er,ii).call(this,{type:"success",data:D}),D}catch(D){try{throw await((g=(m=k(this,rn).config).onError)==null?void 0:g.call(m,D,n,this.state.context,this)),await((p=(_=this.options).onError)==null?void 0:p.call(_,D,n,this.state.context)),await((T=(I=k(this,rn).config).onSettled)==null?void 0:T.call(I,void 0,D,this.state.variables,this.state.context,this)),await((C=(R=this.options).onSettled)==null?void 0:C.call(R,void 0,D,n,this.state.context)),D}finally{rt(this,er,ii).call(this,{type:"error",error:D})}}}},Zn=new WeakMap,Uu=new WeakMap,rn=new WeakMap,na=new WeakMap,er=new WeakSet,ii=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!kv(this.options.networkMode),status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Lt.batch(()=>{k(this,Zn).forEach(i=>{i.onMutationUpdate(n)}),k(this,rn).notify({mutation:this,type:"updated",action:n})})},iT);function WM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vn,Bu,Ts,sT,KM=(sT=class extends uf{constructor(e={}){super();ve(this,vn,void 0);ve(this,Bu,void 0);ve(this,Ts,void 0);this.config=e,ie(this,vn,[]),ie(this,Bu,0)}build(e,n,r){const i=new HM({mutationCache:this,mutationId:++Sc(this,Bu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){k(this,vn).push(e),this.notify({type:"added",mutation:e})}remove(e){ie(this,vn,k(this,vn).filter(n=>n!==e)),this.notify({type:"removed",mutation:e})}clear(){Lt.batch(()=>{k(this,vn).forEach(e=>{this.remove(e)})})}getAll(){return k(this,vn)}find(e){const n={exact:!0,...e};return k(this,vn).find(r=>Uw(n,r))}findAll(e={}){return k(this,vn).filter(n=>Uw(e,n))}notify(e){Lt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){return ie(this,Ts,(k(this,Ts)??Promise.resolve()).then(()=>{const e=k(this,vn).filter(n=>n.state.isPaused);return Lt.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch(Vn)),Promise.resolve()))}).then(()=>{ie(this,Ts,void 0)})),k(this,Ts)}},vn=new WeakMap,Bu=new WeakMap,Ts=new WeakMap,sT);function GM(t){return{onFetch:(e,n)=>{const r=async()=>{var y,v,w,m,g;const i=e.options,s=(w=(v=(y=e.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:w.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},d=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(_,p,I)=>{if(u)return Promise.reject();if(p==null&&_.pages.length)return Promise.resolve(_);const T={queryKey:e.queryKey,pageParam:p,direction:I?"backward":"forward",meta:e.options.meta};c(T);const R=await d(T),{maxPages:C}=e.options,D=I?LM:VM;return{pages:D(_.pages,R,C),pageParams:D(_.pageParams,p,C)}};let f;if(s&&o.length){const _=s==="backward",p=_?QM:qw,I={pages:o,pageParams:a},T=p(i,I);f=await h(I,T,_)}else{f=await h(l,a[0]??i.initialPageParam);const _=t??o.length;for(let p=1;p<_;p++){const I=qw(i,f);f=await h(f,I)}}return f};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function qw(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function QM(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var it,mi,gi,ra,ia,yi,sa,oa,oT,YM=(oT=class{constructor(t={}){ve(this,it,void 0);ve(this,mi,void 0);ve(this,gi,void 0);ve(this,ra,void 0);ve(this,ia,void 0);ve(this,yi,void 0);ve(this,sa,void 0);ve(this,oa,void 0);ie(this,it,t.queryCache||new qM),ie(this,mi,t.mutationCache||new KM),ie(this,gi,t.defaultOptions||{}),ie(this,ra,new Map),ie(this,ia,new Map),ie(this,yi,0)}mount(){Sc(this,yi)._++,k(this,yi)===1&&(ie(this,sa,fg.subscribe(()=>{fg.isFocused()&&(this.resumePausedMutations(),k(this,it).onFocus())})),ie(this,oa,uh.subscribe(()=>{uh.isOnline()&&(this.resumePausedMutations(),k(this,it).onOnline())})))}unmount(){var t,e;Sc(this,yi)._--,k(this,yi)===0&&((t=k(this,sa))==null||t.call(this),ie(this,sa,void 0),(e=k(this,oa))==null||e.call(this),ie(this,oa,void 0))}isFetching(t){return k(this,it).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return k(this,mi).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=k(this,it).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=k(this,it).find({queryKey:t}),i=r==null?void 0:r.state.data,s=DM(e,i);if(typeof s>"u")return;const o=this.defaultQueryOptions({queryKey:t});return k(this,it).build(this,o).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Lt.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;return(e=k(this,it).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=k(this,it);Lt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=k(this,it),r={type:"active",...t};return Lt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Lt.batch(()=>k(this,it).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Vn).catch(Vn)}invalidateQueries(t={},e={}){return Lt.batch(()=>{if(k(this,it).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Lt.batch(()=>k(this,it).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vn)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const n=k(this,it).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vn).catch(Vn)}fetchInfiniteQuery(t){return t.behavior=GM(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vn).catch(Vn)}resumePausedMutations(){return k(this,mi).resumePausedMutations()}getQueryCache(){return k(this,it)}getMutationCache(){return k(this,mi)}getDefaultOptions(){return k(this,gi)}setDefaultOptions(t){ie(this,gi,t)}setQueryDefaults(t,e){k(this,ra).set(hu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...k(this,ra).values()];let n={};return e.forEach(r=>{fu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){k(this,ia).set(hu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...k(this,ia).values()];let n={};return e.forEach(r=>{fu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...k(this,gi).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=bv(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...k(this,gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){k(this,it).clear(),k(this,mi).clear()}},it=new WeakMap,mi=new WeakMap,gi=new WeakMap,ra=new WeakMap,ia=new WeakMap,yi=new WeakMap,sa=new WeakMap,oa=new WeakMap,oT),RR=E.createContext(void 0),Sz=t=>{const e=E.useContext(RR);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},XM=({client:t,children:e})=>(E.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),E.createElement(RR.Provider,{value:t},e));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new ZM;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eV=function(t){const e=PR(t);return AR.encodeByteArray(e,!0)},ch=function(t){return eV(t).replace(/\./g,"")},CR=function(t){try{return AR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=()=>tV().__FIREBASE_DEFAULTS__,rV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CR(t[1]);return e&&JSON.parse(e)},df=()=>{try{return nV()||rV()||iV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xR=t=>{var e,n;return(n=(e=df())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sV=t=>{const e=xR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bR=()=>{var t;return(t=df())===null||t===void 0?void 0:t.config},kR=t=>{var e;return(e=df())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ch(JSON.stringify(n)),ch(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function uV(){var t;const e=(t=df())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function dV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hV(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fV(){return!uV()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DR(){try{return typeof indexedDB=="object"}catch{return!1}}function pV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV="FirebaseError";class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mV,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zu.prototype.create)}}class Zu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,a,r)}}function gV(t,e){return t.replace(yV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yV=/\{\$([^}]+)}/g;function vV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Hw(s)&&Hw(o)){if(!pu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Hw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _V(t,e){const n=new wV(t,e);return n.subscribe.bind(n)}class wV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SV(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TV(t){return t===as?void 0:t}function SV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const PV={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},AV=me.INFO,CV={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},xV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=CV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dv{constructor(e){this.name=e,this._logLevel=AV,this._logHandler=xV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const bV=(t,e)=>e.some(n=>t instanceof n);let Ww,Kw;function kV(){return Ww||(Ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DV(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NR=new WeakMap,pg=new WeakMap,OR=new WeakMap,Wp=new WeakMap,Nv=new WeakMap;function NV(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ki(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&NR.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}function OV(t){if(pg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pg.set(t,e)}let mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MV(t){mg=t(mg)}function VV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return OR.set(r,e.sort?e.sort():[e]),ki(r)}:DV().includes(t)?function(...e){return t.apply(Kp(this),e),ki(NR.get(this))}:function(...e){return ki(t.apply(Kp(this),e))}}function LV(t){return typeof t=="function"?VV(t):(t instanceof IDBTransaction&&OV(t),bV(t,kV())?new Proxy(t,mg):t)}function ki(t){if(t instanceof IDBRequest)return NV(t);if(Wp.has(t))return Wp.get(t);const e=LV(t);return e!==t&&(Wp.set(t,e),Nv.set(e,t)),e}const Kp=t=>Nv.get(t);function FV(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ki(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ki(o.result),l.oldVersion,l.newVersion,ki(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $V=["get","getKey","getAll","getAllKeys","count"],UV=["put","add","delete","clear"],Gp=new Map;function Gw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$V.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gp.set(e,s),s}MV(t=>({...t,get:(e,n,r)=>Gw(e,n)||t.get(e,n,r),has:(e,n)=>!!Gw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gg="@firebase/app",Qw="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls=new Dv("@firebase/app"),jV="@firebase/app-compat",qV="@firebase/analytics-compat",HV="@firebase/analytics",WV="@firebase/app-check-compat",KV="@firebase/app-check",GV="@firebase/auth",QV="@firebase/auth-compat",YV="@firebase/database",XV="@firebase/database-compat",JV="@firebase/functions",ZV="@firebase/functions-compat",e2="@firebase/installations",t2="@firebase/installations-compat",n2="@firebase/messaging",r2="@firebase/messaging-compat",i2="@firebase/performance",s2="@firebase/performance-compat",o2="@firebase/remote-config",a2="@firebase/remote-config-compat",l2="@firebase/storage",u2="@firebase/storage-compat",c2="@firebase/firestore",d2="@firebase/firestore-compat",h2="firebase",f2="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="[DEFAULT]",p2={[gg]:"fire-core",[jV]:"fire-core-compat",[HV]:"fire-analytics",[qV]:"fire-analytics-compat",[KV]:"fire-app-check",[WV]:"fire-app-check-compat",[GV]:"fire-auth",[QV]:"fire-auth-compat",[YV]:"fire-rtdb",[XV]:"fire-rtdb-compat",[JV]:"fire-fn",[ZV]:"fire-fn-compat",[e2]:"fire-iid",[t2]:"fire-iid-compat",[n2]:"fire-fcm",[r2]:"fire-fcm-compat",[i2]:"fire-perf",[s2]:"fire-perf-compat",[o2]:"fire-rc",[a2]:"fire-rc-compat",[l2]:"fire-gcs",[u2]:"fire-gcs-compat",[c2]:"fire-fst",[d2]:"fire-fst-compat","fire-js":"fire-js",[h2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,vg=new Map;function m2(t,e){try{t.container.addComponent(e)}catch(n){Ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ga(t){const e=t.name;if(vg.has(e))return Ls.debug(`There were multiple attempts to register component ${e}.`),!1;vg.set(e,t);for(const n of dh.values())m2(n,t);return!0}function hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Di=new Zu("app","Firebase",g2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=f2;function MR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Di.create("bad-app-name",{appName:String(i)});if(n||(n=bR()),!n)throw Di.create("no-options");const s=dh.get(i);if(s){if(pu(n,s.options)&&pu(r,s.config))return s;throw Di.create("duplicate-app",{appName:i})}const o=new RV(i);for(const l of vg.values())o.addComponent(l);const a=new y2(n,r,o);return dh.set(i,a),a}function VR(t=yg){const e=dh.get(t);if(!e&&t===yg&&bR())return MR();if(!e)throw Di.create("no-app",{appName:t});return e}function Ni(t,e,n){var r;let i=(r=p2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ls.warn(a.join(" "));return}ga(new Vs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="firebase-heartbeat-database",_2=1,mu="firebase-heartbeat-store";let Qp=null;function LR(){return Qp||(Qp=FV(v2,_2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mu)}}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),Qp}async function w2(t){try{return await(await LR()).transaction(mu).objectStore(mu).get(FR(t))}catch(e){if(e instanceof Qr)Ls.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ls.warn(n.message)}}}async function Yw(t,e){try{const r=(await LR()).transaction(mu,"readwrite");await r.objectStore(mu).put(e,FR(t)),await r.done}catch(n){if(n instanceof Qr)Ls.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ls.warn(r.message)}}}function FR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=1024,I2=30*24*60*60*1e3;class T2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Xw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=I2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xw(),{heartbeatsToSend:r,unsentEntries:i}=S2(this._heartbeatsCache.heartbeats),s=ch(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Xw(){return new Date().toISOString().substring(0,10)}function S2(t,e=E2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Jw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DR()?pV().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await w2(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Jw(t){return ch(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t){ga(new Vs("platform-logger",e=>new BV(e),"PRIVATE")),ga(new Vs("heartbeat",e=>new T2(e),"PRIVATE")),Ni(gg,Qw,t),Ni(gg,Qw,"esm2017"),Ni("fire-js","")}P2("");var A2="firebase",C2="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(A2,C2,"app");function $R(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x2=$R,UR=new Zu("auth","Firebase",$R());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Dv("@firebase/auth");function b2(t,...e){hh.logLevel<=me.WARN&&hh.warn(`Auth (${Va}): ${t}`,...e)}function wd(t,...e){hh.logLevel<=me.ERROR&&hh.error(`Auth (${Va}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw Ov(t,...e)}function hr(t,...e){return Ov(t,...e)}function BR(t,e,n){const r=Object.assign(Object.assign({},x2()),{[e]:n});return new Zu("auth","Firebase",r).create(e,{appName:t.name})}function k2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mr(t,"argument-error"),BR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ov(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UR.create(t,...e)}function le(t,e,...n){if(!t)throw Ov(e,...n)}function br(t){const e="INTERNAL ASSERTION FAILED: "+t;throw wd(e),new Error(e)}function Hr(t,e){t||br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function D2(){return Zw()==="http:"||Zw()==="https:"}function Zw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D2()||cV()||"connection"in navigator)?navigator.onLine:!0}function O2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=lV()||dV()}get(){return N2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=new tc(3e4,6e4);function Vv(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function La(t,e,n,r,i={}){return jR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ec(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),zR.fetch()(qR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function jR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},M2),e);try{const i=new F2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Hc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw BR(t,c,u);mr(t,c)}}catch(i){if(i instanceof Qr)throw i;mr(t,"network-request-failed",{message:String(i)})}}async function L2(t,e,n,r,i={}){const s=await La(t,e,n,r,i);return"mfaPendingCredential"in s&&mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function qR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mv(t.config,i):`${t.config.apiScheme}://${i}`}class F2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),V2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){return La(t,"POST","/v1/accounts:delete",e)}async function U2(t,e){return La(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function B2(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=Lv(r);le(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:$l(Yp(i.auth_time)),issuedAtTime:$l(Yp(i.iat)),expirationTime:$l(Yp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yp(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const i=CR(n);return i?JSON.parse(i):(wd("Failed to decode base64 JWT payload"),null)}catch(i){return wd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function z2(t){const e=Lv(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qr&&j2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function j2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await gu(t,U2(n,{idToken:r}));le(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?K2(s.providerUserInfo):[],a=W2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new HR(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function H2(t){const e=jt(t);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function K2(t){return t.map(e=>{var{providerId:n}=e,r=Jy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e){const n=await jR(t,{},async()=>{const r=ec({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=qR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Q2(t,e){return La(t,"POST","/v2/accounts:revokeToken",Vv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await G2(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new yu;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(le(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(le(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yu,this.toJSON())}_performRefresh(){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new HR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await gu(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return B2(this,e)}reload(){return H2(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gu(this,$2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:p,isAnonymous:I,providerData:T,stsTokenManager:R}=n;le(_&&R,e,"internal-error");const C=yu.fromJSON(this.name,R);le(typeof _=="string",e,"internal-error"),ti(d,e.name),ti(h,e.name),le(typeof p=="boolean",e,"internal-error"),le(typeof I=="boolean",e,"internal-error"),ti(f,e.name),ti(y,e.name),ti(v,e.name),ti(w,e.name),ti(m,e.name),ti(g,e.name);const D=new Ps({uid:_,auth:e,email:h,emailVerified:p,displayName:d,isAnonymous:I,photoURL:y,phoneNumber:f,tenantId:v,stsTokenManager:C,createdAt:m,lastLoginAt:g});return T&&Array.isArray(T)&&(D.providerData=T.map(N=>Object.assign({},N))),w&&(D._redirectEventId=w),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new yu;i.updateFromServerResponse(n);const s=new Ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function kr(t){Hr(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}WR.type="NONE";const tE=WR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ed(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ed("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qo(kr(tE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||kr(tE);const o=Ed(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ps._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new qo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XR(e))return"Blackberry";if(JR(e))return"Webos";if(Fv(e))return"Safari";if((e.includes("chrome/")||GR(e))&&!e.includes("edge/"))return"Chrome";if(YR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KR(t=at()){return/firefox\//i.test(t)}function Fv(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GR(t=at()){return/crios\//i.test(t)}function QR(t=at()){return/iemobile/i.test(t)}function YR(t=at()){return/android/i.test(t)}function XR(t=at()){return/blackberry/i.test(t)}function JR(t=at()){return/webos/i.test(t)}function ff(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Y2(t=at()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X2(){return hV()&&document.documentMode===10}function ZR(t=at()){return ff(t)||YR(t)||JR(t)||XR(t)||/windows phone/i.test(t)||QR(t)}function J2(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e=[]){let n;switch(t){case"Browser":n=nE(at());break;case"Worker":n=`${nE(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Va}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e={}){return La(t,"GET","/v2/passwordPolicy",Vv(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=6;class nL{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new Z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=O2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?jt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(kr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eL(this),n=new nL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Q2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&kr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[kr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&b2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pf(t){return jt(t)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_V(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function sL(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",iL().appendChild(r)})}function oL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e){const n=hf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(pu(s,e??{}))return i;mr(i,"already-initialized")}return n.initialize({options:e})}function lL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(kr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uL(t,e,n){const r=pf(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=tP(e),{host:o,port:a}=cL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||dL()}function tP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cL(t){const e=tP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iE(o)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(t,e){return L2(t,"POST","/v1/accounts:signInWithIdp",Vv(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="http://localhost";class Fs extends nP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jy(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ho(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:hL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ec(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends nc{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Rr.credential(n,r)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends nc{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends nc{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ps._fromIdTokenResponse(e,r,i),o=sE(r);return new ya({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new ya({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends Qr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ph(e,n,r,i)}}function rP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(t,s,e,r):s})}async function fL(t,e,n=!1){const r=await gu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ya._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await gu(t,rP(r,i,e,t),n);le(s.idToken,r,"internal-error");const o=Lv(s.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),ya._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e,n=!1){const r="signIn",i=await rP(t,r,e),s=await ya._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function gL(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function yL(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(){const t=at();return Fv(t)||ff(t)}const _L=1e3,wL=10;class sP extends iP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=vL()&&J2(),this.fallbackToPolling=ZR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);X2()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sP.type="LOCAL";const EL=sP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends iP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oP.type="SESSION";const aP=oP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await IL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Uv("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return window}function SL(t){fr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return typeof fr().WorkerGlobalScope<"u"&&typeof fr().importScripts=="function"}async function RL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AL(){return lP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="firebaseLocalStorageDb",CL=1,gh="firebaseLocalStorage",cP="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function xL(){const t=indexedDB.deleteDatabase(uP);return new rc(t).toPromise()}function wg(){const t=indexedDB.open(uP,CL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gh,{keyPath:cP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await xL(),e(await wg()))})})}async function oE(t,e,n){const r=gf(t,!0).put({[cP]:e,value:n});return new rc(r).toPromise()}async function bL(t,e){const n=gf(t,!1).get(e),r=await new rc(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=gf(t,!0).delete(e);return new rc(n).toPromise()}const kL=800,DL=3;class dP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>DL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(AL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RL(),!this.activeServiceWorker)return;this.sender=new TL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await oE(e,mh,"1"),await aE(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>bL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gf(i,!1).getAll();return new rc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dP.type="LOCAL";const NL=dP;new tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){return e?kr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv extends nP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OL(t){return mL(t.auth,new Bv(t),t.bypassAuthState)}function ML(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),pL(n,new Bv(t),t.bypassAuthState)}async function VL(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),fL(n,new Bv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OL;case"linkViaPopup":case"linkViaRedirect":return VL;case"reauthViaPopup":case"reauthViaRedirect":return ML;default:mr(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new tc(2e3,1e4);async function pP(t,e,n){const r=pf(t);k2(t,e,$v);const i=hP(r,n);return new gs(r,"signInViaPopup",e,i).executeNotNull()}class gs extends fP{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,gs.currentPopupAction&&gs.currentPopupAction.cancel(),gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LL.get())};e()}}gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="pendingRedirect",Id=new Map;class $L extends fP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Id.get(this.auth._key());if(!e){try{const r=await UL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Id.set(this.auth._key(),e)}return this.bypassAuthState||Id.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UL(t,e){const n=jL(e),r=zL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function BL(t,e){Id.set(t._key(),e)}function zL(t){return kr(t._redirectPersistence)}function jL(t){return Ed(FL,t.config.apiKey,t.name)}async function qL(t,e,n=!1){const r=pf(t),i=hP(r,e),o=await new $L(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=10*60*1e3;class WL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mP(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HL&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e={}){return La(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YL=/^https?/;async function XL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GL(t);for(const n of e)try{if(JL(n))return}catch{}mr(t,"unauthorized-domain")}function JL(t){const e=_g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YL.test(n))return!1;if(QL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new tc(3e4,6e4);function uE(){const t=fr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eF(t){return new Promise((e,n)=>{var r,i,s;function o(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),n(hr(t,"network-request-failed"))},timeout:ZL.get()})}if(!((i=(r=fr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=fr().gapi)===null||s===void 0)&&s.load)o();else{const a=oL("iframefcb");return fr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},sL(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Td=null,e})}let Td=null;function tF(t){return Td=Td||eF(t),Td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new tc(5e3,15e3),rF="__/auth/iframe",iF="emulator/auth/iframe",sF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aF(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mv(e,iF):`https://${t.config.authDomain}/${rF}`,r={apiKey:e.apiKey,appName:t.name,v:Va},i=oF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ec(r).slice(1)}`}async function lF(t){const e=await tF(t),n=fr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:aF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=fr().setTimeout(()=>{s(o)},nF.get());function l(){fr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cF=500,dF=600,hF="_blank",fF="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pF(t,e,n,r=cF,i=dF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},uF),{width:r.toString(),height:i.toString(),top:s,left:o}),u=at().toLowerCase();n&&(a=GR(u)?hF:n),KR(u)&&(e=e||fF,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,y])=>`${h}${f}=${y},`,"");if(Y2(u)&&a!=="_self")return mF(e||"",a),new cE(null);const d=window.open(e||"",a,c);le(d,t,"popup-blocked");try{d.focus()}catch{}return new cE(d)}function mF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="__/auth/handler",yF="emulator/auth/handler",vF=encodeURIComponent("fac");async function dE(t,e,n,r,i,s){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Va,eventId:i};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",vV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof nc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${vF}=${encodeURIComponent(l)}`:"";return`${_F(t)}?${ec(a).slice(1)}${u}`}function _F({config:t}){return t.emulator?Mv(t,yF):`https://${t.authDomain}/${gF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class wF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aP,this._completeRedirectFn=qL,this._overrideRedirectResult=BL}async _openPopup(e,n,r,i){var s;Hr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await dE(e,n,r,_g(),i);return pF(e,o,Uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await dE(e,n,r,_g(),i);return SL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lF(e),r=new WL(e);return n.register("authEvent",i=>(le(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xp];o!==void 0&&n(!!o),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZR()||Fv()||ff()}}const EF=wF;var hE="@firebase/auth",fE="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function SF(t){ga(new Vs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eP(t)},u=new rL(r,i,s,l);return lL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ga(new Vs("auth-internal",e=>{const n=pf(e.getProvider("auth").getImmediate());return(r=>new IF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(hE,fE,TF(t)),Ni(hE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=5*60,PF=kR("authIdTokenMaxAge")||RF;let pE=null;const AF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>PF)return;const i=n==null?void 0:n.token;pE!==i&&(pE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function vu(t=VR()){const e=hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aL(t,{popupRedirectResolver:EF,persistence:[NL,EL,aP]}),r=kR("authTokenSyncURL");if(r){const s=AF(r);yL(n,s,()=>s(n.currentUser)),gL(n,o=>s(o))}const i=xR("auth");return i&&uL(n,`http://${i}`),n}SF("Browser");var CF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,zv=zv||{},oe=CF||self;function yf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ic(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function xF(t){return Object.prototype.hasOwnProperty.call(t,Jp)&&t[Jp]||(t[Jp]=++bF)}var Jp="closure_uid_"+(1e9*Math.random()>>>0),bF=0;function kF(t,e,n){return t.call.apply(t.bind,arguments)}function DF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Dt=kF:Dt=DF,Dt.apply(null,arguments)}function Wc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Gi(){this.s=this.s,this.o=this.o}var NF=0;Gi.prototype.s=!1;Gi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),NF!=0)&&xF(this)};Gi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function jv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function mE(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Nt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Nt.prototype.h=function(){this.defaultPrevented=!0};var OF=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{oe.addEventListener("test",()=>{},e),oe.removeEventListener("test",()=>{},e)}catch{}return t}();function _u(t){return/^[\s\xa0]*$/.test(t)}function vf(){var t=oe.navigator;return t&&(t=t.userAgent)?t:""}function rr(t){return vf().indexOf(t)!=-1}function qv(t){return qv[" "](t),t}qv[" "]=function(){};function MF(t,e){var n=A$;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var VF=rr("Opera"),va=rr("Trident")||rr("MSIE"),yP=rr("Edge"),Eg=yP||va,vP=rr("Gecko")&&!(vf().toLowerCase().indexOf("webkit")!=-1&&!rr("Edge"))&&!(rr("Trident")||rr("MSIE"))&&!rr("Edge"),LF=vf().toLowerCase().indexOf("webkit")!=-1&&!rr("Edge");function _P(){var t=oe.document;return t?t.documentMode:void 0}var Ig;e:{var Zp="",em=function(){var t=vf();if(vP)return/rv:([^\);]+)(\)|;)/.exec(t);if(yP)return/Edge\/([\d\.]+)/.exec(t);if(va)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(LF)return/WebKit\/(\S+)/.exec(t);if(VF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(em&&(Zp=em?em[1]:""),va){var tm=_P();if(tm!=null&&tm>parseFloat(Zp)){Ig=String(tm);break e}}Ig=Zp}var Tg;if(oe.document&&va){var gE=_P();Tg=gE||parseInt(Ig,10)||void 0}else Tg=void 0;var FF=Tg;function wu(t,e){if(Nt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vP){e:{try{qv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$F[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wu.$.h.call(this)}}mt(wu,Nt);var $F={2:"touch",3:"pen",4:"mouse"};wu.prototype.h=function(){wu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sc="closure_listenable_"+(1e6*Math.random()|0),UF=0;function BF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++UF,this.fa=this.ia=!1}function _f(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Hv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function zF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function wP(t){const e={};for(const n in t)e[n]=t[n];return e}const yE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<yE.length;s++)n=yE[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wf(t){this.src=t,this.g={},this.h=0}wf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Rg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new BF(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Sg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=gP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_f(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Rg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Wv="closure_lm_"+(1e6*Math.random()|0),nm={};function IP(t,e,n,r,i){if(r&&r.once)return SP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)IP(t,e[s],n,r,i);return null}return n=Qv(n),t&&t[sc]?t.O(e,n,ic(r)?!!r.capture:!!r,i):TP(t,e,n,!1,r,i)}function TP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ic(i)?!!i.capture:!!i,a=Gv(t);if(a||(t[Wv]=a=new wf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=jF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OF||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(PP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jF(){function t(n){return e.call(t.src,t.listener,n)}const e=qF;return t}function SP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)SP(t,e[s],n,r,i);return null}return n=Qv(n),t&&t[sc]?t.P(e,n,ic(r)?!!r.capture:!!r,i):TP(t,e,n,!0,r,i)}function RP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)RP(t,e[s],n,r,i);else r=ic(r)?!!r.capture:!!r,n=Qv(n),t&&t[sc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Rg(s,n,r,i),-1<n&&(_f(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rg(e,n,r,i)),(n=-1<t?e[t]:null)&&Kv(n))}function Kv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sc])Sg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(PP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gv(e))?(Sg(n,t),n.h==0&&(n.src=null,e[Wv]=null)):_f(t)}}}function PP(t){return t in nm?nm[t]:nm[t]="on"+t}function qF(t,e){if(t.fa)t=!0;else{e=new wu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Kv(t),t=n.call(r,e)}return t}function Gv(t){return t=t[Wv],t instanceof wf?t:null}var rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(t){return typeof t=="function"?t:(t[rm]||(t[rm]=function(e){return t.handleEvent(e)}),t[rm])}function pt(){Gi.call(this),this.i=new wf(this),this.S=this,this.J=null}mt(pt,Gi);pt.prototype[sc]=!0;pt.prototype.removeEventListener=function(t,e,n,r){RP(this,t,e,n,r)};function It(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Nt(e,t);else if(e instanceof Nt)e.target=e.target||t;else{var i=e;e=new Nt(r,t),EP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Kc(o,r,!0,e)&&i}if(o=e.g=t,i=Kc(o,r,!0,e)&&i,i=Kc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Kc(o,r,!1,e)&&i}pt.prototype.N=function(){if(pt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_f(n[r]);delete t.g[e],t.h--}}this.J=null};pt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};pt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Kc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Sg(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Yv=oe.JSON.stringify;class HF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function WF(){var t=Xv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class KF{constructor(){this.h=this.g=null}add(e,n){const r=AP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var AP=new HF(()=>new GF,t=>t.reset());class GF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QF(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function YF(t){oe.setTimeout(()=>{throw t},0)}let Eu,Iu=!1,Xv=new KF,CP=()=>{const t=oe.Promise.resolve(void 0);Eu=()=>{t.then(XF)}};var XF=()=>{for(var t;t=WF();){try{t.h.call(t.g)}catch(n){YF(n)}var e=AP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Iu=!1};function Ef(t,e){pt.call(this),this.h=t||1,this.g=e||oe,this.j=Dt(this.qb,this),this.l=Date.now()}mt(Ef,pt);z=Ef.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(Jv(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Jv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}z.N=function(){Ef.$.N.call(this),Jv(this),delete this.g};function Zv(t,e,n){if(typeof t=="function")n&&(t=Dt(t,n));else if(t&&typeof t.handleEvent=="function")t=Dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:oe.setTimeout(t,e||0)}function xP(t){t.g=Zv(()=>{t.g=null,t.i&&(t.i=!1,xP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class JF extends Gi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xP(this)}N(){super.N(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tu(t){Gi.call(this),this.h=t,this.g={}}mt(Tu,Gi);var vE=[];function bP(t,e,n,r){Array.isArray(n)||(n&&(vE[0]=n.toString()),n=vE);for(var i=0;i<n.length;i++){var s=IP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function kP(t){Hv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Kv(e)},t),t.g={}}Tu.prototype.N=function(){Tu.$.N.call(this),kP(this)};Tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function If(){this.g=!0}If.prototype.Ea=function(){this.g=!1};function ZF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function e$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Oo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+n$(t,n)+(r?" "+r:"")})}function t$(t,e){t.info(function(){return"TIMEOUT: "+e})}If.prototype.info=function(){};function n$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Yv(n)}catch{return e}}var Zs={},_E=null;function Tf(){return _E=_E||new pt}Zs.Ta="serverreachability";function DP(t){Nt.call(this,Zs.Ta,t)}mt(DP,Nt);function Su(t){const e=Tf();It(e,new DP(e))}Zs.STAT_EVENT="statevent";function NP(t,e){Nt.call(this,Zs.STAT_EVENT,t),this.stat=e}mt(NP,Nt);function $t(t){const e=Tf();It(e,new NP(e,t))}Zs.Ua="timingevent";function OP(t,e){Nt.call(this,Zs.Ua,t),this.size=e}mt(OP,Nt);function oc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){t()},e)}var Sf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function e_(){}e_.prototype.h=null;function wE(t){return t.h||(t.h=t.i())}function VP(){}var ac={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function t_(){Nt.call(this,"d")}mt(t_,Nt);function n_(){Nt.call(this,"c")}mt(n_,Nt);var Pg;function Rf(){}mt(Rf,e_);Rf.prototype.g=function(){return new XMLHttpRequest};Rf.prototype.i=function(){return{}};Pg=new Rf;function lc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Tu(this),this.P=r$,t=Eg?125:void 0,this.V=new Ef(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new LP}function LP(){this.i=null,this.g="",this.h=!1}var r$=45e3,Ag={},yh={};z=lc.prototype;z.setTimeout=function(t){this.P=t};function Cg(t,e,n){t.L=1,t.v=Af(Wr(e)),t.s=n,t.S=!0,FP(t,null)}function FP(t,e){t.G=Date.now(),uc(t),t.A=Wr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),WP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new LP,t.g=fA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new JF(Dt(t.Pa,t,t.g),t.O)),bP(t.U,t.g,"readystatechange",t.nb),e=t.I?wP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Su(),ZF(t.j,t.u,t.A,t.m,t.W,t.s)}z.nb=function(t){t=t.target;const e=this.M;e&&sr(t)==3?e.l():this.Pa(t)};z.Pa=function(t){try{if(t==this.g)e:{const c=sr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Eg||this.g&&(this.h.h||this.g.ja()||SE(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Su(3):Su(2)),Pf(this);var n=this.g.da();this.ca=n;t:if($P(this)){var r=SE(this.g);t="";var i=r.length,s=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),Ul(this);var o="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,e$(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_u(a)){var u=a;break t}}u=null}if(n=u)Oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xg(this,n);else{this.i=!1,this.o=3,$t(12),ys(this),Ul(this);break e}}this.S?(UP(this,c,o),Eg&&this.i&&c==3&&(bP(this.U,this.V,"tick",this.mb),this.V.start())):(Oo(this.j,this.m,o,null),xg(this,o)),c==4&&ys(this),this.i&&!this.J&&(c==4?uA(this.l,this):(this.i=!1,uc(this)))}else S$(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,$t(12)):(this.o=0,$t(13)),ys(this),Ul(this)}}}catch{}finally{}};function $P(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function UP(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=i$(t,n),i==yh){e==4&&(t.o=4,$t(14),r=!1),Oo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Ag){t.o=4,$t(15),Oo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Oo(t.j,t.m,i,null),xg(t,i);$P(t)&&i!=yh&&i!=Ag&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,$t(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),l_(e),e.M=!0,$t(11))):(Oo(t.j,t.m,n,"[Invalid Chunked Response]"),ys(t),Ul(t))}z.mb=function(){if(this.g){var t=sr(this.g),e=this.g.ja();this.C<e.length&&(Pf(this),UP(this,t,e),this.i&&t!=4&&uc(this))}};function i$(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?yh:(n=Number(e.substring(n,r)),isNaN(n)?Ag:(r+=1,r+n>e.length?yh:(e=e.slice(r,r+n),t.C=r+n,e)))}z.cancel=function(){this.J=!0,ys(this)};function uc(t){t.Y=Date.now()+t.P,BP(t,t.P)}function BP(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=oc(Dt(t.lb,t),e)}function Pf(t){t.B&&(oe.clearTimeout(t.B),t.B=null)}z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(t$(this.j,this.A),this.L!=2&&(Su(),$t(17)),ys(this),this.o=2,Ul(this)):BP(this,this.Y-t)};function Ul(t){t.l.H==0||t.J||uA(t.l,t)}function ys(t){Pf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Jv(t.V),kP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function xg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||bg(n.i,t))){if(!t.K&&bg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wh(n),bf(n);else break e;a_(n),$t(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=oc(Dt(n.ib,n),6e3));if(1>=QP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vs(n,11)}else if((t.K||n.g==t)&&wh(n),!_u(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const y=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(r_(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Oe(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=hA(r,r.J?r.pa:null,r.Y),o.K){YP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Pf(a),uc(a)),r.g=o}else aA(r);0<n.j.length&&kf(n)}else u[0]!="stop"&&u[0]!="close"||vs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?vs(n,7):o_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Su(4)}catch{}}function s$(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function o$(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=o$(t),r=s$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var jP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function As(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof As){this.h=t.h,vh(this,t.j),this.s=t.s,this.g=t.g,_h(this,t.m),this.l=t.l;var e=t.i,n=new Ru;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),EE(this,n),this.o=t.o}else t&&(e=String(t).match(jP))?(this.h=!1,vh(this,e[1]||"",!0),this.s=Rl(e[2]||""),this.g=Rl(e[3]||"",!0),_h(this,e[4]),this.l=Rl(e[5]||"",!0),EE(this,e[6]||"",!0),this.o=Rl(e[7]||"")):(this.h=!1,this.i=new Ru(null,this.h))}As.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pl(e,IE,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Pl(e,IE,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pl(n,n.charAt(0)=="/"?c$:u$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Pl(n,h$)),t.join("")};function Wr(t){return new As(t)}function vh(t,e,n){t.j=n?Rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _h(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function EE(t,e,n){e instanceof Ru?(t.i=e,f$(t.i,t.h)):(n||(e=Pl(e,d$)),t.i=new Ru(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function Af(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,l$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function l$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var IE=/[#\/\?@]/g,u$=/[#\?:]/g,c$=/[#\?]/g,d$=/[#\?@]/g,h$=/#/g;function Ru(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qi(t){t.g||(t.g=new Map,t.h=0,t.i&&a$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}z=Ru.prototype;z.add=function(t,e){Qi(this),this.i=null,t=Fa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function qP(t,e){Qi(t),e=Fa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function HP(t,e){return Qi(t),e=Fa(t,e),t.g.has(e)}z.forEach=function(t,e){Qi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};z.ta=function(){Qi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};z.Z=function(t){Qi(this);let e=[];if(typeof t=="string")HP(this,t)&&(e=e.concat(this.g.get(Fa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};z.set=function(t,e){return Qi(this),this.i=null,t=Fa(this,t),HP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function WP(t,e,n){qP(t,e),0<n.length&&(t.i=null,t.g.set(Fa(t,e),jv(n)),t.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Fa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function f$(t,e){e&&!t.j&&(Qi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(qP(this,r),WP(this,i,n))},t)),t.j=e}var p$=class{constructor(t,e){this.g=t,this.map=e}};function KP(t){this.l=t||m$,oe.PerformanceNavigationTiming?(t=oe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(oe.g&&oe.g.Ka&&oe.g.Ka()&&oe.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var m$=10;function GP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function QP(t){return t.h?1:t.g?t.g.size:0}function bg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function r_(t,e){t.g?t.g.add(e):t.h=e}function YP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KP.prototype.cancel=function(){if(this.i=XP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function XP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return jv(t.i)}var g$=class{stringify(t){return oe.JSON.stringify(t,void 0)}parse(t){return oe.JSON.parse(t,void 0)}};function y$(){this.g=new g$}function v$(t,e,n){const r=n||"";try{zP(t,function(i,s){let o=i;ic(i)&&(o=Yv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _$(t,e){const n=new If;if(oe.Image){const r=new Image;r.onload=Wc(Gc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wc(Gc,n,r,"TestLoadImage: error",!1,e),r.onabort=Wc(Gc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wc(Gc,n,r,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Gc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function cc(t){this.l=t.ec||null,this.j=t.ob||!1}mt(cc,e_);cc.prototype.g=function(){return new Cf(this.l,this.j)};cc.prototype.i=function(t){return function(){return t}}({});function Cf(t,e){pt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=i_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(Cf,pt);var i_=0;z=Cf.prototype;z.open=function(t,e){if(this.readyState!=i_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pu(this)};z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||oe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dc(this)),this.readyState=i_};z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pu(this)),this.g&&(this.readyState=3,Pu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function JP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dc(this):Pu(this),this.readyState==3&&JP(this)}};z.Za=function(t){this.g&&(this.response=this.responseText=t,dc(this))};z.Ya=function(t){this.g&&(this.response=t,dc(this))};z.ka=function(){this.g&&dc(this)};function dc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pu(t)}z.setRequestHeader=function(t,e){this.v.append(t,e)};z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Cf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var w$=oe.JSON.parse;function Qe(t){pt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZP,this.L=this.M=!1}mt(Qe,pt);var ZP="",E$=/^https?$/i,I$=["POST","PUT"];z=Qe.prototype;z.Oa=function(t){this.M=t};z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Pg.g(),this.C=this.u?wE(this.u):wE(Pg),this.g.onreadystatechange=Dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){TE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=oe.FormData&&t instanceof oe.FormData,!(0<=gP(I$,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nA(this),0<this.B&&((this.L=T$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dt(this.ua,this)):this.A=Zv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){TE(this,s)}};function T$(t){return va&&typeof t.timeout=="number"&&t.ontimeout!==void 0}z.ua=function(){typeof zv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function TE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eA(t),xf(t)}function eA(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),xf(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xf(this,!0)),Qe.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?tA(this):this.kb())};z.kb=function(){tA(this)};function tA(t){if(t.h&&typeof zv<"u"&&(!t.C[1]||sr(t)!=4||t.da()!=2)){if(t.v&&sr(t)==4)Zv(t.La,0,t);else if(It(t,"readystatechange"),sr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(jP)[1]||null;!i&&oe.self&&oe.self.location&&(i=oe.self.location.protocol.slice(0,-1)),r=!E$.test(i?i.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var s=2<sr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",eA(t)}}finally{xf(t)}}}}function xf(t,e){if(t.g){nA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch{}}}function nA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(oe.clearTimeout(t.A),t.A=null)}z.isActive=function(){return!!this.g};function sr(t){return t.g?t.g.readyState:0}z.da=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),w$(e)}};function SE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ZP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function S$(t){const e={};t=(t.g&&2<=sr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(_u(t[r]))continue;var n=QF(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}zF(e,function(r){return r.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rA(t){let e="";return Hv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function s_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function cl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iA(t){this.Ga=0,this.j=[],this.l=new If,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=cl("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=cl("baseRetryDelayMs",5e3,t),this.hb=cl("retryDelaySeedMs",1e4,t),this.eb=cl("forwardChannelMaxRetries",2,t),this.xa=cl("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new KP(t&&t.concurrentRequestLimit),this.Ja=new y$,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=iA.prototype;z.ra=8;z.H=1;function o_(t){if(sA(t),t.H==3){var e=t.W++,n=Wr(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),hc(t,n),e=new lc(t,t.l,e),e.L=2,e.v=Af(Wr(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon)try{n=oe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&oe.Image&&(new Image().src=e.v,n=!0),n||(e.g=fA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uc(e)}dA(t)}function bf(t){t.g&&(l_(t),t.g.cancel(),t.g=null)}function sA(t){bf(t),t.u&&(oe.clearTimeout(t.u),t.u=null),wh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&oe.clearTimeout(t.m),t.m=null)}function kf(t){if(!GP(t.i)&&!t.m){t.m=!0;var e=t.Na;Eu||CP(),Iu||(Eu(),Iu=!0),Xv.add(e,t),t.C=0}}function R$(t,e){return QP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=oc(Dt(t.Na,t,e),cA(t,t.C)),t.C++,!0)}z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=wP(s),EP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oA(this,i,e),n=Wr(this.I),Oe(n,"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),hc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(rA(s)))+"&"+e:this.o&&s_(n,this.o,s)),r_(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,Cg(i,n,null)):Cg(i,n,e),this.H=2}}else this.H==3&&(t?RE(this,t):this.j.length==0||GP(this.i)||RE(this))};function RE(t,e){var n;e?n=e.m:n=t.W++;const r=Wr(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),hc(t,r),t.o&&t.s&&s_(r,t.o,t.s),n=new lc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),r_(t.i,n),Cg(n,r,e)}function hc(t,e){t.na&&Hv(t.na,function(n,r){Oe(e,r,n)}),t.h&&zP({},function(n,r){Oe(e,r,n)})}function oA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Dt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{v$(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function aA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Eu||CP(),Iu||(Eu(),Iu=!0),Xv.add(e,t),t.A=0}}function a_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=oc(Dt(t.Ma,t),cA(t,t.A)),t.A++,!0)}z.Ma=function(){if(this.u=null,lA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=oc(Dt(this.jb,this),t)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$t(10),bf(this),lA(this))};function l_(t){t.B!=null&&(oe.clearTimeout(t.B),t.B=null)}function lA(t){t.g=new lc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Wr(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),hc(t,e),t.o&&t.s&&s_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Af(Wr(e)),n.s=null,n.S=!0,FP(n,t)}z.ib=function(){this.v!=null&&(this.v=null,bf(this),a_(this),$t(19))};function wh(t){t.v!=null&&(oe.clearTimeout(t.v),t.v=null)}function uA(t,e){var n=null;if(t.g==e){wh(t),l_(t),t.g=null;var r=2}else if(bg(t.i,e))n=e.F,YP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Tf(),It(r,new OP(r,n)),kf(t)}else aA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&R$(t,e)||r==2&&a_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:vs(t,5);break;case 4:vs(t,10);break;case 3:vs(t,6);break;default:vs(t,2)}}}function cA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Dt(t.pb,t);n||(n=new As("//www.google.com/images/cleardot.gif"),oe.location&&oe.location.protocol=="http"||vh(n,"https"),Af(n)),_$(n.toString(),r)}else $t(2);t.H=0,t.h&&t.h.za(e),dA(t),sA(t)}z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),$t(2)):(this.l.info("Failed to ping google.com"),$t(1))};function dA(t){if(t.H=0,t.ma=[],t.h){const e=XP(t.i);(e.length!=0||t.j.length!=0)&&(mE(t.ma,e),mE(t.ma,t.j),t.i.i.length=0,jv(t.j),t.j.length=0),t.h.ya()}}function hA(t,e,n){var r=n instanceof As?Wr(n):new As(n);if(r.g!="")e&&(r.g=e+"."+r.g),_h(r,r.m);else{var i=oe.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new As(null);r&&vh(s,r),e&&(s.g=e),i&&_h(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),hc(t,r),r}function fA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Qe(new cc({ob:!0})):new Qe(t.va),e.Oa(t.J),e}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function pA(){}z=pA.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function Eh(){if(va&&!(10<=Number(FF)))throw Error("Environmental error: no available transport.")}Eh.prototype.g=function(t,e){return new hn(t,e)};function hn(t,e){pt.call(this),this.g=new iA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!_u(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_u(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new $a(this)}mt(hn,pt);hn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;$t(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=hA(t,null,t.Y),kf(t)};hn.prototype.close=function(){o_(this.g)};hn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Yv(t),t=n);e.j.push(new p$(e.fb++,t)),e.H==3&&kf(e)};hn.prototype.N=function(){this.g.h=null,delete this.j,o_(this.g),delete this.g,hn.$.N.call(this)};function mA(t){t_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(mA,t_);function gA(){n_.call(this),this.status=1}mt(gA,n_);function $a(t){this.g=t}mt($a,pA);$a.prototype.Ba=function(){It(this.g,"a")};$a.prototype.Aa=function(t){It(this.g,new mA(t))};$a.prototype.za=function(t){It(this.g,new gA)};$a.prototype.ya=function(){It(this.g,"b")};function P$(){this.blockSize=-1}function Kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mt(Kn,P$);Kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function im(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Kn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)im(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){im(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){im(this,r),i=0;break}}this.h=i,this.i+=e};Kn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ae(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var A$={};function u_(t){return-128<=t&&128>t?MF(t,function(e){return new Ae([e|0],0>e?-1:0)}):new Ae([t|0],0>t?-1:0)}function or(t){if(isNaN(t)||!isFinite(t))return Wo;if(0>t)return wt(or(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kg;return new Ae(e,0)}function yA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return wt(yA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=or(Math.pow(e,8)),r=Wo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=or(Math.pow(e,s)),r=r.R(s).add(or(o))):(r=r.R(n),r=r.add(or(o)))}return r}var kg=4294967296,Wo=u_(0),Dg=u_(1),PE=u_(16777216);z=Ae.prototype;z.ea=function(){if(In(this))return-wt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kg+r)*e,e*=kg}return t};z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Dr(this))return"0";if(In(this))return"-"+wt(this).toString(t);for(var e=or(Math.pow(t,6)),n=this,r="";;){var i=Th(n,e).g;n=Ih(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Dr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Dr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function In(t){return t.h==-1}z.X=function(t){return t=Ih(this,t),In(t)?-1:Dr(t)?0:1};function wt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ae(n,~t.h).add(Dg)}z.abs=function(){return In(this)?wt(this):this};z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ae(n,n[n.length-1]&-2147483648?-1:0)};function Ih(t,e){return t.add(wt(e))}z.R=function(t){if(Dr(this)||Dr(t))return Wo;if(In(this))return In(t)?wt(this).R(wt(t)):wt(wt(this).R(t));if(In(t))return wt(this.R(wt(t)));if(0>this.X(PE)&&0>t.X(PE))return or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Qc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Qc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qc(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ae(n,0)};function Qc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dl(t,e){this.g=t,this.h=e}function Th(t,e){if(Dr(e))throw Error("division by zero");if(Dr(t))return new dl(Wo,Wo);if(In(t))return e=Th(wt(t),e),new dl(wt(e.g),wt(e.h));if(In(e))return e=Th(t,wt(e)),new dl(wt(e.g),e.h);if(30<t.g.length){if(In(t)||In(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Dg,r=e;0>=r.X(t);)n=AE(n),r=AE(r);var i=co(n,1),s=co(r,1);for(r=co(r,2),n=co(n,2);!Dr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=co(r,1),n=co(n,1)}return e=Ih(t,i.R(e)),new dl(i,e)}for(i=Wo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=or(n),o=s.R(e);In(o)||0<o.X(t);)n-=r,s=or(n),o=s.R(e);Dr(s)&&(s=Dg),i=i.add(s),t=Ih(t,o)}return new dl(i,t)}z.gb=function(t){return Th(this,t).h};z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ae(n,this.h&t.h)};z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ae(n,this.h|t.h)};z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ae(n,this.h^t.h)};function AE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ae(n,t.h)}function co(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ae(i,t.h)}Eh.prototype.createWebChannel=Eh.prototype.g;hn.prototype.send=hn.prototype.u;hn.prototype.open=hn.prototype.m;hn.prototype.close=hn.prototype.close;Sf.NO_ERROR=0;Sf.TIMEOUT=8;Sf.HTTP_ERROR=6;MP.COMPLETE="complete";VP.EventType=ac;ac.OPEN="a";ac.CLOSE="b";ac.ERROR="c";ac.MESSAGE="d";pt.prototype.listen=pt.prototype.O;Qe.prototype.listenOnce=Qe.prototype.P;Qe.prototype.getLastError=Qe.prototype.Sa;Qe.prototype.getLastErrorCode=Qe.prototype.Ia;Qe.prototype.getStatus=Qe.prototype.da;Qe.prototype.getResponseJson=Qe.prototype.Wa;Qe.prototype.getResponseText=Qe.prototype.ja;Qe.prototype.send=Qe.prototype.ha;Qe.prototype.setWithCredentials=Qe.prototype.Oa;Kn.prototype.digest=Kn.prototype.l;Kn.prototype.reset=Kn.prototype.reset;Kn.prototype.update=Kn.prototype.j;Ae.prototype.add=Ae.prototype.add;Ae.prototype.multiply=Ae.prototype.R;Ae.prototype.modulo=Ae.prototype.gb;Ae.prototype.compare=Ae.prototype.X;Ae.prototype.toNumber=Ae.prototype.ea;Ae.prototype.toString=Ae.prototype.toString;Ae.prototype.getBits=Ae.prototype.D;Ae.fromNumber=or;Ae.fromString=yA;var C$=function(){return new Eh},x$=function(){return Tf()},sm=Sf,b$=MP,k$=Zs,CE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},D$=cc,Yc=VP,N$=Qe,O$=Kn,Ko=Ae;const xE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Dv("@firebase/firestore");function go(){return $s.logLevel}function V(t,...e){if($s.logLevel<=me.DEBUG){const n=e.map(c_);$s.debug(`Firestore (${Ua}): ${t}`,...n)}}function Ft(t,...e){if($s.logLevel<=me.ERROR){const n=e.map(c_);$s.error(`Firestore (${Ua}): ${t}`,...n)}}function _a(t,...e){if($s.logLevel<=me.WARN){const n=e.map(c_);$s.warn(`Firestore (${Ua}): ${t}`,...n)}}function c_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw Ft(e),new Error(e)}function ee(t,e){t||X()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M${getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class V${constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L${constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Lr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Lr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee(typeof r.accessToken=="string"),new vA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new vt(e)}}class F${constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $${constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new F$(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B${constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ee(typeof n.token=="string"),this.R=n.token,new U$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=z$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function wA(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return je.fromMillis(Date.now())}static fromDate(e){return je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new je(0,0))}static max(){return new Z(new je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Au.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Au?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Au{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const j$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Au{construct(e,n,r){return new Be(e,n,r)}static isValidIdentifier(e){return j$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(Se.fromString(e))}static fromName(e){return new j(Se.fromString(e).popFirst(5))}static empty(){return new j(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new Se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Ng(t){return t.fields.find(e=>e.kind===2)}function ls(t){return t.fields.filter(e=>e.kind!==2)}Sh.UNKNOWN_ID=-1;class Sd{constructor(e,n){this.fieldPath=e,this.kind=n}}class Cu{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Cu(0,fn.min())}}function q$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new je(n+1,0):new je(n,r));return new fn(i,j.empty(),e)}function EA(t){return new fn(t.readTime,t.key,-1)}class fn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fn(Z.min(),j.empty(),-1)}static max(){return new fn(Z.max(),j.empty(),-1)}}function d_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==IA)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,r)=>{n(e)})}static reject(e){return new S((n,r)=>{r(e)})}static waitFor(e){return new S((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=S.resolve(!1);for(const r of e)n=n.next(i=>i?S.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new S((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new S((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Lr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Bl(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=h_(r.target.error);this.V.reject(new Bl(e,i))}}static open(e,n,r,i){try{return new Df(n,e.transaction(i,r))}catch(s){throw new Bl(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new W$(n)}}class Nr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Nr.S(at())===12.2&&Ft("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),us(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!DR())return!1;if(Nr.C())return!0;const e=at(),n=Nr.S(e),r=0<n&&n<10,i=Nr.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Bl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new $(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new $(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Bl(e,o))},i.onupgradeneeded=s=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Df.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),S.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class H${constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return us(this.k.delete())}}class Bl extends ${constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Yi(t){return t.name==="IndexedDbTransactionError"}class W${constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),us(r)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),us(this.store.add(e))}get(e){return us(this.store.get(e)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),us(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),us(this.store.count())}W(e,n){const r=this.options(e,n);if(r.index||typeof this.store.getAll!="function"){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new S((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new S((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new S((r,i)=>{n.onerror=s=>{const o=h_(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new S((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new H$(a),u=n(a.primaryKey,a.value,l);if(u instanceof S){const c=u.catch(d=>(l.done(),S.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>S.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function us(t){return new S((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=h_(r.target.error);n(i)}})}let bE=!1;function h_(t){const e=Nr.S(at());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new $("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bE||(bE=!0,setTimeout(()=>{throw r},0)),r}}return t}class K${constructor(e,n){this.asyncQueue=e,this.X=n,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(e){V("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{V("IndexBackiller",`Documents written: ${await this.X.te()}`)}catch(n){Yi(n)?V("IndexBackiller","Ignoring IndexedDB error during index backfill: ",n):await eo(n)}await this.ee(6e4)})}}class G${constructor(e,n){this.localStore=e,this.persistence=n}async te(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ne(n,e))}ne(e,n){const r=new Set;let i=n,s=!0;return S.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return V("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}re(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(V("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}ie(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=EA(s);d_(o,r)>0&&(r=o)}),new fn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Sn._e=-1;function Nf(t){return t==null}function xu(t){return t===0&&1/t==-1/0}function Q$(t){return typeof t=="number"&&Number.isInteger(t)&&!xu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kE(e)),e=Y$(t.get(n),e);return kE(e)}function Y$(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function kE(t){return t+""}function ar(t){const e=t.length;if(ee(e>=2),e===2)return ee(t.charAt(0)===""&&t.charAt(1)===""),Se.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&X(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:X()}s=o+2}return new Se(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e){return[t,Bt(e)]}function SA(t,e,n){return[t,Bt(e),n]}const X$={},J$=["prefixPath","collectionGroup","readTime","documentId"],Z$=["prefixPath","collectionGroup","documentId"],e4=["collectionGroup","readTime","prefixPath","documentId"],t4=["canonicalId","targetId"],n4=["targetId","path"],r4=["path","targetId"],i4=["collectionId","parent"],s4=["indexId","uid"],o4=["uid","sequenceNumber"],a4=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],l4=["indexId","uid","orderedDocumentKey"],u4=["userId","collectionPath","documentId"],c4=["userId","collectionPath","largestBatchId"],d4=["userId","collectionGroup","largestBatchId"],RA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],h4=[...RA,"documentOverlays"],PA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AA=PA,f4=[...AA,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends TA{constructor(e,n){super(),this.ae=e,this.currentSequenceNumber=n}}function gt(t,e){const n=ue(t);return Nr.M(n.ae,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xe(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ho(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Yt([])}unionWith(e){let n=new xe(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xA("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const p4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(t){if(ee(!!t),typeof t=="string"){let e=0;const n=p4.exec(t);if(ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:We(t.seconds),nanos:We(t.nanos)}}function We(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function p_(t){const e=t.mapValue.fields.__previous_value__;return f_(e)?p_(e):e}function bu(t){const e=$i(t.mapValue.fields.__local_write_time__.timestampValue);return new je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Us{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Us("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Us&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Pd={nullValue:"NULL_VALUE"};function Bs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?f_(t)?4:bA(t)?9007199254740991:10:X()}function gr(t,e){if(t===e)return!0;const n=Bs(t);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=$i(i.timestampValue),a=$i(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ui(i.bytesValue).isEqual(Ui(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return We(i.geoPointValue.latitude)===We(s.geoPointValue.latitude)&&We(i.geoPointValue.longitude)===We(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return We(i.integerValue)===We(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=We(i.doubleValue),a=We(s.doubleValue);return o===a?xu(o)===xu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wa(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(NE(o)!==NE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!gr(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function ku(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Bi(t,e){if(t===e)return 0;const n=Bs(t),r=Bs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=We(s.integerValue||s.doubleValue),l=We(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ME(t.timestampValue,e.timestampValue);case 4:return ME(bu(t),bu(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ui(s),l=Ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=he(a[u],l[u]);if(c!==0)return c}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(We(s.latitude),We(o.latitude));return a!==0?a:he(We(s.longitude),We(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Bi(a[u],l[u]);if(c)return c}return he(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ei.mapValue&&o===Ei.mapValue)return 0;if(s===Ei.mapValue)return 1;if(o===Ei.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=he(l[d],c[d]);if(h!==0)return h;const f=Bi(a[l[d]],u[c[d]]);if(f!==0)return f}return he(l.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function ME(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=$i(t),r=$i(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Ea(t){return Mg(t)}function Mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$i(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return j.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Mg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Mg(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function Du(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vg(t){return!!t&&"integerValue"in t}function Nu(t){return!!t&&"arrayValue"in t}function VE(t){return!!t&&"nullValue"in t}function LE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ad(t){return!!t&&"mapValue"in t}function zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function g4(t){return"nullValue"in t?Pd:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Du(Us.empty(),j.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:X()}function y4(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Du(Us.empty(),j.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Ei:X()}function FE(t,e){const n=Bi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $E(t,e){const n=Bi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ad(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Be.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ad(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ad(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){to(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(zl(this.value))}}function kA(t){const e=[];return to(t.fields,(n,r)=>{const i=new Be([n]);if(Ad(r)){const s=kA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Yt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ke(e,0,Z.min(),Z.min(),Z.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ke(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Ke(e,2,n,Z.min(),Z.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new Ke(e,3,n,Z.min(),Z.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Bi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function BE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n="asc"){this.field=e,this.dir=n}}function v4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{}class ge extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _4(e,n,r):n==="array-contains"?new I4(e,r):n==="in"?new FA(e,r):n==="not-in"?new T4(e,r):n==="array-contains-any"?new S4(e,r):new ge(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w4(e,r):new E4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bi(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Bi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Re(e,n)}matches(e){return Ta(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ta(t){return t.op==="and"}function Lg(t){return t.op==="or"}function m_(t){return NA(t)&&Ta(t)}function NA(t){for(const e of t.filters)if(e instanceof Re)return!1;return!0}function Fg(t){if(t instanceof ge)return t.field.canonicalString()+t.op.toString()+Ea(t.value);if(m_(t))return t.filters.map(e=>Fg(e)).join(",");{const e=t.filters.map(n=>Fg(n)).join(",");return`${t.op}(${e})`}}function OA(t,e){return t instanceof ge?function(r,i){return i instanceof ge&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(t,e):t instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&OA(o,i.filters[a]),!0):!1}(t,e):void X()}function MA(t,e){const n=t.filters.concat(e);return Re.create(n,t.op)}function VA(t){return t instanceof ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Ea(n.value)}`}(t):t instanceof Re?function(n){return n.op.toString()+" {"+n.getFilters().map(VA).join(" ,")+"}"}(t):"Filter"}class _4 extends ge{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}}class w4 extends ge{constructor(e,n){super(e,"in",n),this.keys=LA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E4 extends ge{constructor(e,n){super(e,"not-in",n),this.keys=LA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}class I4 extends ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nu(n)&&ku(n.arrayValue,this.value)}}class FA extends ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class T4 extends ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ku(this.value.arrayValue,n)}}class S4 extends ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nu(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ku(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function $g(t,e=null,n=[],r=[],i=null,s=null,o=null){return new R4(t,e,n,r,i,s,o)}function zs(t){const e=ue(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ea(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ea(r)).join(",")),e.ce=n}return e.ce}function fc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!OA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BE(t.startAt,e.startAt)&&BE(t.endAt,e.endAt)}function Rh(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ph(t,e){return t.filters.filter(n=>n instanceof ge&&n.field.isEqual(e))}function zE(t,e,n){let r=Pd,i=!0;for(const s of Ph(t,e)){let o=Pd,a=!0;switch(s.op){case"<":case"<=":o=g4(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Pd}FE({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];FE({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function jE(t,e,n){let r=Ei,i=!0;for(const s of Ph(t,e)){let o=Ei,a=!0;switch(s.op){case">=":case">":o=y4(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Ei}$E({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];$E({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function P4(t,e,n,r,i,s,o,a){return new Ba(t,e,n,r,i,s,o,a)}function g_(t){return new Ba(t)}function qE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $A(t){return t.collectionGroup!==null}function jl(t){const e=ue(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xe(Be.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ou(s,r))}),n.has(Be.keyField().canonicalString())||e.le.push(new Ou(Be.keyField(),r))}return e.le}function Pn(t){const e=ue(t);return e.he||(e.he=A4(e,jl(t))),e.he}function A4(t,e){if(t.limitType==="F")return $g(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ou(i.field,s)});const n=t.endAt?new Ia(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ia(t.startAt.position,t.startAt.inclusive):null;return $g(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ug(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Of(t,e){return fc(Pn(t),Pn(e))&&t.limitType===e.limitType}function UA(t){return`${zs(Pn(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>VA(i)).join(", ")}]`),Nf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ea(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ea(i)).join(",")),`Target(${r})`}(Pn(t))}; limitType=${t.limitType})`}function pc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):j.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of jl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=UE(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,jl(r),i)||r.endAt&&!function(o,a,l){const u=UE(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,jl(r),i))}(t,e)}function C4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BA(t){return(e,n)=>{let r=!1;for(const i of jl(t)){const s=x4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function x4(t,e,n){const r=t.field.isKeyField()?j.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Bi(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return CA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Le(j.comparator);function ln(){return b4}const zA=new Le(j.comparator);function Al(...t){let e=zA;for(const n of t)e=e.insert(n.key,n);return e}function jA(t){let e=zA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function lr(){return ql()}function qA(){return ql()}function ql(){return new Xi(t=>t.toString(),(t,e)=>t.isEqual(e))}const k4=new Le(j.comparator),D4=new xe(j.comparator);function fe(...t){let e=D4;for(const n of t)e=e.add(n);return e}const N4=new xe(he);function O4(){return N4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xu(e)?"-0":e}}function WA(t){return{integerValue:""+t}}function M4(t,e){return Q$(e)?WA(e):HA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(){this._=void 0}}function V4(t,e,n){return t instanceof Mu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&f_(s)&&(s=p_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Sa?GA(t,e):t instanceof Ra?QA(t,e):function(i,s){const o=KA(i,s),a=HE(o)+HE(i.Ie);return Vg(o)&&Vg(i.Ie)?WA(a):HA(i.serializer,a)}(t,e)}function L4(t,e,n){return t instanceof Sa?GA(t,e):t instanceof Ra?QA(t,e):n}function KA(t,e){return t instanceof Vu?function(r){return Vg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Mu extends Mf{}class Sa extends Mf{constructor(e){super(),this.elements=e}}function GA(t,e){const n=YA(e);for(const r of t.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ra extends Mf{constructor(e){super(),this.elements=e}}function QA(t,e){let n=YA(e);for(const r of t.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class Vu extends Mf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function HE(t){return We(t.integerValue||t.doubleValue)}function YA(t){return Nu(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.field=e,this.transform=n}}function $4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Sa&&i instanceof Sa||r instanceof Ra&&i instanceof Ra?wa(r.elements,i.elements,gr):r instanceof Vu&&i instanceof Vu?gr(r.Ie,i.Ie):r instanceof Mu&&i instanceof Mu}(t.transform,e.transform)}class U4{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vf{}function XA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new y_(t.key,Xt.none()):new za(t.key,t.data,Xt.none());{const n=t.data,r=kt.empty();let i=new xe(Be.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Yr(t.key,r,new Yt(i.toArray()),Xt.none())}}function B4(t,e,n){t instanceof za?function(i,s,o){const a=i.value.clone(),l=KE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yr?function(i,s,o){if(!Cd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=KE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(JA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Hl(t,e,n,r){return t instanceof za?function(s,o,a,l){if(!Cd(s.precondition,o))return a;const u=s.value.clone(),c=GE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yr?function(s,o,a,l){if(!Cd(s.precondition,o))return a;const u=GE(s.fieldTransforms,l,o),c=o.data;return c.setAll(JA(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Cd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=KA(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function WE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wa(r,i,(s,o)=>$4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class za extends Vf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yr extends Vf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function KE(t,e,n){const r=new Map;ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,L4(o,a,n[i]))}return r}function GE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,V4(s,o,e))}return r}class y_ extends Vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZA extends Vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&B4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=XA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&wa(this.mutations,e.mutations,(n,r)=>WE(n,r))&&wa(this.baseMutations,e.baseMutations,(n,r)=>WE(n,r))}}class __{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ee(e.mutations.length===r.length);let i=function(){return k4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new __(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,_e;function q4(t){switch(t){default:return X();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function eC(t){if(t===void 0)return Ft("GRPC error has no .code"),b.UNKNOWN;switch(t){case Ze.OK:return b.OK;case Ze.CANCELLED:return b.CANCELLED;case Ze.UNKNOWN:return b.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return b.INTERNAL;case Ze.UNAVAILABLE:return b.UNAVAILABLE;case Ze.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Ze.NOT_FOUND:return b.NOT_FOUND;case Ze.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Ze.ABORTED:return b.ABORTED;case Ze.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Ze.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(_e=Ze||(Ze={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=new Ko([4294967295,4294967295],0);function QE(t){const e=H4().encode(t),n=new O$;return n.update(e),new Uint8Array(n.digest())}function YE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ko([n,r],0),new Ko([i,s],0)]}class E_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ko.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ko.fromNumber(r)));return i.compare(W4)===1&&(i=new Ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new E_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=QE(e),[r,i]=YE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lf(Z.min(),i,new Le(he),ln(),fe())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class tC{constructor(e,n){this.targetId=e,this.fe=n}}class nC{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class XE{constructor(){this.ge=0,this.pe=ZE(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=fe(),n=fe(),r=fe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new mc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=ZE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class K4{constructor(e){this.Le=e,this.ke=new Map,this.qe=ln(),this.Qe=JE(),this.Ke=new Le(he)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Rh(s))if(r===0){const o=new j(s.path);this.We(n,o,Ke.newNoDocument(o,Z.min()))}else ee(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ui(r).toUint8Array()}catch(l){if(l instanceof xA)return _a("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new E_(o,i,s)}catch(l){return _a(l instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Rh(a.target)){const l=new j(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Ke.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=fe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Lf(e,n,this.Ke,this.qe,r);return this.qe=ln(),this.Qe=JE(),this.Ke=new Le(he),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new XE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xe(he),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new XE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function JE(){return new Le(j.comparator)}function ZE(){return new Le(j.comparator)}const G4=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Q4=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Y4=(()=>({and:"AND",or:"OR"}))();class X4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bg(t,e){return t.useProto3Json||Nf(e)?e:{value:e}}function Pa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J4(t,e){return Pa(t,e.toTimestamp())}function zt(t){return ee(!!t),Z.fromTimestamp(function(n){const r=$i(n);return new je(r.seconds,r.nanos)}(t))}function I_(t,e){return function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function iC(t){const e=Se.fromString(t);return ee(hC(e)),e}function Ch(t,e){return I_(t.databaseId,e.path)}function Cs(t,e){const n=iC(e);if(n.get(1)!==t.databaseId.projectId)throw new $(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(oC(n))}function zg(t,e){return I_(t.databaseId,e)}function sC(t){const e=iC(t);return e.length===4?Se.emptyPath():oC(e)}function jg(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oC(t){return ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function eI(t,e,n){return{name:Ch(t,e),fields:n.value.mapValue.fields}}function Z4(t,e,n){const r=Cs(t,e.name),i=zt(e.updateTime),s=e.createTime?zt(e.createTime):Z.min(),o=new kt({mapValue:{fields:e.fields}}),a=Ke.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function eU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ee(c===void 0||typeof c=="string"),St.fromBase64String(c||"")):(ee(c===void 0||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?b.UNKNOWN:eC(u.code);return new $(c,u.message||"")}(o);n=new nC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cs(t,r.document.name),s=zt(r.document.updateTime),o=r.document.createTime?zt(r.document.createTime):Z.min(),a=new kt({mapValue:{fields:r.document.fields}}),l=Ke.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new xd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cs(t,r.document),s=r.readTime?zt(r.readTime):Z.min(),o=Ke.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cs(t,r.document),s=r.removedTargetIds||[];n=new xd([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new j4(i,s),a=r.targetId;n=new tC(a,o)}}return n}function xh(t,e){let n;if(e instanceof za)n={update:eI(t,e.key,e.value)};else if(e instanceof y_)n={delete:Ch(t,e.key)};else if(e instanceof Yr)n={update:eI(t,e.key,e.data),updateMask:oU(e.fieldMask)};else{if(!(e instanceof ZA))return X();n={verify:Ch(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Mu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ra)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vu)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:J4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function qg(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Xt.updateTime(zt(s.updateTime)):s.exists!==void 0?Xt.exists(s.exists):Xt.none()}(e.currentDocument):Xt.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),l=new Mu;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new Sa(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new Ra(c)}else"increment"in a?l=new Vu(o,a.increment):X();const u=Be.fromServerFormat(a.fieldPath);return new F4(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Cs(t,e.update.name),s=new kt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const u=l.fieldPaths||[];return new Yt(u.map(c=>Be.fromServerFormat(c)))}(e.updateMask);return new Yr(i,s,o,n,r)}return new za(i,s,n,r)}if(e.delete){const i=Cs(t,e.delete);return new y_(i,n)}if(e.verify){const i=Cs(t,e.verify);return new ZA(i,n)}return X()}function tU(t,e){return t&&t.length>0?(ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zt(i.updateTime):zt(s);return o.isEqual(Z.min())&&(o=zt(s)),new U4(o,i.transformResults||[])}(n,e))):[]}function aC(t,e){return{documents:[zg(t,e.path)]}}function lC(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=zg(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zg(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return dC(Re.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:vo(d.field),direction:rU(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Bg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function uC(t){let e=sC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ee(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=cC(d);return h instanceof Re&&m_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(y){return new Ou(_o(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Nf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Ia(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Ia(f,h)}(n.endAt)),P4(e,i,o,s,a,"F",l,u)}function nU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_o(n.unaryFilter.field);return ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_o(n.unaryFilter.field);return ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_o(n.unaryFilter.field);return ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return ge.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Re.create(n.compositeFilter.filters.map(r=>cC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function rU(t){return G4[t]}function iU(t){return Q4[t]}function sU(t){return Y4[t]}function vo(t){return{fieldPath:t.canonicalString()}}function _o(t){return Be.fromServerFormat(t.fieldPath)}function dC(t){return t instanceof ge?function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(VE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(VE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:iU(n.op),value:n.value}}}(t):t instanceof Re?function(n){const r=n.getFilters().map(i=>dC(i));return r.length===1?r[0]:{compositeFilter:{op:sU(n.op),filters:r}}}(t):X()}function oU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.ut=e}}function aU(t,e){let n;if(e.document)n=Z4(t.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=j.fromSegments(e.noDocument.path),i=qs(e.noDocument.readTime);n=Ke.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return X();{const r=j.fromSegments(e.unknownDocument.path),i=qs(e.unknownDocument.version);n=Ke.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new je(i[0],i[1]);return Z.fromTimestamp(s)}(e.readTime)),n}function tI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Ch(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Pa(s,o.version.toTimestamp()),createTime:Pa(s,o.createTime.toTimestamp())}}(t.ut,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:js(e.version)};else{if(!e.isUnknownDocument())return X();r.unknownDocument={path:n.path.toArray(),version:js(e.version)}}return r}function bh(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function js(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qs(t){const e=new je(t.seconds,t.nanoseconds);return Z.fromTimestamp(e)}function cs(t,e){const n=(e.baseMutations||[]).map(s=>qg(t.ut,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>qg(t.ut,s)),i=je.fromMillis(e.localWriteTimeMs);return new v_(e.batchId,i,n,r)}function xl(t){const e=qs(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?qs(t.lastLimboFreeSnapshotVersion):Z.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return ee(s.documents.length===1),Pn(g_(sC(s.documents[0])))}(t.query):function(s){return Pn(uC(s))}(t.query),new Or(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,St.fromBase64String(t.resumeToken))}function pC(t,e){const n=js(e.snapshotVersion),r=js(e.lastLimboFreeSnapshotVersion);let i;i=Rh(e.target)?aC(t.ut,e.target):lC(t.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:zs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function mC(t){const e=uC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}function om(t,e){return new w_(e.largestBatchId,qg(t.ut,e.overlayMutation))}function nI(t,e){const n=e.path.lastSegment();return[t,Bt(e.path.popLast()),n]}function rI(t,e,n,r){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:js(r.readTime),documentKey:Bt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{getBundleMetadata(e,n){return iI(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:qs(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return iI(e).put(function(i){return{bundleId:i.id,createTime:js(zt(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return sI(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:mC(s.bundledQuery),readTime:qs(s.readTime)}}(r)})}saveNamedQuery(e,n){return sI(e).put(function(i){return{name:i.name,readTime:js(zt(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function iI(t){return gt(t,"bundles")}function sI(t){return gt(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.serializer=e,this.userId=n}static ct(e,n){const r=n.uid||"";return new Ff(e,r)}getOverlay(e,n){return hl(e).get(nI(this.userId,n)).next(r=>r?om(this.serializer,r):null)}getOverlays(e,n){const r=lr();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new w_(n,o);i.push(this.lt(e,a))}),S.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Bt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(hl(e).H("collectionPathOverlayIndex",a))}),S.waitFor(s)}getOverlaysForCollection(e,n,r){const i=lr(),s=Bt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return hl(e).W("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const u=om(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=lr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return hl(e).Y({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const d=om(this.serializer,u);s.size()<i||d.largestBatchId===o?(s.set(d.getKey(),d),o=d.largestBatchId):c.done()}).next(()=>s)}lt(e,n){return hl(e).put(function(i,s,o){const[a,l,u]=nI(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:xh(i.ut,o.mutation)}}(this.serializer,this.userId,n))}}function hl(t){return gt(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(We(e.integerValue));else if("doubleValue"in e){const r=We(e.doubleValue);isNaN(r)?this.Tt(n,13):(this.Tt(n,15),xu(r)?n.Et(0):n.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(n,20),typeof r=="string"?n.dt(r):(n.dt(`${r.seconds||""}`),n.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(Ui(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(n,45),n.Et(r.latitude||0),n.Et(r.longitude||0)}else"mapValue"in e?bA(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):X()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const r=e.fields||{};this.Tt(n,55);for(const i of Object.keys(r))this.At(i,n),this.Pt(r[i],n)}yt(e,n){const r=e.values||[];this.Tt(n,50);for(const i of r)this.Pt(i,n)}ft(e,n){this.Tt(n,37),j.fromName(e).path.forEach(r=>{this.Tt(n,60),this.wt(r,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}ds.St=new ds;function uU(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function oI(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=uU(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class cU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Dt(r.value),r=n.next();this.Ct()}vt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=n.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const n=this.Bt(e),r=oI(n);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}kt(e){const n=this.Bt(e),r=oI(n);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Dt(e){const n=255&e;n===0?(this.Qt(0),this.Qt(255)):n===255?(this.Qt(255),this.Qt(0)):this.Qt(n)}Ft(e){const n=255&e;n===0?(this.$t(0),this.$t(255)):n===255?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class dU{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class hU{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class fl{constructor(){this.Wt=new cU,this.Gt=new dU(this.Wt),this.zt=new hU(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return e===0?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new hs(this.indexId,this.documentKey,this.arrayValue,r)}}function ni(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=aI(t.arrayValue,e.arrayValue),n!==0?n:(n=aI(t.directionalValue,e.directionalValue),n!==0?n:j.comparator(t.documentKey,e.documentKey)))}function aI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.Jt=new xe((n,r)=>Be.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(ee(e.collectionGroup===this.collectionId),this.Xt)return!1;const n=Ng(e);if(n!==void 0&&!this.tn(n))return!1;const r=ls(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.nn(a,l)||!this.rn(this.Yt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Yt.length||!this.rn(this.Yt[o++],a))return!1}return!0}sn(){if(this.Xt)return null;let e=new xe(Be.comparator);const n=[];for(const r of this.Zt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Sd(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Sd(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Sd(r.field,r.dir==="asc"?0:1)));return new Sh(Sh.UNKNOWN_ID,this.collectionId,n,Cu.empty())}tn(e){for(const n of this.Zt)if(this.nn(n,e))return!0;return!1}nn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}rn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t){var e,n;if(ee(t instanceof ge||t instanceof Re),t instanceof ge){if(t instanceof FA){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>ge.create(t.field,"==",s)))||[];return Re.create(i,"or")}return t}const r=t.filters.map(i=>gC(i));return Re.create(r,t.op)}function fU(t){if(t.getFilters().length===0)return[];const e=Kg(gC(t));return ee(yC(e)),Hg(e)||Wg(e)?[e]:e.getFilters()}function Hg(t){return t instanceof ge}function Wg(t){return t instanceof Re&&m_(t)}function yC(t){return Hg(t)||Wg(t)||function(n){if(n instanceof Re&&Lg(n)){for(const r of n.getFilters())if(!Hg(r)&&!Wg(r))return!1;return!0}return!1}(t)}function Kg(t){if(ee(t instanceof ge||t instanceof Re),t instanceof ge)return t;if(t.filters.length===1)return Kg(t.filters[0]);const e=t.filters.map(r=>Kg(r));let n=Re.create(e,t.op);return n=kh(n),yC(n)?n:(ee(n instanceof Re),ee(Ta(n)),ee(n.filters.length>1),n.filters.reduce((r,i)=>T_(r,i)))}function T_(t,e){let n;return ee(t instanceof ge||t instanceof Re),ee(e instanceof ge||e instanceof Re),n=t instanceof ge?e instanceof ge?function(i,s){return Re.create([i,s],"and")}(t,e):uI(t,e):e instanceof ge?uI(e,t):function(i,s){if(ee(i.filters.length>0&&s.filters.length>0),Ta(i)&&Ta(s))return MA(i,s.getFilters());const o=Lg(i)?i:s,a=Lg(i)?s:i,l=o.filters.map(u=>T_(u,a));return Re.create(l,"or")}(t,e),kh(n)}function uI(t,e){if(Ta(e))return MA(e,t.getFilters());{const n=e.filters.map(r=>T_(t,r));return Re.create(n,"or")}}function kh(t){if(ee(t instanceof ge||t instanceof Re),t instanceof ge)return t;const e=t.getFilters();if(e.length===1)return kh(e[0]);if(NA(t))return t;const n=e.map(i=>kh(i)),r=[];return n.forEach(i=>{i instanceof ge?r.push(i):i instanceof Re&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Re.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(){this.on=new S_}addToCollectionParentIndex(e,n){return this.on.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}deleteAllFieldIndexes(e){return S.resolve()}createTargetIndexes(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getIndexType(e,n){return S.resolve(0)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}getMinOffset(e,n){return S.resolve(fn.min())}getMinOffsetFromCollectionGroup(e,n){return S.resolve(fn.min())}updateCollectionGroup(e,n,r){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class S_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xe(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Uint8Array(0);class mU{constructor(e,n){this.user=e,this.databaseId=n,this._n=new S_,this.an=new Xi(r=>zs(r),(r,i)=>fc(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this._n.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this._n.add(n)});const s={collectionId:r,parent:Bt(i)};return cI(e).put(s)}return S.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[wA(n),""],!1,!0);return cI(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(ar(o.parent))}return r})}addFieldIndex(e,n){const r=pl(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=po(e);return s.next(a=>{o.put(rI(a,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=pl(e),i=po(e),s=fo(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=pl(e),r=fo(e),i=po(e);return n.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,n){return S.forEach(this.un(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new lI(r).sn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=fo(e);let i=!0;const s=new Map;return S.forEach(this.un(n),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=fe();const a=[];return S.forEach(s,(l,u)=>{V("IndexedDbIndexManager",`Using index ${function(_){return`id=${_.indexId}|cg=${_.collectionGroup}|f=${_.fields.map(p=>`${p.fieldPath}:${p.kind}`).join(",")}`}(l)} to execute ${zs(n)}`);const c=function(_,p){const I=Ng(p);if(I===void 0)return null;for(const T of Ph(_,I.fieldPath))switch(T.op){case"array-contains-any":return T.value.arrayValue.values||[];case"array-contains":return[T.value]}return null}(u,l),d=function(_,p){const I=new Map;for(const T of ls(p))for(const R of Ph(_,T.fieldPath))switch(R.op){case"==":case"in":I.set(T.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return I.set(T.fieldPath.canonicalString(),R.value),Array.from(I.values())}return null}(u,l),h=function(_,p){const I=[];let T=!0;for(const R of ls(p)){const C=R.kind===0?zE(_,R.fieldPath,_.startAt):jE(_,R.fieldPath,_.startAt);I.push(C.value),T&&(T=C.inclusive)}return new Ia(I,T)}(u,l),f=function(_,p){const I=[];let T=!0;for(const R of ls(p)){const C=R.kind===0?jE(_,R.fieldPath,_.endAt):zE(_,R.fieldPath,_.endAt);I.push(C.value),T&&(T=C.inclusive)}return new Ia(I,T)}(u,l),y=this.ln(l,u,h),v=this.ln(l,u,f),w=this.hn(l,u,d),m=this.Pn(l.indexId,c,y,h.inclusive,v,f.inclusive,w);return S.forEach(m,g=>r.j(g,n.limit).next(_=>{_.forEach(p=>{const I=j.fromSegments(p.documentKey);o.has(I)||(o=o.add(I),a.push(I))})}))}).next(()=>a)}return S.resolve(null)})}un(e){let n=this.an.get(e);return n||(e.filters.length===0?n=[e]:n=fU(Re.create(e.filters,"and")).map(r=>$g(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,n),n)}Pn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),u=l/(n!=null?n.length:1),c=[];for(let d=0;d<l;++d){const h=n?this.In(n[d/u]):Jc,f=this.Tn(e,h,r[d%u],i),y=this.En(e,h,s[d%u],o),v=a.map(w=>this.Tn(e,h,w,!0));c.push(...this.createRange(f,y,v))}return c}Tn(e,n,r,i){const s=new hs(e,j.empty(),n,r);return i?s:s.Ht()}En(e,n,r,i){const s=new hs(e,j.empty(),n,r);return i?s.Ht():s}cn(e,n){const r=new lI(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.un(n);return S.forEach(i,s=>this.cn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let u=new xe(Be.comparator),c=!1;for(const d of l.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const d of l.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(c?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}dn(e,n){const r=new fl;for(const i of ls(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.jt(i.kind);ds.St.ht(s,o)}return r.Ut()}In(e){const n=new fl;return ds.St.ht(e,n.jt(0)),n.Ut()}An(e,n){const r=new fl;return ds.St.ht(Du(this.databaseId,n),r.jt(function(s){const o=ls(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,n,r){if(r===null)return[];let i=[];i.push(new fl);let s=0;for(const o of ls(e)){const a=r[s++];for(const l of i)if(this.Rn(n,o.fieldPath)&&Nu(a))i=this.Vn(i,o,a);else{const u=l.jt(o.kind);ds.St.ht(a,u)}}return this.mn(i)}ln(e,n,r){return this.hn(e,n,r.position)}mn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Ut();return n}Vn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new fl;l.seed(a.Ut()),ds.St.ht(o,l.jt(n.kind)),s.push(l)}return s}Rn(e,n){return!!e.filters.find(r=>r instanceof ge&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=pl(e),i=po(e);return(n?r.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.W()).next(s=>{const o=[];return S.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(c,d){const h=d?new Cu(d.sequenceNumber,new fn(qs(d.readTime),new j(ar(d.documentKey)),d.largestBatchId)):Cu.empty(),f=c.fields.map(([y,v])=>new Sd(Be.fromServerFormat(y),v));return new Sh(c.indexId,c.collectionGroup,f,h)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=pl(e),s=po(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>S.forEach(a,l=>s.put(rI(l.indexId,this.user,o,r)))))}updateIndexEntries(e,n){const r=new Map;return S.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?S.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),S.forEach(a,l=>this.gn(e,i,l).next(u=>{const c=this.pn(s,l);return u.isEqual(c)?S.resolve():this.yn(e,s,l,u,c)}))))})}wn(e,n,r,i){return fo(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,n.key),documentKey:n.key.path.toArray()})}Sn(e,n,r,i){return fo(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,n.key),n.key.path.toArray()])}gn(e,n,r){const i=fo(e);let s=new xe(ni);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,n)])},(o,a)=>{s=s.add(new hs(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,n){let r=new xe(ni);const i=this.dn(n,e);if(i==null)return r;const s=Ng(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Nu(o))for(const a of o.arrayValue.values||[])r=r.add(new hs(n.indexId,e.key,this.In(a),i))}else r=r.add(new hs(n.indexId,e.key,Jc,i));return r}yn(e,n,r,i,s){V("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,u,c,d,h){const f=l.getIterator(),y=u.getIterator();let v=ho(f),w=ho(y);for(;v||w;){let m=!1,g=!1;if(v&&w){const _=c(v,w);_<0?g=!0:_>0&&(m=!0)}else v!=null?g=!0:m=!0;m?(d(w),w=ho(y)):g?(h(v),v=ho(f)):(v=ho(f),w=ho(y))}}(i,s,ni,a=>{o.push(this.wn(e,n,r,a))},a=>{o.push(this.Sn(e,n,r,a))}),S.waitFor(o)}fn(e){let n=1;return po(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>ni(o,a)).filter((o,a,l)=>!a||ni(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=ni(o,e),l=ni(o,n);if(a===0)i[0]=e.Ht();else if(a>0&&l<0)i.push(o),i.push(o.Ht());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Jc,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Jc,[]];s.push(IDBKeyRange.bound(a,l))}return s}bn(e,n){return ni(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(dI)}getMinOffset(e,n){return S.mapArray(this.un(n),r=>this.cn(e,r).next(i=>i||X())).next(dI)}}function cI(t){return gt(t,"collectionParents")}function fo(t){return gt(t,"indexEntries")}function pl(t){return gt(t,"indexConfiguration")}function po(t){return gt(t,"indexState")}function dI(t){ee(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;d_(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new fn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},(c,d,h)=>(a++,h.delete()));s.push(l.next(()=>{ee(a===1)}));const u=[];for(const c of n.mutations){const d=SA(e,c.key.path,n.batchId);s.push(i.delete(d)),u.push(c.key)}return S.waitFor(s).next(()=>u)}function Dh(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw X();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class $f{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,n,r,i){ee(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new $f(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ri(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=wo(e),o=ri(e);return o.add({}).next(a=>{ee(typeof a=="number");const l=new v_(a,n,r,i),u=function(f,y,v){const w=v.baseMutations.map(g=>xh(f.ut,g)),m=v.mutations.map(g=>xh(f.ut,g));return{userId:y,batchId:v.batchId,localWriteTimeMs:v.localWriteTime.toMillis(),baseMutations:w,mutations:m}}(this.serializer,this.userId,l),c=[];let d=new xe((h,f)=>he(h.canonicalString(),f.canonicalString()));for(const h of i){const f=SA(this.userId,h.key.path,a);d=d.add(h.key.path.popLast()),c.push(o.put(u)),c.push(s.put(f,X$))}return d.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Dn[a]=l.keys()}),S.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return ri(e).get(n).next(r=>r?(ee(r.userId===this.userId),cs(this.serializer,r)):null)}Cn(e,n){return this.Dn[n]?S.resolve(this.Dn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Dn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return ri(e).Y({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(ee(a.batchId>=r),s=cs(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ri(e).Y({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ri(e).W("userMutationsIndex",n).next(r=>r.map(i=>cs(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Rd(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return wo(e).Y({range:i},(o,a,l)=>{const[u,c,d]=o,h=ar(c);if(u===this.userId&&n.path.isEqual(h))return ri(e).get(d).next(f=>{if(!f)throw X();ee(f.userId===this.userId),s.push(cs(this.serializer,f))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(he);const i=[];return n.forEach(s=>{const o=Rd(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=wo(e).Y({range:a},(u,c,d)=>{const[h,f,y]=u,v=ar(f);h===this.userId&&s.path.isEqual(v)?r=r.add(y):d.done()});i.push(l)}),S.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Rd(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new xe(he);return wo(e).Y({range:o},(l,u,c)=>{const[d,h,f]=l,y=ar(h);d===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(f)):c.done()}).next(()=>this.vn(e,a))}vn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(ri(e).get(s).next(o=>{if(o===null)throw X();ee(o.userId===this.userId),r.push(cs(this.serializer,o))}))}),S.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return vC(e.ae,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Fn(n.batchId)}),S.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return S.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return wo(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=ar(s[1]);i.push(l)}else a.done()}).next(()=>{ee(i.length===0)})})}containsKey(e,n){return _C(e,this.userId,n)}Mn(e){return wC(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _C(t,e,n){const r=Rd(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return wo(t).Y({range:s,J:!0},(a,l,u)=>{const[c,d,h]=a;c===e&&d===i&&(o=!0),u.done()}).next(()=>o)}function ri(t){return gt(t,"mutations")}function wo(t){return gt(t,"documentMutations")}function wC(t){return gt(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Hs(0)}static Nn(){return new Hs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new Hs(n.highestTargetId);return n.highestTargetId=r.next(),this.Ln(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Z.fromTimestamp(new je(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Ln(e,i)))}addTargetData(e,n){return this.kn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(n,r),this.Ln(e,r))))}updateTargetData(e,n){return this.kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>mo(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(ee(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return mo(e).Y((o,a)=>{const l=xl(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>S.waitFor(s)).next(()=>i)}forEachTarget(e,n){return mo(e).Y((r,i)=>{const s=xl(i);n(s)})}Bn(e){return fI(e).get("targetGlobalKey").next(n=>(ee(n!==null),n))}Ln(e,n){return fI(e).put("targetGlobalKey",n)}kn(e,n){return mo(e).put(pC(this.serializer,n))}qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=zs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return mo(e).Y({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const u=xl(a);fc(n,u.target)&&(s=u,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=di(e);return n.forEach(o=>{const a=Bt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),S.waitFor(i)}removeMatchingKeys(e,n,r){const i=di(e);return S.forEach(n,s=>{const o=Bt(s.path);return S.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=di(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=di(e);let s=fe();return i.Y({range:r,J:!0},(o,a,l)=>{const u=ar(o[1]),c=new j(u);s=s.add(c)}).next(()=>s)}containsKey(e,n){const r=Bt(n.path),i=IDBKeyRange.bound([r],[wA(r)],!1,!0);let s=0;return di(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],l,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}_t(e,n){return mo(e).get(n).next(r=>r?xl(r):null)}}function mo(t){return gt(t,"targets")}function fI(t){return gt(t,"targetGlobal")}function di(t){return gt(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class yU{constructor(e){this.Qn=e,this.buffer=new xe(pI),this.Kn=0}$n(){return++this.Kn}Un(e){const n=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Wn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return this.Wn!==null}Gn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yi(n)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Gn(3e5)})}}class _U{constructor(e,n){this.zn=e,this.params=n}calculateTargetCount(e,n){return this.zn.jn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return S.resolve(Sn._e);const r=new yU(n);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),S.resolve(hI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hI):this.Jn(e,n))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),go()<=me.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),S.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function wU(t,e){return new _U(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e,n){this.db=e,this.garbageCollector=wU(this,n)}jn(e){const n=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Yn(e){let n=0;return this.Hn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Hn(e,n){return this.Zn(e,(r,i)=>n(i))}addReference(e,n,r){return Zc(e,r)}removeReference(e,n,r){return Zc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Zc(e,n)}Xn(e,n){return function(i,s){let o=!1;return wC(i).Z(a=>_C(i,a,s).next(l=>(l&&(o=!0),S.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=n){const l=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Z.min()),di(e).delete(function(d){return[0,Bt(d.path)]}(o))))});i.push(l)}}).next(()=>S.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Zc(e,n)}Zn(e,n){const r=di(e);let i,s=Sn._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:u})=>{o===0?(s!==Sn._e&&n(new j(ar(i)),s),s=u,i=l):s=Sn._e}).next(()=>{s!==Sn._e&&n(new j(ar(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Zc(t,e){return di(t).put(function(r,i){return{targetId:0,path:Bt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.changes=new Xi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?S.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return rs(e).put(r)}removeEntry(e,n,r){return rs(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],bh(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.er(e,r)))}getEntry(e,n){let r=Ke.newInvalidDocument(n);return rs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ml(n))},(i,s)=>{r=this.tr(n,s)}).next(()=>r)}nr(e,n){let r={size:0,document:Ke.newInvalidDocument(n)};return rs(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(ml(n))},(i,s)=>{r={document:this.tr(n,s),size:Dh(s)}}).next(()=>r)}getEntries(e,n){let r=ln();return this.rr(e,n,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,n){let r=ln(),i=new Le(j.comparator);return this.rr(e,n,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Dh(o))}).next(()=>({documents:r,sr:i}))}rr(e,n,r){if(n.isEmpty())return S.resolve();let i=new xe(yI);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(ml(i.first()),ml(i.last())),o=i.getIterator();let a=o.getNext();return rs(e).Y({index:"documentKeyIndex",range:s},(l,u,c)=>{const d=j.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&yI(a,d)<0;)r(a,null),a=o.getNext();a&&a.isEqual(d)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?c.U(ml(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),bh(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rs(e).W(IDBKeyRange.bound(a,l,!0)).next(u=>{s==null||s.incrementDocumentReadCount(u.length);let c=ln();for(const d of u){const h=this.tr(j.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(pc(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let s=ln();const o=gI(n,r),a=gI(n,fn.max());return rs(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,u,c)=>{const d=this.tr(j.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(d.key,d),s.size===i&&c.done()}).next(()=>s)}newChangeBuffer(e){return new TU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return mI(e).get("remoteDocumentGlobalKey").next(n=>(ee(!!n),n))}er(e,n){return mI(e).put("remoteDocumentGlobalKey",n)}tr(e,n){if(n){const r=aU(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Z.min())))return r}return Ke.newInvalidDocument(e)}}function IC(t){return new IU(t)}class TU extends EC{constructor(e,n){super(),this._r=e,this.trackRemovals=n,this.ar=new Xi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new xe((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(n.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=tI(this._r.serializer,o);i=i.add(s.path.popLast());const u=Dh(l);r+=u-a.size,n.push(this._r.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=tI(this._r.serializer,o.convertToNoDocument(Z.min()));n.push(this._r.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),n.push(this._r.updateMetadata(e,r)),S.waitFor(n)}getFromCache(e,n){return this._r.nr(e,n).next(r=>(this.ar.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this._r.ir(e,n).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function mI(t){return gt(t,"remoteDocumentGlobal")}function rs(t){return gt(t,"remoteDocumentsV14")}function ml(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gI(t,e){const n=e.documentKey.path.toArray();return[t,bh(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function yI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hl(r.mutation,i,Yt.empty(),je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=lr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Al();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ln();const o=ql(),a=function(){return ql()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Yr)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Hl(c.mutation,u,c.mutation.getFieldMask(),je.now())):o.set(u.key,Yt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new SU(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ql();let i=new Le((o,a)=>o-a),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Yt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||fe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=qA();c.forEach(h=>{if(!s.has(h)){const f=XA(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return S.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):S.resolve(lr());let a=-1,l=s;return o.next(u=>S.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?S.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,fe())).next(c=>({batchId:a,changes:jA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=Al();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Al();return this.indexManager.getCollectionParents(e,s).next(a=>S.forEach(a,l=>{const u=function(d,h){return new Ba(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ke.newInvalidDocument(c)))});let a=Al();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Hl(c.mutation,u,Yt.empty(),je.now()),pc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return S.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zt(i.createTime)}}(n)),S.resolve()}getNamedQuery(e,n){return S.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:mC(i.bundledQuery),readTime:zt(i.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.overlays=new Le(j.comparator),this.lr=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}getOverlays(e,n){const r=lr();return S.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),S.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),S.resolve()}getOverlaysForCollection(e,n,r){const i=lr(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return S.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=lr(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=lr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return S.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new w_(n,r));let s=this.lr.get(n);s===void 0&&(s=fe(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.hr=new xe(ct.Pr),this.Ir=new xe(ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new j(new Se([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new j(new Se([])),r=new ct(n,e),i=new ct(n,e+1);let s=fe();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return j.comparator(e.key,n.key)||he(e.gr,n.gr)}static Tr(e,n){return he(e.gr,n.gr)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new xe(ct.Pr)}checkEmpty(e){return S.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new v_(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return S.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return S.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xe(he);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),S.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new ct(new j(s),0);let a=new xe(he);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},o),S.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ee(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return S.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new ct(n,0),i=this.yr.firstAfterOrEqual(r);return S.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,S.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.Cr=e,this.docs=function(){return new Le(j.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return S.resolve(r?r.document.mutableCopy():Ke.newInvalidDocument(n))}getEntries(e,n){let r=ln();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ke.newInvalidDocument(i))}),S.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ln();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||d_(EA(c),r)<=0||(i.has(c.key)||pc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return S.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}vr(e,n){return S.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xU(this)}getSize(e){return S.resolve(this.size)}}class xU extends EC{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),S.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.persistence=e,this.Fr=new Xi(n=>zs(n),fc),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new R_,this.targetCount=0,this.Nr=Hs.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),S.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.kn(n),S.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return S.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),S.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),S.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return S.resolve(r)}containsKey(e,n){return S.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Sn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new bU(this),this.indexManager=new pU,this.remoteDocumentCache=function(i){return new CU(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new fC(n),this.Kr=new RU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new AU(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new kU(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return S.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class kU extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class Uf{constructor(e){this.persistence=e,this.Gr=new R_,this.zr=null}static jr(e){return new Uf(e)}get Hr(){if(this.zr)return this.zr;throw X()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),S.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),S.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.Hr,r=>{const i=j.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return S.or([()=>S.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.serializer=e}N(e,n,r,i){const s=new Df("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DE,{unique:!0}),l.createObjectStore("documentMutations")}(e),vI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=S.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),vI(e)),o=o.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,u){return u.store("mutations").W().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",DE,{unique:!0});const d=u.store("mutations"),h=c.map(f=>d.put(f));return S.waitFor(h)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:u4});u.createIndex("collectionPathOverlayIndex",c4,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",d4,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:J$});u.createIndex("documentKeyIndex",Z$),u.createIndex("collectionGroupIndex",e4)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:s4}).createIndex("sequenceNumberIndex",o4,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:a4}).createIndex("documentKeyIndex",l4,{unique:!1})}(e))),o}Xr(e){let n=0;return e.store("remoteDocuments").Y((r,i)=>{n+=Dh(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next(i=>S.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>S.forEach(a,l=>{ee(l.userId===s.userId);const u=cs(this.serializer,l);return vC(e,s.userId,u).next(()=>{})}))}))}ei(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const l=new Se(o),u=function(d){return[0,Bt(d)]}(l);s.push(n.get(u).next(c=>c?S.resolve():(d=>n.put({targetId:0,path:Bt(d),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>S.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:i4});const r=n.store("collectionParents"),i=new S_,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Bt(l)})}};return n.store("remoteDocuments").Y({J:!0},(o,a)=>{const l=new Se(o);return s(l.popLast())}).next(()=>n.store("documentMutations").Y({J:!0},([o,a,l],u)=>{const c=ar(a);return s(c.popLast())}))}ni(e){const n=e.store("targets");return n.Y((r,i)=>{const s=xl(i),o=pC(this.serializer,s);return n.put(o)})}ri(e,n){const r=n.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(d){return d.document?new j(Se.fromString(d.document.name).popFirst(5)):d.noDocument?j.fromSegments(d.noDocument.path):d.unknownDocument?j.fromSegments(d.unknownDocument.path):X()}(o).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(u))}).next(()=>S.waitFor(i))}ii(e,n){const r=n.store("mutations"),i=IC(this.serializer),s=new SC(Uf.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:fe();cs(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),S.forEach(a,(l,u)=>{const c=new vt(u),d=Ff.ct(this.serializer,c),h=s.getIndexManager(c),f=$f.ct(c,this.serializer,h,s.referenceDelegate);return new TC(i,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new Og(n,Sn._e),l).next()})})}}function vI(t){t.createObjectStore("targetDocuments",{keyPath:n4}).createIndex("documentTargetsIndex",r4,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",t4,{unique:!0}),t.createObjectStore("targetGlobal")}const am="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class P_{constructor(e,n,r,i,s,o,a,l,u,c,d=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=c,this.ai=d,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=h=>Promise.resolve(),!P_.D())throw new $(b.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new EU(this,i),this.Ii=n+"main",this.serializer=new fC(l),this.Ti=new Nr(this.Ii,this.ai,new DU(this.serializer)),this.qr=new gU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=IC(this.serializer),this.Kr=new lU,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,c===!1&&Ft("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $(b.FAILED_PRECONDITION,am);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Sn(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){return this.Pi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(async()=>{this.started&&await this.di()}))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ed(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(n=>this.isPrimary&&!n?this.pi(e).next(()=>!1):!!n&&this.yi(e).next(()=>!0))).catch(e=>{if(Yi(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return gl(e).get("owner").next(n=>S.resolve(this.wi(n)))}Si(e){return ed(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=gt(n,"clientMetadata");return r.W().next(i=>{const s=this.Ci(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return S.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ei)for(const n of e)this.Ei.removeItem(this.vi(n.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?S.resolve(!0):gl(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)){if(this.wi(n)&&this.networkEnabled)return!0;if(!this.wi(n)){if(!n.allowTabSynchronization)throw new $(b.FAILED_PRECONDITION,am);return!1}}return!(!this.networkEnabled||!this.inForeground)||ed(e).W().next(r=>this.Ci(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&V("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Og(e,Sn._e);return this.pi(n).next(()=>this.Si(n))}),this.Ti.close(),this.Ni()}Ci(e,n){return e.filter(r=>this.Di(r.updateTimeMs,n)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ed(e).W().next(n=>this.Ci(n,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,n){return $f.ct(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mU(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ff.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,n,r){V("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===15?f4:l===14?AA:l===13?PA:l===12?h4:l===11?RA:void X()}(this.ai);let o;return this.Ti.runTransaction(e,i,s,a=>(o=new Og(a,this.Lr?this.Lr.next():Sn._e),n==="readwrite-primary"?this.fi(o).next(l=>!!l||this.gi(o)).next(l=>{if(!l)throw Ft(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new $(b.FAILED_PRECONDITION,IA);return r(o)}).next(l=>this.yi(o).next(()=>l)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return gl(e).get("owner").next(n=>{if(n!==null&&this.Di(n.leaseTimestampMs,5e3)&&!this.Fi(n.ownerId)&&!this.wi(n)&&!(this._i||this.allowTabSynchronization&&n.allowTabSynchronization))throw new $(b.FAILED_PRECONDITION,am)})}yi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return gl(e).put("owner",n)}static D(){return Nr.D()}pi(e){const n=gl(e);return n.get("owner").next(r=>this.wi(r)?(V("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):S.resolve())}Di(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ft(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ai(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground=this.document.visibilityState==="visible")}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ui=()=>{this.Mi();const n=/(?:Version|Mobile)\/1[456]/;fV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var n;try{const r=((n=this.Ei)===null||n===void 0?void 0:n.getItem(this.vi(e)))!==null;return V("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ft("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Ft("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function gl(t){return gt(t,"owner")}function ed(t){return gt(t,"clientMetadata")}function NU(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=fe(),i=fe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new A_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new OU;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(go()<=me.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),S.resolve()):(go()<=me.DEBUG&&V("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(go()<=me.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(n))):S.resolve())}zi(e,n){if(qE(n))return S.resolve(null);let r=Pn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ah(n,null,"F"),r=Pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=fe(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,o,l.readTime)?this.zi(e,Ah(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return qE(n)||i.isEqual(Z.min())?S.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?S.resolve(null):(go()<=me.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.Xi(e,o,n,q$(i,-1)).next(a=>a))})}Yi(e,n){let r=new xe(BA(e));return n.forEach((i,s)=>{pc(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return go()<=me.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",yo(n)),this.Gi.getDocumentsMatchingQuery(e,n,fn.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Le(he),this.ns=new Xi(s=>zs(s),fc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TC(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function PC(t,e,n,r){return new MU(t,e,n,r)}async function AC(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=fe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}function VU(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=S.resolve();return h.forEach(y=>{f=f.next(()=>c.getEntry(l,y)).next(v=>{const w=u.docVersions.get(y);ee(w!==null),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CC(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function LU(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(St.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,w,m){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.qr.updateTargetData(s,f))});let l=ln(),u=fe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(FU(s,o,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(Z.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return S.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ts=i,s))}function FU(t,e,n){let r=fe(),i=fe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ln();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:o,cs:i}})}function $U(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UU(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Gg(t,e,n){const r=ue(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yi(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function _I(t,e,n){const r=ue(t);let i=Z.min(),s=fe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=ue(l),h=d.ns.get(c);return h!==void 0?S.resolve(d.ts.get(h)):d.qr.getTargetData(u,c)}(r,o,Pn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:fe())).next(a=>(BU(r,C4(e),a),{documents:a,ls:s})))}function BU(t,e,n){let r=t.rs.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class wI{constructor(){this.activeTargetIds=O4()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xC{constructor(){this.eo=new wI,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new wI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let td=null;function lm(){return td===null?td=function(){return 268435456+Math.round(2147483648*Math.random())}():td++,"0x"+td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class HU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=lm(),l=this.So(n,r);V("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(n,l,u,i).then(c=>(V("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw _a("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=jU[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=lm();return new Promise((o,a)=>{const l=new N$;l.setWithCredentials(!0),l.listenOnce(b$.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sm.NO_ERROR:const c=l.getResponseJson();V(Ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case sm.TIMEOUT:V(Ct,`RPC '${e}' ${s} timed out`),a(new $(b.DEADLINE_EXCEEDED,"Request time out"));break;case sm.HTTP_ERROR:const d=l.getStatus();if(V(Ct,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const y=function(w){const m=w.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(m)>=0?m:b.UNKNOWN}(f.status);a(new $(y,f.message))}else a(new $(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new $(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{V(Ct,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);V(Ct,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=lm(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=C$(),a=x$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new D$({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");V(Ct,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const y=new qU({co:w=>{f?V(Ct,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(V(Ct,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),V(Ct,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},lo:()=>d.close()}),v=(w,m,g)=>{w.listen(m,_=>{try{g(_)}catch(p){setTimeout(()=>{throw p},0)}})};return v(d,Yc.EventType.OPEN,()=>{f||V(Ct,`RPC '${e}' stream ${i} transport opened.`)}),v(d,Yc.EventType.CLOSE,()=>{f||(f=!0,V(Ct,`RPC '${e}' stream ${i} transport closed`),y.Ro())}),v(d,Yc.EventType.ERROR,w=>{f||(f=!0,_a(Ct,`RPC '${e}' stream ${i} transport errored:`,w),y.Ro(new $(b.UNAVAILABLE,"The operation could not be completed")))}),v(d,Yc.EventType.MESSAGE,w=>{var m;if(!f){const g=w.data[0];ee(!!g);const _=g,p=_.error||((m=_[0])===null||m===void 0?void 0:m.error);if(p){V(Ct,`RPC '${e}' stream ${i} received error:`,p);const I=p.status;let T=function(D){const N=Ze[D];if(N!==void 0)return eC(N)}(I),R=p.message;T===void 0&&(T=b.INTERNAL,R="Unknown error status: "+I+" with message "+p.message),f=!0,y.Ro(new $(T,R)),d.close()}else V(Ct,`RPC '${e}' stream ${i} received:`,g),y.Vo(g)}}),v(a,k$.STAT_EVENT,w=>{w.stat===CE.PROXY?V(Ct,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===CE.NOPROXY&&V(Ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ao()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(){return typeof window<"u"?window:null}function bd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bf(t){return new X4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new bC(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new $(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KU extends kC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=eU(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?zt(o.readTime):Z.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=jg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Rh(l)?{documents:aC(s,l)}:{query:lC(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rC(s,o.resumeToken);const u=Bg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Pa(s,o.snapshotVersion.toTimestamp());const u=Bg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=nU(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=jg(this.serializer),n.removeTarget=e,this.e_(n)}}class GU extends kC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=tU(e.writeResults,e.commitTime),r=zt(e.commitTime);return this.listener.I_(r,n)}return ee(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=jg(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xh(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new $(b.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(b.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(b.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class YU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Ft(n),this.f_=!1):V("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{no(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.C_.add(4),await gc(u),u.M_.set("Unknown"),u.C_.delete(4),await zf(u)}(this))})}),this.M_=new YU(r,i)}}async function zf(t){if(no(t))for(const e of t.v_)await e(!0)}async function gc(t){for(const e of t.v_)await e(!1)}function DC(t,e){const n=ue(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),b_(n)?x_(n):ja(n).Ho()&&C_(n,e))}function NC(t,e){const n=ue(t),r=ja(n);n.D_.delete(e),r.Ho()&&OC(n,e),n.D_.size===0&&(r.Ho()?r.Zo():no(n)&&n.M_.set("Unknown"))}function C_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).u_(e)}function OC(t,e){t.x_.Oe(e),ja(t).c_(e)}function x_(t){t.x_=new K4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.M_.g_()}function b_(t){return no(t)&&!ja(t).jo()&&t.D_.size>0}function no(t){return ue(t).C_.size===0}function MC(t){t.x_=void 0}async function JU(t){t.D_.forEach((e,n)=>{C_(t,e)})}async function ZU(t,e){MC(t),b_(t)?(t.M_.w_(e),x_(t)):t.M_.set("Unknown")}async function eB(t,e,n){if(t.M_.set("Online"),e instanceof nC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(t,r)}else if(e instanceof xd?t.x_.$e(e):e instanceof tC?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(Z.min()))try{const r=await CC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.D_.get(u);c&&s.D_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.D_.get(l);if(!c)return;s.D_.set(l,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),OC(s,l);const d=new Or(c.target,l,u,c.sequenceNumber);C_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await Nh(t,r)}}async function Nh(t,e,n){if(!Yi(e))throw e;t.C_.add(1),await gc(t),t.M_.set("Offline"),n||(n=()=>CC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await zf(t)})}function VC(t,e){return e().catch(n=>Nh(t,n,e))}async function yc(t){const e=ue(t),n=zi(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;tB(e);)try{const i=await $U(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,nB(e,i)}catch(i){await Nh(e,i)}LC(e)&&FC(e)}function tB(t){return no(t)&&t.b_.length<10}function nB(t,e){t.b_.push(e);const n=zi(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function LC(t){return no(t)&&!zi(t).jo()&&t.b_.length>0}function FC(t){zi(t).start()}async function rB(t){zi(t).E_()}async function iB(t){const e=zi(t);for(const n of t.b_)e.P_(n.mutations)}async function sB(t,e,n){const r=t.b_.shift(),i=__.from(r,e,n);await VC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yc(t)}async function oB(t,e){e&&zi(t).h_&&await async function(r,i){if(function(o){return q4(o)&&o!==b.ABORTED}(i.code)){const s=r.b_.shift();zi(r).Yo(),await VC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yc(r)}}(t,e),LC(t)&&FC(t)}async function II(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=no(n);n.C_.add(3),await gc(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await zf(n)}async function aB(t,e){const n=ue(t);e?(n.C_.delete(2),await zf(n)):e||(n.C_.add(2),await gc(n),n.M_.set("Unknown"))}function ja(t){return t.O_||(t.O_=function(n,r,i){const s=ue(n);return s.A_(),new KU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:JU.bind(null,t),Io:ZU.bind(null,t),a_:eB.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),b_(t)?x_(t):t.M_.set("Unknown")):(await t.O_.stop(),MC(t))})),t.O_}function zi(t){return t.N_||(t.N_=function(n,r,i){const s=ue(n);return s.A_(),new GU(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:rB.bind(null,t),Io:oB.bind(null,t),T_:iB.bind(null,t),I_:sB.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await yc(t)):(await t.N_.stop(),t.b_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new k_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D_(t,e){if(Ft("AsyncQueue",`${e}: ${t}`),Yi(t))return new $(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=Al(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.B_=new Le(j.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):X():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Aa{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Aa(e,n,Go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.k_=void 0,this.listeners=[]}}class uB{constructor(){this.queries=new Xi(e=>UA(e),Of),this.onlineState="Unknown",this.q_=new Set}}async function cB(t,e){const n=ue(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new lB),i)try{s.k_=await n.onListen(r)}catch(o){const a=D_(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&N_(n)}async function dB(t,e){const n=ue(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function hB(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&N_(n)}function fB(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function N_(t){t.q_.forEach(e=>{e.next()})}class pB{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=Aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.key=e}}class UC{constructor(e){this.key=e}}class mB{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=fe(),this.mutatedKeys=fe(),this._a=BA(e),this.aa=new Go(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new TI,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=pc(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?y!==v&&(r.track({type:3,doc:f}),w=!0):this.ha(h,f)||(r.track({type:2,doc:f}),w=!0,(l&&this._a(f,l)>0||u&&this._a(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),w=!0):h&&!f&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,c)=>function(h,f){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return y(h)-y(f)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new Aa(this.query,e.aa,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new TI,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=fe(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new UC(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new $C(r))}),n}da(e){this.ia=e.ls,this.oa=fe();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Aa.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class gB{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yB{constructor(e){this.key=e,this.Ra=!1}}class vB{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Xi(a=>UA(a),Of),this.fa=new Map,this.ga=new Set,this.pa=new Le(j.comparator),this.ya=new Map,this.wa=new R_,this.Sa={},this.ba=new Map,this.Da=Hs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function _B(t,e){const n=xB(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await UU(n.localStore,Pn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await wB(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&DC(n.remoteStore,o)}return i}async function wB(t,e,n,r,i){t.va=(d,h,f)=>async function(v,w,m,g){let _=w.view.ca(m);_.Zi&&(_=await _I(v.localStore,w.query,!1).then(({documents:T})=>w.view.ca(T,_)));const p=g&&g.targetChanges.get(w.targetId),I=w.view.applyChanges(_,v.isPrimaryClient,p);return RI(v,w.targetId,I.Ta),I.snapshot}(t,d,h,f);const s=await _I(t.localStore,e,!0),o=new mB(e,s.ls),a=o.ca(s.documents),l=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);RI(t,n,u.Ta);const c=new gB(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function EB(t,e){const n=ue(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Of(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Gg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),NC(n.remoteStore,r.targetId),Qg(n,r.targetId)}).catch(eo)):(Qg(n,r.targetId),await Gg(n.localStore,r.targetId,!0))}async function IB(t,e,n){const r=HC(t);try{const i=await function(o,a){const l=ue(o),u=je.now(),c=a.reduce((f,y)=>f.add(y.key),fe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let y=ln(),v=fe();return l.ss.getEntries(f,c).next(w=>{y=w,y.forEach((m,g)=>{g.isValidDocument()||(v=v.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,y)).next(w=>{d=w;const m=[];for(const g of a){const _=z4(g,d.get(g.key).overlayedDocument);_!=null&&m.push(new Yr(g.key,_,kA(_.value.mapValue),Xt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(w=>{h=w;const m=w.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,w.batchId,m)})}).then(()=>({batchId:h.batchId,changes:jA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Sa[o.currentUser.toKey()];u||(u=new Le(he)),u=u.insert(a,l),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,n),await vc(r,i.changes),await yc(r.remoteStore)}catch(i){const s=D_(i,"Failed to persist write");n.reject(s)}}async function BC(t,e){const n=ue(t);try{const r=await LU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?ee(o.Ra):i.removedDocuments.size>0&&(ee(o.Ra),o.Ra=!1))}),await vc(n,r,e)}catch(r){await eo(r)}}function SI(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.listeners)h.Q_(a)&&(u=!0)}),u&&N_(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TB(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Le(j.comparator);o=o.insert(s,Ke.newNoDocument(s,Z.min()));const a=fe().add(s),l=new Lf(Z.min(),new Map,new Le(he),o,a);await BC(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),O_(r)}else await Gg(r.localStore,e,!1).then(()=>Qg(r,e,n)).catch(eo)}async function SB(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await VU(n.localStore,e);jC(n,r,null),zC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await eo(i)}}async function RB(t,e,n){const r=ue(t);try{const i=await function(o,a){const l=ue(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ee(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);jC(r,e,n),zC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,i)}catch(i){await eo(i)}}function zC(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function jC(t,e,n){const r=ue(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Qg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||qC(t,r)})}function qC(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(NC(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),O_(t))}function RI(t,e,n){for(const r of n)r instanceof $C?(t.wa.addReference(r.key,e),PB(t,r)):r instanceof UC?(V("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||qC(t,r.key)):X()}function PB(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(V("SyncEngine","New document in limbo: "+n),t.ga.add(r),O_(t))}function O_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new j(Se.fromString(e)),r=t.Da.next();t.ya.set(r,new yB(n)),t.pa=t.pa.insert(n,r),DC(t.remoteStore,new Or(Pn(g_(n.path)),r,"TargetPurposeLimboResolution",Sn._e))}}async function vc(t,e,n){const r=ue(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=A_.Qi(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>S.forEach(u,h=>S.forEach(h.ki,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>S.forEach(h.qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Yi(d))throw d;V("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ts.get(h),y=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(y);c.ts=c.ts.insert(h,v)}}}(r.localStore,s))}async function AB(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await AC(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new $(b.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r._s)}}function CB(t,e){const n=ue(t),r=n.ya.get(e);if(r&&r.Ra)return fe().add(r.key);{let i=fe();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function xB(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TB.bind(null,e),e.Va.a_=hB.bind(null,e.eventManager),e.Va.Fa=fB.bind(null,e.eventManager),e}function HC(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RB.bind(null,e),e}class Yg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return PC(this.persistence,new RC,e.initialUser,this.serializer)}createPersistence(e){return new SC(Uf.jr,this.serializer)}createSharedClientState(e){return new xC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bB extends Yg{constructor(e,n,r){super(),this.xa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await HC(this.xa.syncEngine),await yc(this.xa.remoteStore),await this.persistence.mi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return PC(this.persistence,new RC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new vU(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new G$(n,this.persistence);return new K$(e.asyncQueue,r)}createPersistence(e){const n=NU(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new P_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,WU(),bd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new xC}}class WC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AB.bind(null,this.syncEngine),await aB(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uB}()}createDatastore(e){const n=Bf(e.databaseInfo.databaseId),r=function(s){return new HU(s)}(e.databaseInfo);return function(s,o,a,l){return new QU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new XU(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>SI(this.syncEngine,n,0),function(){return EI.D()?new EI:new zU}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new vB(i,s,o,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ue(n);V("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await gc(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=_A.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{V("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function um(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await OB(t);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>II(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>II(e.remoteStore,s)),t._onlineComponents=e}function NB(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function OB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await um(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!NB(n))throw n;_a("Error using user provided cache. Falling back to memory cache: "+n),await um(t,new Yg)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await um(t,new Yg);return t._offlineComponents}async function KC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await PI(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await PI(t,new WC))),t._onlineComponents}function MB(t){return KC(t).then(e=>e.syncEngine)}async function VB(t){const e=await KC(t),n=e.eventManager;return n.onListen=_B.bind(null,e.syncEngine),n.onUnlisten=EB.bind(null,e.syncEngine),n}function LB(t,e,n={}){const r=new Lr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new kB({next:h=>{o.enqueueAndForget(()=>dB(s,d)),h.fromCache&&l.source==="server"?u.reject(new $(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new pB(a,c,{includeMetadataChanges:!0,J_:!0});return cB(s,d)}(await VB(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e,n){if(!n)throw new $(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FB(t,e,n,r){if(e===!0&&r===!0)throw new $(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CI(t){if(!j.isDocumentKey(t))throw new $(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xI(t){if(j.isDocumentKey(t))throw new $(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(t);throw new $(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $B(t,e){if(e<=0)throw new $(b.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new $(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new $(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new $(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M$;switch(r.type){case"firstParty":return new $$(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AI.get(n);r&&(V("ComponentProvider","Removing Datastore"),AI.delete(n),r.terminate())}(this),Promise.resolve()}}function UB(t,e,n,r={}){var i;const s=(t=Ws(t,qf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&_a("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vt.MOCK_USER;else{a=aV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vt(u)}t._authCredentials=new V$(new vA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ji(this.firestore,e,this._query)}}class tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}}class Oi extends Ji{constructor(e,n,r){super(e,n,g_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new j(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Cz(t,e,...n){if(t=jt(t),QC("collection","path",e),t instanceof qf){const r=Se.fromString(e,...n);return xI(r),new Oi(t,null,r)}{if(!(t instanceof tn||t instanceof Oi))throw new $(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return xI(r),new Oi(t.firestore,null,r)}}function xz(t,e,...n){if(t=jt(t),arguments.length===1&&(e=_A.newId()),QC("doc","path",e),t instanceof qf){const r=Se.fromString(e,...n);return CI(r),new tn(t,null,new j(r))}{if(!(t instanceof tn||t instanceof Oi))throw new $(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return CI(r),new tn(t.firestore,t instanceof Oi?t.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new bC(this,"async_queue_retry"),this.iu=()=>{const n=bd();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=bd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=bd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Lr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Yi(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ft("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=k_.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&X()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class Hf extends qf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new BB}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||XC(this),this._firestoreClient.terminate()}}function zB(t,e,n){n||(n="(default)");const r=hf(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(pu(s,e))return i;throw new $(b.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new $(b.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function bz(t,e){const n=typeof t=="object"?t:VR(),r=typeof t=="string"?t:e||"(default)",i=hf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=sV("firestore");s&&UB(i,...s)}return i}function YC(t){return t._firestoreClient||XC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function XC(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new m4(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,GC(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new DB(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ca(St.fromBase64String(e))}catch(n){throw new $(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ca(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB=/^__.*__$/;class qB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new za(e,this.data,n,this.fieldTransforms)}}class JC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class L_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new L_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Oh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(ZC(this.Iu)&&jB.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class HB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bf(e)}pu(e,n,r,i=!1){return new L_({Iu:e,methodName:n,gu:r,path:Be.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F_(t){const e=t._freezeSettings(),n=Bf(t._databaseId);return new HB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WB(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);$_("Data must be an object, but it was:",o,r);const a=ex(r,o);let l,u;if(s.merge)l=new Yt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=Xg(e,d,n);if(!o.contains(h))throw new $(b.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);nx(c,h)||c.push(h)}l=new Yt(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new qB(new kt(a),l,u)}class Kf extends M_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function KB(t,e,n,r){const i=t.pu(1,e,n);$_("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();to(r,(l,u)=>{const c=U_(e,l,n);u=jt(u);const d=i.Ru(c);if(u instanceof Kf)s.push(c);else{const h=_c(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new Yt(s);return new JC(o,a,i.fieldTransforms)}function GB(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[Xg(e,r,n)],l=[i];if(s.length%2!=0)throw new $(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Xg(e,s[h])),l.push(s[h+1]);const u=[],c=kt.empty();for(let h=a.length-1;h>=0;--h)if(!nx(u,a[h])){const f=a[h];let y=l[h];y=jt(y);const v=o.Ru(f);if(y instanceof Kf)u.push(f);else{const w=_c(y,v);w!=null&&(u.push(f),c.set(f,w))}}const d=new Yt(u);return new JC(c,d,o.fieldTransforms)}function QB(t,e,n,r=!1){return _c(n,t.pu(r?4:3,e))}function _c(t,e){if(tx(t=jt(t)))return $_("Unsupported field value:",e,t),ex(t,e);if(t instanceof M_)return function(r,i){if(!ZC(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_c(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return M4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=je.fromDate(r);return{timestampValue:Pa(i.serializer,s)}}if(r instanceof je){const s=new je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pa(i.serializer,s)}}if(r instanceof V_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ca)return{bytesValue:rC(i.serializer,r._byteString)};if(r instanceof tn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:I_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${jf(r)}`)}(t,e)}function ex(t,e){const n={};return CA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,i)=>{const s=_c(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function tx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof je||t instanceof V_||t instanceof Ca||t instanceof tn||t instanceof M_)}function $_(t,e,n){if(!tx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=jf(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Xg(t,e,n){if((e=jt(e))instanceof Wf)return e._internalPath;if(typeof e=="string")return U_(t,e);throw Oh("Field path arguments must be of type string or ",t,!1,void 0,n)}const YB=new RegExp("[~\\*/\\[\\]]");function U_(t,e,n){if(e.search(YB)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wf(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Oh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(b.INVALID_ARGUMENT,a+t+l)}function nx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XB extends rx{data(){return super.data()}}function Gf(t,e){return typeof e=="string"?U_(t,e):e instanceof Wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B_{}class z_ extends B_{}function kz(t,e,...n){let r=[];e instanceof B_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof j_).length,a=s.filter(l=>l instanceof Qf).length;if(o>1||o>0&&a>0)throw new $(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Qf extends z_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qf(e,n,r)}_apply(e){const n=this._parse(e);return ix(e._query,n),new Ji(e.firestore,e.converter,Ug(e._query,n))}_parse(e){const n=F_(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){DI(d,c);const f=[];for(const y of d)f.push(kI(l,s,y));h={arrayValue:{values:f}}}else h=kI(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||DI(d,c),h=QB(a,o,d,c==="in"||c==="not-in");return ge.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Dz(t,e,n){const r=e,i=Gf("where",t);return Qf._create(i,r,n)}class j_ extends B_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Re.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)ix(o,l),o=Ug(o,l)}(e._query,n),new Ji(e.firestore,e.converter,Ug(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class q_ extends z_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new q_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(b.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(b.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ou(s,o)}(e._query,this._field,this._direction);return new Ji(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ba(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Nz(t,e="asc"){const n=e,r=Gf("orderBy",t);return q_._create(r,n)}class H_ extends z_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new H_(e,n,r)}_apply(e){return new Ji(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function Oz(t){return $B("limit",t),H_._create("limit",t,"F")}function kI(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new $(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$A(e)&&n.indexOf("/")!==-1)throw new $(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!j.isDocumentKey(r))throw new $(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Du(t,new j(r))}if(n instanceof tn)return Du(t,n._key);throw new $(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function DI(t,e){if(!Array.isArray(t)||t.length===0)throw new $(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ix(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZB{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return We(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new V_(We(e.latitude),We(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=p_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=$i(e);return new je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);ee(hC(r));const i=new Us(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||Ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t9 extends rx{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kd extends t9{data(e={}){return super.data(e)}}class n9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new nd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new kd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new kd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:r9(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class i9 extends ZB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ca(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function Mz(t){t=Ws(t,Ji);const e=Ws(t.firestore,Hf),n=YC(e),r=new i9(e);return JB(t._query),LB(n,t._query).then(i=>new n9(e,r,t,i))}function Vz(t,e,n){t=Ws(t,tn);const r=Ws(t.firestore,Hf),i=e9(t.converter,e,n);return sx(r,[WB(F_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xt.none())])}function Lz(t,e,n,...r){t=Ws(t,tn);const i=Ws(t.firestore,Hf),s=F_(i);let o;return o=typeof(e=jt(e))=="string"||e instanceof Wf?GB(s,"updateDoc",t._key,e,n,r):KB(s,"updateDoc",t._key,e),sx(i,[o.toMutation(t._key,Xt.exists(!0))])}function sx(t,e){return function(r,i){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>IB(await MB(r),i,s)),s.promise}(YC(t),e)}class s9{constructor(e){let n;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=l9(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function o9(t){return new s9(t)}class a9{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new WC,this._offlineComponentProvider=new bB(this._onlineComponentProvider,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}function l9(t){return new a9(t==null?void 0:t.forceOwnership)}(function(e,n=!0){(function(i){Ua=i})(Va),ga(new Vs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Hf(new L$(r.getProvider("auth-internal")),new B$(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Us(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ni(xE,"4.3.2",e),Ni(xE,"4.3.2","esm2017")})();const ox=E.createContext(null);function u9(t){const{children:e}=t,[n,r]=E.useState(null),[i,s]=E.useState(null),[o,a]=E.useState(!0),[l,u]=E.useState(null);E.useEffect(()=>vu().onAuthStateChanged(h=>{h?(r(h.uid),s(h.displayName)):(r(null),s(null)),a(!1)}),[]);const c=E.useCallback(async h=>{try{h==="github"?await d9():await c9(),u(null)}catch(f){u(f)}},[]),d=E.useCallback(async()=>{try{await vu().signOut(),u(null)}catch(h){u(h)}},[]);return de.jsx(ox.Provider,{value:{isLoading:o,error:l,userId:n,displayName:i,signIn:c,signOut:d},children:o?null:e})}function c9(){return pP(vu(),new Rr)}function d9(){return pP(vu(),new Pr)}const h9="modulepreload",f9=function(t){return"/lifting-log/"+t},NI={},Yf=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=f9(s),s in NI)return;NI[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":h9,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$e.apply(this,arguments)}var et;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(et||(et={}));const OI="popstate";function p9(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=_r(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Lu("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:Gs(s))}function r(i,s){Ks(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return g9(e,n,r,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m9(){return Math.random().toString(36).substr(2,8)}function MI(t,e){return{usr:t.state,key:t.key,idx:e}}function Lu(t,e,n,r){return n===void 0&&(n=null),$e({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_r(e):e,{state:n,key:e&&e.key||r||m9()})}function Gs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _r(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function g9(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=et.Pop,l=null,u=c();u==null&&(u=0,o.replaceState($e({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=et.Pop;let w=c(),m=w==null?null:w-u;u=w,l&&l({action:a,location:v.location,delta:m})}function h(w,m){a=et.Push;let g=Lu(v.location,w,m);n&&n(g,w),u=c()+1;let _=MI(g,u),p=v.createHref(g);try{o.pushState(_,"",p)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(p)}s&&l&&l({action:a,location:v.location,delta:1})}function f(w,m){a=et.Replace;let g=Lu(v.location,w,m);n&&n(g,w),u=c();let _=MI(g,u),p=v.createHref(g);o.replaceState(_,"",p),s&&l&&l({action:a,location:v.location,delta:0})}function y(w){let m=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof w=="string"?w:Gs(w);return pe(m,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,m)}let v={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(OI,d),l=w,()=>{i.removeEventListener(OI,d),l=null}},createHref(w){return e(i,w)},createURL:y,encodeLocation(w){let m=y(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(w){return o.go(w)}};return v}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const y9=new Set(["lazy","caseSensitive","path","id","index","children"]);function v9(t){return t.index===!0}function Jg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),pe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),v9(i)){let l=$e({},i,e(i),{id:a});return r[a]=l,l}else{let l=$e({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Jg(i.children,e,o,r)),l}})}function Mo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_r(e):e,i=qa(r.pathname||"/",n);if(i==null)return null;let s=ax(t);w9(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=x9(s[a],D9(i));return o}function _9(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ax(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ax(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:A9(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of lx(s.path))i(s,o,l)}),e}function lx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=lx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function w9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const E9=/^:\w+$/,I9=3,T9=2,S9=1,R9=10,P9=-2,VI=t=>t==="*";function A9(t,e){let n=t.split("/"),r=n.length;return n.some(VI)&&(r+=P9),e&&(r+=T9),n.filter(i=>!VI(i)).reduce((i,s)=>i+(E9.test(s)?I9:s===""?S9:R9),r)}function C9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function x9(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=b9({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:Fr([i,c.pathname]),pathnameBase:V9(Fr([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Fr([i,c.pathnameBase]))}return s}function b9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=k9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let h=a[d]||"";o=s.slice(0,s.length-h.length).replace(/(.)\/+$/,"$1")}return u[c]=N9(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function k9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function D9(t){try{return decodeURI(t)}catch(e){return Ks(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function N9(t,e){try{return decodeURIComponent(t)}catch(n){return Ks(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function O9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_r(t):t;return{pathname:n?n.startsWith("/")?n:M9(n,e):e,search:L9(r),hash:F9(i)}}function M9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wc(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_r(t):(i=$e({},t),pe(!i.pathname||!i.pathname.includes("?"),cm("?","pathname","search",i)),pe(!i.pathname||!i.pathname.includes("#"),cm("#","pathname","hash",i)),pe(!i.search||!i.search.includes("#"),cm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=O9(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Fr=t=>t.join("/").replace(/\/\/+/g,"/"),V9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,F9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class W_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ux(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cx=["post","put","patch","delete"],$9=new Set(cx),U9=["get",...cx],B9=new Set(U9),z9=new Set([301,302,303,307,308]),j9=new Set([307,308]),dm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},q9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},yl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,H9=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function W9(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let P=t.detectErrorBoundary;i=A=>({hasErrorBoundary:P(A)})}else i=H9;let s={},o=Jg(t.routes,i,void 0,s),a,l=t.basename||"/",u=$e({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,h=null,f=null,y=null,v=t.hydrationData!=null,w=Mo(o,t.history.location,l),m=null;if(w==null){let P=_n(404,{pathname:t.history.location.pathname}),{matches:A,route:O}=qI(o);w=A,m={[O.id]:P}}let g=!w.some(P=>P.route.lazy)&&(!w.some(P=>P.route.loader)||t.hydrationData!=null),_,p={historyAction:t.history.action,location:t.history.location,matches:w,initialized:g,navigation:dm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},I=et.Pop,T=!1,R,C=!1,D=!1,N=[],U=[],q=new Map,K=0,F=-1,H=new Map,W=new Set,te=new Map,x=new Map,Y=new Map,ne=!1;function Ee(){return c=t.history.listen(P=>{let{action:A,location:O,delta:G}=P;if(ne){ne=!1;return}Ks(Y.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ae=J_({currentLocation:p.location,nextLocation:O,historyAction:A});if(ae&&G!=null){ne=!0,t.history.go(G*-1),Ic(ae,{state:"blocked",location:O,proceed(){Ic(ae,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(G)},reset(){let se=new Map(p.blockers);se.set(ae,yl),Te({blockers:se})}});return}return kn(A,O)}),p.initialized||kn(et.Pop,p.location),_}function ke(){c&&c(),d.clear(),R&&R.abort(),p.fetchers.forEach((P,A)=>oo(A)),p.blockers.forEach((P,A)=>X_(A))}function Gn(P){return d.add(P),()=>d.delete(P)}function Te(P){p=$e({},p,P),d.forEach(A=>A(p))}function nn(P,A){var O,G;let ae=p.actionData!=null&&p.navigation.formMethod!=null&&$n(p.navigation.formMethod)&&p.navigation.state==="loading"&&((O=P.state)==null?void 0:O._isRedirect)!==!0,se;A.actionData?Object.keys(A.actionData).length>0?se=A.actionData:se=null:ae?se=p.actionData:se=null;let ce=A.loaderData?jI(p.loaderData,A.loaderData,A.matches||[],A.errors):p.loaderData,re=p.blockers;re.size>0&&(re=new Map(re),re.forEach((Fe,Rt)=>re.set(Rt,yl)));let J=T===!0||p.navigation.formMethod!=null&&$n(p.navigation.formMethod)&&((G=P.state)==null?void 0:G._isRedirect)!==!0;a&&(o=a,a=void 0),C||I===et.Pop||(I===et.Push?t.history.push(P,P.state):I===et.Replace&&t.history.replace(P,P.state)),Te($e({},A,{actionData:se,loaderData:ce,historyAction:I,location:P,initialized:!0,navigation:dm,revalidation:"idle",restoreScrollPosition:e0(P,A.matches||p.matches),preventScrollReset:J,blockers:re})),I=et.Pop,T=!1,C=!1,D=!1,N=[],U=[]}async function Mt(P,A){if(typeof P=="number"){t.history.go(P);return}let O=Zg(p.location,p.matches,l,u.v7_prependBasename,P,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:G,submission:ae,error:se}=LI(u.v7_normalizeFormMethod,!1,O,A),ce=p.location,re=Lu(p.location,G,A&&A.state);re=$e({},re,t.history.encodeLocation(re));let J=A&&A.replace!=null?A.replace:void 0,Fe=et.Push;J===!0?Fe=et.Replace:J===!1||ae!=null&&$n(ae.formMethod)&&ae.formAction===p.location.pathname+p.location.search&&(Fe=et.Replace);let Rt=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Ie=J_({currentLocation:ce,nextLocation:re,historyAction:Fe});if(Ie){Ic(Ie,{state:"blocked",location:re,proceed(){Ic(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),Mt(P,A)},reset(){let be=new Map(p.blockers);be.set(Ie,yl),Te({blockers:be})}});return}return await kn(Fe,re,{submission:ae,pendingError:se,preventScrollReset:Rt,replace:A&&A.replace})}function Qn(){if(so(),Te({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){kn(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}kn(I||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation})}}async function kn(P,A,O){R&&R.abort(),R=null,I=P,C=(O&&O.startUninterruptedRevalidation)===!0,Dx(p.location,p.matches),T=(O&&O.preventScrollReset)===!0;let G=a||o,ae=O&&O.overrideNavigation,se=Mo(G,A,l);if(!se){let be=_n(404,{pathname:A.pathname}),{matches:Ye,route:ts}=qI(G);ep(),nn(A,{matches:Ye,loaderData:{},errors:{[ts.id]:be}});return}if(p.initialized&&!D&&X9(p.location,A)&&!(O&&O.submission&&$n(O.submission.formMethod))){nn(A,{matches:se});return}R=new AbortController;let ce=_l(t.history,A,R.signal,O&&O.submission),re,J;if(O&&O.pendingError)J={[Vo(se).route.id]:O.pendingError};else if(O&&O.submission&&$n(O.submission.formMethod)){let be=await Ga(ce,A,O.submission,se,{replace:O.replace});if(be.shortCircuited)return;re=be.pendingActionData,J=be.pendingActionError,ae=hm(A,O.submission),ce=new Request(ce.url,{signal:ce.signal})}let{shortCircuited:Fe,loaderData:Rt,errors:Ie}=await Qa(ce,A,se,ae,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,re,J);Fe||(R=null,nn(A,$e({matches:se},re?{actionData:re}:{},{loaderData:Rt,errors:Ie})))}async function Ga(P,A,O,G,ae){ae===void 0&&(ae={}),so();let se=t3(A,O);Te({navigation:se});let ce,re=ty(G,A);if(!re.route.action&&!re.route.lazy)ce={type:Xe.error,error:_n(405,{method:P.method,pathname:A.pathname,routeId:re.route.id})};else if(ce=await vl("action",P,re,G,s,i,l),P.signal.aborted)return{shortCircuited:!0};if(Qo(ce)){let J;return ae&&ae.replace!=null?J=ae.replace:J=ce.location===p.location.pathname+p.location.search,await Zi(p,ce,{submission:O,replace:J}),{shortCircuited:!0}}if(Wl(ce)){let J=Vo(G,re.route.id);return(ae&&ae.replace)!==!0&&(I=et.Push),{pendingActionData:{},pendingActionError:{[J.route.id]:ce.error}}}if(_s(ce))throw _n(400,{type:"defer-action"});return{pendingActionData:{[re.route.id]:ce.data}}}async function Qa(P,A,O,G,ae,se,ce,re,J){let Fe=G||hm(A,ae),Rt=ae||se||KI(Fe),Ie=a||o,[be,Ye]=FI(t.history,p,O,Rt,A,D,N,U,te,W,Ie,l,re,J);if(ep(Ce=>!(O&&O.some(Nn=>Nn.route.id===Ce))||be&&be.some(Nn=>Nn.route.id===Ce)),F=++K,be.length===0&&Ye.length===0){let Ce=Jr();return nn(A,$e({matches:O,loaderData:{},errors:J||null},re?{actionData:re}:{},Ce?{fetchers:new Map(p.fetchers)}:{})),{shortCircuited:!0}}if(!C){Ye.forEach(Nn=>{let Zr=p.fetchers.get(Nn.key),sp=wl(void 0,Zr?Zr.data:void 0);p.fetchers.set(Nn.key,sp)});let Ce=re||p.actionData;Te($e({navigation:Fe},Ce?Object.keys(Ce).length===0?{actionData:null}:{actionData:Ce}:{},Ye.length>0?{fetchers:new Map(p.fetchers)}:{}))}Ye.forEach(Ce=>{q.has(Ce.key)&&Dn(Ce.key),Ce.controller&&q.set(Ce.key,Ce.controller)});let ts=()=>Ye.forEach(Ce=>Dn(Ce.key));R&&R.signal.addEventListener("abort",ts);let{results:ns,loaderResults:Ja,fetcherResults:tp}=await Ya(p.matches,O,be,Ye,P);if(P.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ts),Ye.forEach(Ce=>q.delete(Ce.key));let wr=HI(ns);if(wr){if(wr.idx>=be.length){let Ce=Ye[wr.idx-be.length].key;W.add(Ce)}return await Zi(p,wr.result,{replace:ce}),{shortCircuited:!0}}let{loaderData:Er,errors:Tc}=zI(p,O,be,Ja,J,Ye,tp,x);x.forEach((Ce,Nn)=>{Ce.subscribe(Zr=>{(Zr||Ce.done)&&x.delete(Nn)})});let np=Jr(),rp=Y_(F),ip=np||rp||Ye.length>0;return $e({loaderData:Er,errors:Tc},ip?{fetchers:new Map(p.fetchers)}:{})}function ro(P){return p.fetchers.get(P)||q9}function io(P,A,O,G){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");q.has(P)&&Dn(P);let ae=a||o,se=Zg(p.location,p.matches,l,u.v7_prependBasename,O,A,G==null?void 0:G.relative),ce=Mo(ae,se,l);if(!ce){es(P,A,_n(404,{pathname:se}));return}let{path:re,submission:J,error:Fe}=LI(u.v7_normalizeFormMethod,!0,se,G);if(Fe){es(P,A,Fe);return}let Rt=ty(ce,re);if(T=(G&&G.preventScrollReset)===!0,J&&$n(J.formMethod)){lt(P,A,re,Rt,ce,J);return}te.set(P,{routeId:A,path:re}),Ec(P,A,re,Rt,ce,J)}async function lt(P,A,O,G,ae,se){if(so(),te.delete(P),!G.route.action&&!G.route.lazy){let nt=_n(405,{method:se.formMethod,pathname:O,routeId:A});es(P,A,nt);return}let ce=p.fetchers.get(P),re=n3(se,ce);p.fetchers.set(P,re),Te({fetchers:new Map(p.fetchers)});let J=new AbortController,Fe=_l(t.history,O,J.signal,se);q.set(P,J);let Rt=K,Ie=await vl("action",Fe,G,ae,s,i,l);if(Fe.signal.aborted){q.get(P)===J&&q.delete(P);return}if(Qo(Ie))if(q.delete(P),F>Rt){let nt=Eo(void 0);p.fetchers.set(P,nt),Te({fetchers:new Map(p.fetchers)});return}else{W.add(P);let nt=wl(se);return p.fetchers.set(P,nt),Te({fetchers:new Map(p.fetchers)}),Zi(p,Ie,{fetcherSubmission:se})}if(Wl(Ie)){es(P,A,Ie.error);return}if(_s(Ie))throw _n(400,{type:"defer-action"});let be=p.navigation.location||p.location,Ye=_l(t.history,be,J.signal),ts=a||o,ns=p.navigation.state!=="idle"?Mo(ts,p.navigation.location,l):p.matches;pe(ns,"Didn't find any matches after fetcher action");let Ja=++K;H.set(P,Ja);let tp=wl(se,Ie.data);p.fetchers.set(P,tp);let[wr,Er]=FI(t.history,p,ns,se,be,D,N,U,te,W,ts,l,{[G.route.id]:Ie.data},void 0);Er.filter(nt=>nt.key!==P).forEach(nt=>{let Za=nt.key,t0=p.fetchers.get(Za),Ox=wl(void 0,t0?t0.data:void 0);p.fetchers.set(Za,Ox),q.has(Za)&&Dn(Za),nt.controller&&q.set(Za,nt.controller)}),Te({fetchers:new Map(p.fetchers)});let Tc=()=>Er.forEach(nt=>Dn(nt.key));J.signal.addEventListener("abort",Tc);let{results:np,loaderResults:rp,fetcherResults:ip}=await Ya(p.matches,ns,wr,Er,Ye);if(J.signal.aborted)return;J.signal.removeEventListener("abort",Tc),H.delete(P),q.delete(P),Er.forEach(nt=>q.delete(nt.key));let Ce=HI(np);if(Ce){if(Ce.idx>=wr.length){let nt=Er[Ce.idx-wr.length].key;W.add(nt)}return Zi(p,Ce.result)}let{loaderData:Nn,errors:Zr}=zI(p,p.matches,wr,rp,void 0,Er,ip,x);if(p.fetchers.has(P)){let nt=Eo(Ie.data);p.fetchers.set(P,nt)}let sp=Y_(Ja);p.navigation.state==="loading"&&Ja>F?(pe(I,"Expected pending action"),R&&R.abort(),nn(p.navigation.location,{matches:ns,loaderData:Nn,errors:Zr,fetchers:new Map(p.fetchers)})):(Te($e({errors:Zr,loaderData:jI(p.loaderData,Nn,ns,Zr)},sp||Er.length>0?{fetchers:new Map(p.fetchers)}:{})),D=!1)}async function Ec(P,A,O,G,ae,se){let ce=p.fetchers.get(P),re=wl(se,ce?ce.data:void 0);p.fetchers.set(P,re),Te({fetchers:new Map(p.fetchers)});let J=new AbortController,Fe=_l(t.history,O,J.signal);q.set(P,J);let Rt=K,Ie=await vl("loader",Fe,G,ae,s,i,l);if(_s(Ie)&&(Ie=await px(Ie,Fe.signal,!0)||Ie),q.get(P)===J&&q.delete(P),Fe.signal.aborted)return;if(Qo(Ie))if(F>Rt){let Ye=Eo(void 0);p.fetchers.set(P,Ye),Te({fetchers:new Map(p.fetchers)});return}else{W.add(P),await Zi(p,Ie);return}if(Wl(Ie)){let Ye=Vo(p.matches,A);p.fetchers.delete(P),Te({fetchers:new Map(p.fetchers),errors:{[Ye.route.id]:Ie.error}});return}pe(!_s(Ie),"Unhandled fetcher deferred data");let be=Eo(Ie.data);p.fetchers.set(P,be),Te({fetchers:new Map(p.fetchers)})}async function Zi(P,A,O){let{submission:G,fetcherSubmission:ae,replace:se}=O===void 0?{}:O;A.revalidate&&(D=!0);let ce=Lu(P.location,A.location,{_isRedirect:!0});if(pe(ce,"Expected a location on the redirect navigation"),n){let be=!1;if(A.reloadDocument)be=!0;else if(dx.test(A.location)){const Ye=t.history.createURL(A.location);be=Ye.origin!==e.location.origin||qa(Ye.pathname,l)==null}if(be){se?e.location.replace(A.location):e.location.assign(A.location);return}}R=null;let re=se===!0?et.Replace:et.Push,{formMethod:J,formAction:Fe,formEncType:Rt}=P.navigation;!G&&!ae&&J&&Fe&&Rt&&(G=KI(P.navigation));let Ie=G||ae;if(j9.has(A.status)&&Ie&&$n(Ie.formMethod))await kn(re,ce,{submission:$e({},Ie,{formAction:A.location}),preventScrollReset:T});else{let be=hm(ce,G);await kn(re,ce,{overrideNavigation:be,fetcherSubmission:ae,preventScrollReset:T})}}async function Ya(P,A,O,G,ae){let se=await Promise.all([...O.map(J=>vl("loader",ae,J,A,s,i,l)),...G.map(J=>J.matches&&J.match&&J.controller?vl("loader",_l(t.history,J.path,J.controller.signal),J.match,J.matches,s,i,l):{type:Xe.error,error:_n(404,{pathname:J.path})})]),ce=se.slice(0,O.length),re=se.slice(O.length);return await Promise.all([WI(P,O,ce,ce.map(()=>ae.signal),!1,p.loaderData),WI(P,G.map(J=>J.match),re,G.map(J=>J.controller?J.controller.signal:null),!0)]),{results:se,loaderResults:ce,fetcherResults:re}}function so(){D=!0,N.push(...ep()),te.forEach((P,A)=>{q.has(A)&&(U.push(A),Dn(A))})}function es(P,A,O){let G=Vo(p.matches,A);oo(P),Te({errors:{[G.route.id]:O},fetchers:new Map(p.fetchers)})}function oo(P){let A=p.fetchers.get(P);q.has(P)&&!(A&&A.state==="loading"&&H.has(P))&&Dn(P),te.delete(P),H.delete(P),W.delete(P),p.fetchers.delete(P)}function Dn(P){let A=q.get(P);pe(A,"Expected fetch controller: "+P),A.abort(),q.delete(P)}function Xa(P){for(let A of P){let O=ro(A),G=Eo(O.data);p.fetchers.set(A,G)}}function Jr(){let P=[],A=!1;for(let O of W){let G=p.fetchers.get(O);pe(G,"Expected fetcher: "+O),G.state==="loading"&&(W.delete(O),P.push(O),A=!0)}return Xa(P),A}function Y_(P){let A=[];for(let[O,G]of H)if(G<P){let ae=p.fetchers.get(O);pe(ae,"Expected fetcher: "+O),ae.state==="loading"&&(Dn(O),H.delete(O),A.push(O))}return Xa(A),A.length>0}function bx(P,A){let O=p.blockers.get(P)||yl;return Y.get(P)!==A&&Y.set(P,A),O}function X_(P){p.blockers.delete(P),Y.delete(P)}function Ic(P,A){let O=p.blockers.get(P)||yl;pe(O.state==="unblocked"&&A.state==="blocked"||O.state==="blocked"&&A.state==="blocked"||O.state==="blocked"&&A.state==="proceeding"||O.state==="blocked"&&A.state==="unblocked"||O.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+A.state);let G=new Map(p.blockers);G.set(P,A),Te({blockers:G})}function J_(P){let{currentLocation:A,nextLocation:O,historyAction:G}=P;if(Y.size===0)return;Y.size>1&&Ks(!1,"A router only supports one blocker at a time");let ae=Array.from(Y.entries()),[se,ce]=ae[ae.length-1],re=p.blockers.get(se);if(!(re&&re.state==="proceeding")&&ce({currentLocation:A,nextLocation:O,historyAction:G}))return se}function ep(P){let A=[];return x.forEach((O,G)=>{(!P||P(G))&&(O.cancel(),A.push(G),x.delete(G))}),A}function kx(P,A,O){if(h=P,y=A,f=O||null,!v&&p.navigation===dm){v=!0;let G=e0(p.location,p.matches);G!=null&&Te({restoreScrollPosition:G})}return()=>{h=null,y=null,f=null}}function Z_(P,A){return f&&f(P,A.map(G=>_9(G,p.loaderData)))||P.key}function Dx(P,A){if(h&&y){let O=Z_(P,A);h[O]=y()}}function e0(P,A){if(h){let O=Z_(P,A),G=h[O];if(typeof G=="number")return G}return null}function Nx(P){s={},a=Jg(P,i,void 0,s)}return _={get basename(){return l},get state(){return p},get routes(){return o},initialize:Ee,subscribe:Gn,enableScrollRestoration:kx,navigate:Mt,fetch:io,revalidate:Qn,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:ro,deleteFetcher:oo,dispose:ke,getBlocker:bx,deleteBlocker:X_,_internalFetchControllers:q,_internalActiveDeferreds:x,_internalSetRoutes:Nx},_}function K9(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Zg(t,e,n,r,i,s,o){let a,l;if(s!=null&&o!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===s){l=c;break}}else a=e,l=e[e.length-1];let u=Xf(i||".",wc(a).map(c=>c.pathnameBase),qa(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!K_(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Fr([n,u.pathname])),Gs(u)}function LI(t,e,n,r){if(!r||!K9(r))return{path:n};if(r.formMethod&&!e3(r.formMethod))return{path:n,error:_n(405,{method:r.formMethod})};let i=()=>({path:n,error:_n(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=fx(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!$n(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,y)=>{let[v,w]=y;return""+f+v+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!$n(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}pe(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=ey(r.formData),u=r.formData;else if(r.body instanceof FormData)l=ey(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=BI(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=BI(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if($n(c.formMethod))return{path:n,submission:c};let d=_r(n);return e&&d.search&&K_(d.search)&&l.append("index",""),d.search="?"+l,{path:Gs(d),submission:c}}function G9(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function FI(t,e,n,r,i,s,o,a,l,u,c,d,h,f){let y=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,v=t.createURL(e.location),w=t.createURL(i),m=f?Object.keys(f)[0]:void 0,_=G9(n,m).filter((I,T)=>{if(I.route.lazy)return!0;if(I.route.loader==null)return!1;if(Q9(e.loaderData,e.matches[T],I)||o.some(D=>D===I.route.id))return!0;let R=e.matches[T],C=I;return $I(I,$e({currentUrl:v,currentParams:R.params,nextUrl:w,nextParams:C.params},r,{actionResult:y,defaultShouldRevalidate:s||v.pathname+v.search===w.pathname+w.search||v.search!==w.search||hx(R,C)}))}),p=[];return l.forEach((I,T)=>{if(!n.some(U=>U.route.id===I.routeId))return;let R=Mo(c,I.path,d);if(!R){p.push({key:T,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(T),D=ty(R,I.path),N=!1;u.has(T)?N=!1:a.includes(T)?N=!0:C&&C.state!=="idle"&&C.data===void 0?N=s:N=$I(D,$e({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:y,defaultShouldRevalidate:s})),N&&p.push({key:T,routeId:I.routeId,path:I.path,matches:R,match:D,controller:new AbortController})}),[_,p]}function Q9(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function hx(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function $I(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function UI(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];pe(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ks(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!y9.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$e({},e(i),{lazy:void 0}))}async function vl(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,d=y=>{let v,w=new Promise((m,g)=>v=g);return c=()=>v(),e.signal.addEventListener("abort",c),Promise.race([y({request:e,params:n.params,context:a.requestContext}),w])};try{let y=n.route[t];if(n.route.lazy)if(y){let v,w=await Promise.all([d(y).catch(m=>{v=m}),UI(n.route,s,i)]);if(v)throw v;u=w[0]}else if(await UI(n.route,s,i),y=n.route[t],y)u=await d(y);else if(t==="action"){let v=new URL(e.url),w=v.pathname+v.search;throw _n(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:Xe.data,data:void 0};else if(y)u=await d(y);else{let v=new URL(e.url),w=v.pathname+v.search;throw _n(404,{pathname:w})}pe(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){l=Xe.error,u=y}finally{c&&e.signal.removeEventListener("abort",c)}if(Z9(u)){let y=u.status;if(z9.has(y)){let m=u.headers.get("Location");if(pe(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!dx.test(m))m=Zg(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,m);else if(!a.isStaticRequest){let g=new URL(e.url),_=m.startsWith("//")?new URL(g.protocol+m):new URL(m),p=qa(_.pathname,o)!=null;_.origin===g.origin&&p&&(m=_.pathname+_.search+_.hash)}if(a.isStaticRequest)throw u.headers.set("Location",m),u;return{type:Xe.redirect,status:y,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===Xe.error?Xe.error:Xe.data,response:u};let v,w=u.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await u.json():v=await u.text(),l===Xe.error?{type:l,error:new W_(y,u.statusText,v),headers:u.headers}:{type:Xe.data,data:v,statusCode:u.status,headers:u.headers}}if(l===Xe.error)return{type:l,error:u};if(J9(u)){var h,f;return{type:Xe.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((f=u.init)==null?void 0:f.headers)&&new Headers(u.init.headers)}}return{type:Xe.data,data:u}}function _l(t,e,n,r){let i=t.createURL(fx(e)).toString(),s={signal:n};if(r&&$n(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=ey(r.formData):s.body=r.formData}return new Request(i,s)}function ey(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function BI(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function Y9(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(pe(!Qo(c),"Cannot handle redirect results in processLoaderData"),Wl(c)){let f=Vo(t,h),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=y),s[h]=void 0,l||(l=!0,a=ux(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else _s(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function zI(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=Y9(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:f}=s[c];pe(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let y=o[c];if(!(f&&f.signal.aborted))if(Wl(y)){let v=Vo(t.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=$e({},u,{[v.route.id]:y.error})),t.fetchers.delete(d)}else if(Qo(y))pe(!1,"Unhandled fetcher revalidation redirect");else if(_s(y))pe(!1,"Unhandled fetcher deferred data");else{let v=Eo(y.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function jI(t,e,n,r){let i=$e({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Vo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function qI(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _n(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new W_(t||500,o,new Error(a),!0)}function HI(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Qo(n))return{result:n,idx:e}}}function fx(t){let e=typeof t=="string"?_r(t):t;return Gs($e({},e,{hash:""}))}function X9(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _s(t){return t.type===Xe.deferred}function Wl(t){return t.type===Xe.error}function Qo(t){return(t&&t.type)===Xe.redirect}function J9(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Z9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function e3(t){return B9.has(t.toLowerCase())}function $n(t){return $9.has(t.toLowerCase())}async function WI(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!hx(u,l)&&(s&&s[l.route.id])!==void 0;if(_s(a)&&(i||c)){let d=r[o];pe(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await px(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function px(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Xe.error,error:i}}return{type:Xe.data,data:t.deferredData.data}}}function K_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function ty(t,e){let n=typeof e=="string"?_r(e).search:e.search;if(t[t.length-1].route.index&&K_(n||""))return t[t.length-1];let r=wc(t);return r[r.length-1]}function KI(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function hm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function t3(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function wl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function n3(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Eo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}const Jf=E.createContext(null),mx=E.createContext(null),Ha=E.createContext(null),Zf=E.createContext(null),Xr=E.createContext({outlet:null,matches:[],isDataRoute:!1}),gx=E.createContext(null);function r3(t,e){let{relative:n}=e===void 0?{}:e;Wa()||pe(!1);let{basename:r,navigator:i}=E.useContext(Ha),{hash:s,pathname:o,search:a}=vx(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Fr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Wa(){return E.useContext(Zf)!=null}function Ka(){return Wa()||pe(!1),E.useContext(Zf).location}function yx(t){E.useContext(Ha).static||E.useLayoutEffect(t)}function G_(){let{isDataRoute:t}=E.useContext(Xr);return t?y3():i3()}function i3(){Wa()||pe(!1);let t=E.useContext(Jf),{basename:e,navigator:n}=E.useContext(Ha),{matches:r}=E.useContext(Xr),{pathname:i}=Ka(),s=JSON.stringify(wc(r).map(l=>l.pathnameBase)),o=E.useRef(!1);return yx(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Xf(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Fr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const s3=E.createContext(null);function o3(t){let e=E.useContext(Xr).outlet;return e&&E.createElement(s3.Provider,{value:t},e)}function vx(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Xr),{pathname:i}=Ka(),s=JSON.stringify(wc(r).map(o=>o.pathnameBase));return E.useMemo(()=>Xf(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function a3(t,e,n){Wa()||pe(!1);let{navigator:r}=E.useContext(Ha),{matches:i}=E.useContext(Xr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Ka(),u;if(e){var c;let v=typeof e=="string"?_r(e):e;a==="/"||(c=v.pathname)!=null&&c.startsWith(a)||pe(!1),u=v}else u=l;let d=u.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=Mo(t,{pathname:h}),y=h3(f&&f.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Fr([a,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:Fr([a,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,n);return e&&y?E.createElement(Zf.Provider,{value:{location:Mh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:et.Pop}},y):y}function l3(){let t=g3(),e=ux(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const u3=E.createElement(l3,null);class c3 extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Xr.Provider,{value:this.props.routeContext},E.createElement(gx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d3(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Jf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Xr.Provider,{value:e},r)}function h3(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||pe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||u3);let h=e.concat(s.slice(0,u+1)),f=()=>{let y;return c?y=d:l.route.Component?y=E.createElement(l.route.Component,null):l.route.element?y=l.route.element:y=a,E.createElement(d3,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:y})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(c3,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var _x=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_x||{}),Vh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vh||{});function f3(t){let e=E.useContext(Jf);return e||pe(!1),e}function p3(t){let e=E.useContext(mx);return e||pe(!1),e}function m3(t){let e=E.useContext(Xr);return e||pe(!1),e}function wx(t){let e=m3(),n=e.matches[e.matches.length-1];return n.route.id||pe(!1),n.route.id}function g3(){var t;let e=E.useContext(gx),n=p3(Vh.UseRouteError),r=wx(Vh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function y3(){let{router:t}=f3(_x.UseNavigateStable),e=wx(Vh.UseNavigateStable),n=E.useRef(!1);return yx(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mh({fromRouteId:e},s)))},[t,e])}const v3="startTransition",GI=oy[v3];function _3(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=E.useState(n.state),{v7_startTransition:o}=r||{},a=E.useCallback(d=>{o&&GI?GI(()=>s(d)):s(d)},[s,o]);E.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=E.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,h,f)=>n.navigate(d,{state:h,preventScrollReset:f==null?void 0:f.preventScrollReset}),replace:(d,h,f)=>n.navigate(d,{replace:!0,state:h,preventScrollReset:f==null?void 0:f.preventScrollReset})}),[n]),u=n.basename||"/",c=E.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return E.createElement(E.Fragment,null,E.createElement(Jf.Provider,{value:c},E.createElement(mx.Provider,{value:i},E.createElement(E3,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?E.createElement(w3,{routes:n.routes,state:i}):e))),null)}function w3(t){let{routes:e,state:n}=t;return a3(e,void 0,n)}function Ex(t){let{to:e,replace:n,state:r,relative:i}=t;Wa()||pe(!1);let{matches:s}=E.useContext(Xr),{pathname:o}=Ka(),a=G_(),l=Xf(e,wc(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return E.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function Ix(t){return o3(t.context)}function E3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=et.Pop,navigator:s,static:o=!1}=t;Wa()&&pe(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=_r(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=r,y=E.useMemo(()=>{let v=qa(u,a);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:f},navigationType:i}},[a,u,c,d,h,f,i]);return y==null?null:E.createElement(Ha.Provider,{value:l},E.createElement(Zf.Provider,{children:n,value:y}))}new Promise(()=>{});function I3(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:E.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:E.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fu.apply(this,arguments)}function T3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function R3(t,e){return t.button===0&&(!e||e==="_self")&&!S3(t)}const P3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function A3(t,e){return W9({basename:e==null?void 0:e.basename,future:Fu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:p9({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||C3(),routes:t,mapRouteProperties:I3}).initialize()}function C3(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Fu({},e,{errors:x3(e.errors)})),e}function x3(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new W_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const b3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D3=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=T3(e,P3),{basename:h}=E.useContext(Ha),f,y=!1;if(typeof u=="string"&&k3.test(u)&&(f=u,b3))try{let g=new URL(window.location.href),_=u.startsWith("//")?new URL(g.protocol+u):new URL(u),p=qa(_.pathname,h);_.origin===g.origin&&p!=null?u=p+_.search+_.hash:y=!0}catch{}let v=r3(u,{relative:i}),w=N3(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function m(g){r&&r(g),g.defaultPrevented||w(g)}return E.createElement("a",Fu({},d,{href:f||v,onClick:y||s?r:m,ref:n,target:l}))});var QI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(QI||(QI={}));var YI;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(YI||(YI={}));function N3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=G_(),l=Ka(),u=vx(t,{relative:o});return E.useCallback(c=>{if(R3(c,n)){c.preventDefault();let d=r!==void 0?r:Gs(l)===Gs(u);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}var Tx={exports:{}},O3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M3=O3,V3=M3;function Sx(){}function Rx(){}Rx.resetWarningCache=Sx;var L3=function(){function t(r,i,s,o,a,l){if(l!==V3){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Rx,resetWarningCache:Sx};return n.PropTypes=n,n};Tx.exports=L3();var F3=Tx.exports;const is=aT(F3);var $3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},U3=Object.defineProperty,B3=Object.defineProperties,z3=Object.getOwnPropertyDescriptors,Lh=Object.getOwnPropertySymbols,Px=Object.prototype.hasOwnProperty,Ax=Object.prototype.propertyIsEnumerable,XI=(t,e,n)=>e in t?U3(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JI=(t,e)=>{for(var n in e||(e={}))Px.call(e,n)&&XI(t,n,e[n]);if(Lh)for(var n of Lh(e))Ax.call(e,n)&&XI(t,n,e[n]);return t},j3=(t,e)=>B3(t,z3(e)),q3=(t,e)=>{var n={};for(var r in t)Px.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Lh)for(var r of Lh(t))e.indexOf(r)<0&&Ax.call(t,r)&&(n[r]=t[r]);return n},Q_=(t,e,n)=>{const r=E.forwardRef((i,s)=>{var o=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=o,d=q3(o,["color","size","stroke","children"]);return E.createElement("svg",JI(j3(JI({ref:s},$3),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${t}`}),d),[...n.map(([h,f])=>E.createElement(h,f)),...c||[]])});return r.propTypes={color:is.string,size:is.oneOfType([is.string,is.number]),stroke:is.oneOfType([is.string,is.number])},r.displayName=`${e}`,r},H3=Q_("brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]]),W3=Q_("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),K3=Q_("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);function Cx(){const t=E.useContext(ox);if(!t)throw new Error("useAuth must be used inside an AuthProvider");return t}function G3(){const{signOut:t,userId:e,displayName:n}=Cx(),r=G_(),i=Ka();return de.jsxs(Ev,{p:"lg",size:"xs",children:[de.jsxs(lh,{justify:"space-between",align:"center",mb:"md",children:[de.jsx(Na,{component:D3,to:"/",fz:22,fw:"600",children:" Lifting log"}),de.jsxs(lh,{gap:"xs",children:[de.jsx(du,{variant:"subtle",color:"gray",component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/scwood/lifting-log",children:de.jsx(H3,{})}),e&&de.jsxs(on,{children:[de.jsx(on.Target,{children:de.jsx(du,{variant:"subtle",color:"gray",children:de.jsx(K3,{})})}),de.jsxs(on.Dropdown,{children:[n&&de.jsx(on.Item,{disabled:!0,children:n}),de.jsx(on.Item,{onClick:t,leftSection:de.jsx(W3,{size:14}),children:"Sign out"})]})]})]})]}),e&&de.jsx(nr,{mb:"md",value:i.pathname,onChange:s,children:de.jsxs(nr.List,{children:[de.jsx(nr.Tab,{value:"/",children:"Current workout"}),de.jsx(nr.Tab,{value:"/plan",children:"Workout plan"}),de.jsx(nr.Tab,{value:"/history",children:"History"})]})}),de.jsx(E.Suspense,{fallback:de.jsx(wv,{children:de.jsx(Yu,{})}),children:de.jsx(Ix,{})})]});function s(o){o&&r(o)}}const Q3=E.createContext(null);function Y3(t){const{userId:e,children:n}=t;return de.jsx(Q3.Provider,{value:{userId:e},children:n})}function X3(){const{userId:t}=Cx();return t?de.jsx(Y3,{userId:t,children:de.jsx(Ix,{})}):de.jsx(Ex,{to:"/sign-in"})}const J3=E.lazy(()=>Yf(()=>import("./CurrentWorkoutTab-895fa787.js"),["assets/CurrentWorkoutTab-895fa787.js","assets/useCreateWorkoutMutation-aa98cda3.js","assets/Button-10ccd8b6.js","assets/workoutUtils-27eb97f4.js"])),Z3=E.lazy(()=>Yf(()=>import("./PlanWorkoutTab-fd1151e5.js"),["assets/PlanWorkoutTab-fd1151e5.js","assets/useCreateWorkoutMutation-aa98cda3.js","assets/Button-10ccd8b6.js","assets/workoutUtils-27eb97f4.js"])),ez=E.lazy(()=>Yf(()=>import("./HistoryTab-dba7e36d.js"),["assets/HistoryTab-dba7e36d.js","assets/workoutUtils-27eb97f4.js"])),tz=E.lazy(()=>Yf(()=>import("./SignInPage-47512746.js"),["assets/SignInPage-47512746.js","assets/Button-10ccd8b6.js"])),nz=A3([{path:"/",element:de.jsx(G3,{}),children:[{element:de.jsx(X3,{}),children:[{index:!0,element:de.jsx(J3,{})},{path:"plan",element:de.jsx(Z3,{})},{path:"history",element:de.jsx(ez,{})}]},{path:"sign-in",element:de.jsx(tz,{})},{path:"*",element:de.jsx(Ex,{to:"/"})}]}]);function rz(){return de.jsx(_3,{router:nz})}const xx=MR({apiKey:"AIzaSyBQpLMpVWLjHU7xenqPbsEWzGQ1b2eIdcw",authDomain:"lifting-log-948d2.firebaseapp.com",projectId:"lifting-log-948d2",storageBucket:"lifting-log-948d2.appspot.com",messagingSenderId:"651878724833",appId:"1:651878724833:web:a2b6eccf72b49530bcf3a0",measurementId:"G-WE0QE376H5"});vu(xx);zB(xx,{localCache:o9()});const iz={headings:{fontWeight:"600"}},sz=new YM;function oz(){return de.jsx(u9,{children:de.jsx(VS,{theme:iz,defaultColorScheme:"dark",children:de.jsx(XM,{client:sz,children:de.jsx(rz,{})})})})}const az=fm.createRoot(document.getElementById("root"));az.render(de.jsx(B.StrictMode,{children:de.jsx(oz,{})}));export{dz as $,EO as A,ft as B,YN as C,_z as D,pz as E,mz as F,vz as G,wz as H,yz as I,gz as J,eM as K,Os as L,rf as M,qO as N,dR as O,aR as P,tv as Q,B as R,M as S,hR as T,cz as U,de as V,lh as W,wv as X,Yu as Y,D3 as Z,Js as _,rv as a,sN as a0,Q_ as a1,on as a2,du as a3,dw as a4,Jy as a5,uz as a6,nf as a7,Wt as a8,VD as a9,Mz as aA,kz as aB,Oz as aC,Nz as aD,Dz as aE,Cx as aF,G_ as aG,H3 as aH,RD as aa,gD as ab,uR as ac,bS as ad,Na as ae,uf as af,Ez as ag,WM as ah,Lt as ai,Sz as aj,hz as ak,mw as al,Vn as am,cf as an,NM as ao,OM as ap,fg as aq,kv as ar,MM as as,Q3 as at,xz as au,Vz as av,Lz as aw,Cz as ax,bz as ay,VR as az,vr as b,Ki as c,xS as d,IN as e,bn as f,fz as g,Da as h,Wi as i,nv as j,cu as k,wN as l,NS as m,jO as n,bi as o,Gu as p,fD as q,E as r,ZN as s,yr as t,Ge as u,ev as v,Ku as w,MO as x,JN as y,GN as z};
