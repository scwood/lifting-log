import{f as R,u as W,b as Ze,R as x,B as X,g as Xe,i as ve,Q as yt,r as u,_ as ue,v as Ce,w as Se,d as Je,a as ye,$ as Ge,S as we,c as wt,a0 as Ct,a1 as St,V as r,W as _,a2 as I,a3 as Ee,X as Qe,Y as Et}from"./index-65e88226.js";import{I as Dt,S as jt,g as It,d as pe,M as De,N as te,R as ie,h as Ot,i as kt,u as et,D as tt,e as Nt,f as Tt}from"./useCreateWorkoutMutation-204ffbad.js";import{C as Pt,B as Z}from"./Button-f2f9cfa6.js";import{W as M,C as ot,T as nt,E as z,b as je,d as At}from"./workoutUtils-474d0123.js";function rt(o){return typeof o=="string"?{value:o,label:o}:"value"in o&&!("label"in o)?{value:o.value,label:o.value,disabled:o.disabled}:typeof o=="number"?{value:o.toString(),label:o.toString()}:"group"in o?{group:o.group,items:o.items.map(t=>rt(t))}:o}function Mt(o){return o?o.map(t=>rt(t)):[]}function st(o){return o.reduce((t,e)=>"group"in e?{...t,...st(e.items)}:(t[e.value]=e,t),{})}var U={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const Wt={error:null},Ut=Xe((o,{size:t})=>({chevron:{"--combobox-chevron-size":ve(t,"combobox-chevron-size")}})),Ie=R((o,t)=>{const e=W("ComboboxChevron",Wt,o),{size:n,error:s,style:a,className:l,classNames:i,styles:p,unstyled:d,vars:c,mod:f,...g}=e,m=Ze({name:"ComboboxChevron",classes:U,props:e,style:a,className:l,classNames:i,styles:p,unstyled:d,vars:c,varsResolver:Ut,rootSelector:"chevron"});return x.createElement(X,{component:"svg",...g,...m("chevron"),size:n,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},f],ref:t},x.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});Ie.classes=U;Ie.displayName="@mantine/core/ComboboxChevron";const[Rt,q]=yt("Combobox component was not found in tree"),at=u.forwardRef(({size:o,onMouseDown:t,onClick:e,onClear:n,...s},a)=>x.createElement(Pt,{ref:a,size:o||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:l=>{l.preventDefault(),t==null||t(l)},onClick:l=>{n(),e==null||e(l)}}));at.displayName="@mantine/core/ComboboxClearButton";const $t={},Oe=R((o,t)=>{const{classNames:e,styles:n,className:s,style:a,hidden:l,...i}=W("ComboboxDropdown",$t,o),p=q();return x.createElement(ue.Dropdown,{...i,ref:t,role:"presentation","data-hidden":l||void 0,...p.getStyles("dropdown",{className:s,style:a,classNames:e,styles:n})})});Oe.classes=U;Oe.displayName="@mantine/core/ComboboxDropdown";const Ft={refProp:"ref"},lt=R((o,t)=>{const{children:e,refProp:n}=W("ComboboxDropdownTarget",Ft,o);if(q(),!Ce(e))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return x.createElement(ue.Target,{ref:t,refProp:n},e)});lt.displayName="@mantine/core/ComboboxDropdownTarget";const Lt={},ke=R((o,t)=>{const{classNames:e,className:n,style:s,styles:a,vars:l,...i}=W("ComboboxEmpty",Lt,o),p=q();return x.createElement(X,{ref:t,...p.getStyles("empty",{className:n,classNames:e,styles:a,style:s}),...i})});ke.classes=U;ke.displayName="@mantine/core/ComboboxEmpty";function Ne({onKeyDown:o,withKeyboardNavigation:t,withAriaAttributes:e,withExpandedAttribute:n,targetType:s}){const a=q(),[l,i]=u.useState(null),p=c=>{if(o==null||o(c),!a.readOnly&&t){if(c.nativeEvent.code==="ArrowDown"&&(c.preventDefault(),a.store.dropdownOpened?i(a.store.selectNextOption()):(a.store.openDropdown("keyboard"),i(a.store.selectActiveOption()))),c.nativeEvent.code==="ArrowUp"&&(c.preventDefault(),a.store.dropdownOpened?i(a.store.selectPreviousOption()):(a.store.openDropdown("keyboard"),i(a.store.selectActiveOption()))),c.nativeEvent.code==="Enter"||c.nativeEvent.code==="NumpadEnter"){const f=a.store.getSelectedOptionIndex();a.store.dropdownOpened&&f!==-1?(c.preventDefault(),a.store.clickSelectedOption()):s==="button"&&(c.preventDefault(),a.store.openDropdown("keyboard"))}c.nativeEvent.code==="Escape"&&a.store.closeDropdown("keyboard"),c.nativeEvent.code==="Space"&&s==="button"&&(c.preventDefault(),a.store.toggleDropdown("keyboard"))}};return{...e?{"aria-haspopup":"listbox","aria-expanded":n&&!!(a.store.listId&&a.store.dropdownOpened)||void 0,"aria-controls":a.store.listId,"aria-activedescendant":a.store.dropdownOpened&&l||void 0,autoComplete:"off","data-expanded":a.store.dropdownOpened?!0:void 0}:{},onKeyDown:p}}const Vt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},it=R((o,t)=>{const{children:e,refProp:n,withKeyboardNavigation:s,withAriaAttributes:a,withExpandedAttribute:l,targetType:i,...p}=W("ComboboxEventsTarget",Vt,o);if(!Ce(e))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=q(),c=Ne({targetType:i,withAriaAttributes:a,withKeyboardNavigation:s,withExpandedAttribute:l,onKeyDown:e.props.onKeyDown});return u.cloneElement(e,{...c,...p,[n]:Se(t,d.store.targetRef,e==null?void 0:e.ref)})});it.displayName="@mantine/core/ComboboxEventsTarget";const _t={},Te=R((o,t)=>{const{classNames:e,className:n,style:s,styles:a,vars:l,...i}=W("ComboboxFooter",_t,o),p=q();return x.createElement(X,{ref:t,...p.getStyles("footer",{className:n,classNames:e,style:s,styles:a}),...i})});Te.classes=U;Te.displayName="@mantine/core/ComboboxFooter";const qt={},Pe=R((o,t)=>{const{classNames:e,className:n,style:s,styles:a,vars:l,children:i,label:p,...d}=W("ComboboxGroup",qt,o),c=q();return x.createElement(X,{ref:t,...c.getStyles("group",{className:n,classNames:e,style:s,styles:a}),...d},p&&x.createElement("div",{...c.getStyles("groupLabel",{classNames:e,styles:a})},p),i)});Pe.classes=U;Pe.displayName="@mantine/core/ComboboxGroup";const Bt={},Ae=R((o,t)=>{const{classNames:e,className:n,style:s,styles:a,vars:l,...i}=W("ComboboxHeader",Bt,o),p=q();return x.createElement(X,{ref:t,...p.getStyles("header",{className:n,classNames:e,style:s,styles:a}),...i})});Ae.classes=U;Ae.displayName="@mantine/core/ComboboxHeader";const zt={},Me=R((o,t)=>{const e=W("ComboboxOption",zt,o),{classNames:n,className:s,style:a,styles:l,vars:i,onClick:p,id:d,active:c,onMouseDown:f,onMouseOver:g,disabled:m,selected:j,mod:N,...y}=e,b=q(),v=u.useId(),D=d||v;return x.createElement(X,{...b.getStyles("option",{className:s,classNames:n,styles:l,style:a}),...y,ref:t,id:D,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":m,"combobox-selected":j},N],role:"option",onClick:h=>{var S;m?h.preventDefault():((S=b.onOptionSubmit)==null||S.call(b,e.value,e),p==null||p(h))},onMouseDown:h=>{h.preventDefault(),f==null||f(h)},onMouseOver:h=>{b.resetSelectionOnOptionHover&&b.store.resetSelectedOption(),g==null||g(h)}})});Me.classes=U;Me.displayName="@mantine/core/ComboboxOption";const Ht={},We=R((o,t)=>{const e=W("ComboboxOptions",Ht,o),{classNames:n,className:s,style:a,styles:l,id:i,onMouseDown:p,labelledBy:d,...c}=e,f=q(),g=Je(i);return u.useEffect(()=>{f.store.setListId(g)},[g]),x.createElement(X,{ref:t,...f.getStyles("options",{className:s,style:a,classNames:n,styles:l}),...c,id:g,role:"listbox","aria-labelledby":d,onMouseDown:m=>{m.preventDefault(),p==null||p(m)}})});We.classes=U;We.displayName="@mantine/core/ComboboxOptions";const Kt={withAriaAttributes:!0,withKeyboardNavigation:!0},Ue=R((o,t)=>{const e=W("ComboboxSearch",Kt,o),{classNames:n,styles:s,unstyled:a,vars:l,withAriaAttributes:i,onKeyDown:p,withKeyboardNavigation:d,size:c,...f}=e,g=q(),m=g.getStyles("search"),j=Ne({targetType:"input",withAriaAttributes:i,withKeyboardNavigation:d,withExpandedAttribute:!1,onKeyDown:p});return x.createElement(Dt,{ref:Se(t,g.store.searchRef),classNames:[{input:m.className},n],styles:[{input:m.style},s],size:c||g.size,...j,...f,__staticSelector:"Combobox"})});Ue.classes=U;Ue.displayName="@mantine/core/ComboboxSearch";const Gt={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},ct=R((o,t)=>{const{children:e,refProp:n,withKeyboardNavigation:s,withAriaAttributes:a,withExpandedAttribute:l,targetType:i,...p}=W("ComboboxTarget",Gt,o);if(!Ce(e))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=q(),c=Ne({targetType:i,withAriaAttributes:a,withKeyboardNavigation:s,withExpandedAttribute:l,onKeyDown:e.props.onKeyDown}),f=u.cloneElement(e,{...c,...p});return x.createElement(ue.Target,{ref:Se(t,d.store.targetRef)},f)});ct.displayName="@mantine/core/ComboboxTarget";function Qt(o,t,e){for(let n=o-1;n>=0;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(e){for(let n=t.length-1;n>-1;n-=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return o}function Yt(o,t,e){for(let n=o+1;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n;if(e){for(let n=0;n<t.length;n+=1)if(!t[n].hasAttribute("data-combobox-disabled"))return n}return o}function Zt(o){for(let t=0;t<o.length;t+=1)if(!o[t].hasAttribute("data-combobox-disabled"))return t;return-1}function dt({defaultOpened:o,opened:t,onOpenedChange:e,onDropdownClose:n,onDropdownOpen:s,loop:a=!0,scrollBehavior:l="instant"}={}){const[i,p]=ye({value:t,defaultValue:o,finalValue:!1,onChange:e}),d=u.useRef(null),c=u.useRef(-1),f=u.useRef(null),g=u.useRef(null),m=u.useRef(-1),j=u.useRef(-1),N=u.useRef(-1),y=u.useCallback((w="unknown")=>{i||(p(!0),s==null||s(w))},[p,s,i]),b=u.useCallback((w="unknown")=>{i&&(p(!1),n==null||n(w))},[p,n,i]),v=u.useCallback((w="unknown")=>{i?b(w):y(w)},[b,y,i]),D=u.useCallback(()=>{const w=document.querySelector(`#${d.current} [data-combobox-selected]`);w==null||w.removeAttribute("data-combobox-selected"),w==null||w.removeAttribute("aria-selected")},[]),h=u.useCallback(w=>{const A=document.getElementById(d.current),k=A==null?void 0:A.querySelectorAll("[data-combobox-option]");if(!k)return null;const C=w>=k.length?0:w<0?k.length-1:w;return c.current=C,k!=null&&k[C]&&!k[C].hasAttribute("data-combobox-disabled")?(D(),k[C].setAttribute("data-combobox-selected","true"),k[C].setAttribute("aria-selected","true"),k[C].scrollIntoView({block:"nearest",behavior:l}),k[C].id):null},[l,D]),S=u.useCallback(()=>{const w=document.querySelector(`#${d.current} [data-combobox-active]`);if(w){const A=document.querySelectorAll(`#${d.current} [data-combobox-option]`),k=Array.from(A).findIndex(C=>C===w);return h(k)}return h(0)},[h]),O=u.useCallback(()=>h(Yt(c.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),a)),[h,a]),Y=u.useCallback(()=>h(Qt(c.current,document.querySelectorAll(`#${d.current} [data-combobox-option]`),a)),[h,a]),oe=u.useCallback(()=>h(Zt(document.querySelectorAll(`#${d.current} [data-combobox-option]`))),[h]),P=u.useCallback((w="selected")=>{N.current=window.setTimeout(()=>{const A=document.querySelectorAll(`#${d.current} [data-combobox-option]`),k=Array.from(A).findIndex(C=>C.hasAttribute(`data-combobox-${w}`));c.current=k},0)},[]),ne=u.useCallback(()=>{c.current=-1,D()},[D]),G=u.useCallback(()=>{const w=document.querySelectorAll(`#${d.current} [data-combobox-option]`),A=w==null?void 0:w[c.current];A==null||A.click()},[]),$=u.useCallback(w=>{d.current=w},[]),re=u.useCallback(()=>{m.current=window.setTimeout(()=>f.current.focus(),0)},[]),se=u.useCallback(()=>{j.current=window.setTimeout(()=>g.current.focus(),0)},[]),J=u.useCallback(()=>c.current,[]);return u.useEffect(()=>()=>{window.clearTimeout(m.current),window.clearTimeout(j.current),window.clearTimeout(N.current)},[]),{dropdownOpened:i,openDropdown:y,closeDropdown:b,toggleDropdown:v,selectedOptionIndex:c.current,getSelectedOptionIndex:J,selectOption:h,selectFirstOption:oe,selectActiveOption:S,selectNextOption:O,selectPreviousOption:Y,resetSelectedOption:ne,updateSelectedOptionIndex:P,listId:d.current,setListId:$,clickSelectedOption:G,searchRef:f,focusSearchInput:re,targetRef:g,focusTarget:se}}const Xt={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},Jt=Xe((o,{size:t,dropdownPadding:e})=>({options:{"--combobox-option-fz":Ge(t),"--combobox-option-padding":ve(t,"combobox-option-padding")},dropdown:{"--combobox-padding":e===void 0?void 0:we(e),"--combobox-option-fz":Ge(t),"--combobox-option-padding":ve(t,"combobox-option-padding")}}));function E(o){const t=W("Combobox",Xt,o),{classNames:e,styles:n,unstyled:s,children:a,store:l,vars:i,onOptionSubmit:p,onClose:d,size:c,dropdownPadding:f,resetSelectionOnOptionHover:g,__staticSelector:m,readOnly:j,...N}=t,y=dt(),b=l||y,v=Ze({name:m||"Combobox",classes:U,props:t,classNames:e,styles:n,unstyled:s,vars:i,varsResolver:Jt}),D=()=>{d==null||d(),b.closeDropdown()};return x.createElement(Rt,{value:{getStyles:v,store:b,onOptionSubmit:p,size:c,resetSelectionOnOptionHover:g,readOnly:j}},x.createElement(ue,{opened:b.dropdownOpened,...N,onClose:D,withRoles:!1,unstyled:s},a))}const eo=o=>o;E.extend=eo;E.classes=U;E.displayName="@mantine/core/Combobox";E.Target=ct;E.Dropdown=Oe;E.Options=We;E.Option=Me;E.Search=Ue;E.Empty=ke;E.Chevron=Ie;E.Footer=Te;E.Header=Ae;E.EventsTarget=it;E.DropdownTarget=lt;E.Group=Pe;E.ClearButton=at;function le(o){return"group"in o}function ut({options:o,search:t,limit:e}){const n=t.trim().toLowerCase(),s=[];for(let a=0;a<o.length;a+=1){const l=o[a];if(s.length===e)return s;le(l)&&s.push({group:l.group,items:ut({options:l.items,search:t,limit:e-s.length})}),le(l)||l.label.toLowerCase().includes(n)&&s.push(l)}return s}function to(o){if(o.length===0)return!0;for(const t of o)if(!("group"in t)||t.items.length>0)return!1;return!0}function pt(o,t=new Set){if(Array.isArray(o))for(const e of o)if(le(e))pt(e.items,t);else{if(typeof e.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof e.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof e.value}`);if(t.has(e.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${e.value}" was provided more than once`);t.add(e.value)}}function ge(o,t){return Array.isArray(o)?o.includes(t):o===t}function mt({data:o,withCheckIcon:t,value:e,checkIconPosition:n,unstyled:s}){if(!le(o)){const l=t&&ge(e,o.value)&&x.createElement(It,{className:U.optionsDropdownCheckIcon});return x.createElement(E.Option,{value:o.value,disabled:o.disabled,className:wt({[U.optionsDropdownOption]:!s}),"data-reverse":n==="right"||void 0,"data-checked":ge(e,o.value)||void 0,"aria-selected":ge(e,o.value)},n==="left"&&l,x.createElement("span",null,o.label),n==="right"&&l)}const a=o.items.map(l=>x.createElement(mt,{data:l,value:e,key:l.value,unstyled:s,withCheckIcon:t,checkIconPosition:n}));return x.createElement(E.Group,{label:o.group},a)}function oo({data:o,hidden:t,hiddenWhenEmpty:e,filter:n,search:s,limit:a,maxDropdownHeight:l,withScrollArea:i=!0,filterOptions:p=!0,withCheckIcon:d=!1,value:c,checkIconPosition:f,nothingFoundMessage:g,unstyled:m,labelId:j}){pt(o);const y=typeof s=="string"?(n||ut)({options:o,search:p?s:"",limit:a??1/0}):o,b=to(y),v=y.map(D=>x.createElement(mt,{data:D,key:le(D)?D.group:D.value,withCheckIcon:d,value:c,checkIconPosition:f,unstyled:m}));return x.createElement(E.Dropdown,{hidden:t||e&&b},x.createElement(E.Options,{labelledBy:j},i?x.createElement(jt.Autosize,{mah:l??220,type:"scroll",scrollbarSize:"var(--_combobox-padding)",offsetScrollbars:"y"},v):v,b&&g&&x.createElement(E.Empty,null,g)))}const no={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Re=R((o,t)=>{const e=W("Select",no,o),{classNames:n,styles:s,unstyled:a,vars:l,dropdownOpened:i,defaultDropdownOpened:p,onDropdownClose:d,onDropdownOpen:c,onFocus:f,onBlur:g,onClick:m,onChange:j,data:N,value:y,defaultValue:b,selectFirstOptionOnChange:v,onOptionSubmit:D,comboboxProps:h,readOnly:S,disabled:O,filter:Y,limit:oe,withScrollArea:P,maxDropdownHeight:ne,size:G,searchable:$,rightSection:re,checkIconPosition:se,withCheckIcon:J,nothingFoundMessage:w,name:A,form:k,searchValue:C,defaultSearchValue:F,onSearchChange:L,allowDeselect:be,error:Ve,rightSectionPointerEvents:bt,id:ht,clearable:ft,clearButtonProps:gt,hiddenInputProps:xt,...vt}=e,he=u.useMemo(()=>Mt(N),[N]),ae=u.useMemo(()=>st(he),[he]),_e=Je(ht),[H,qe]=ye({value:y,defaultValue:b,finalValue:null,onChange:j}),Q=typeof H=="string"?ae[H]:void 0,[fe,ee]=ye({value:C,defaultValue:F,finalValue:Q?Q.label:"",onChange:L}),B=dt({opened:i,defaultOpened:p,onDropdownOpen:c,onDropdownClose:()=>{d==null||d(),B.resetSelectedOption()}}),{resolvedClassNames:Be,resolvedStyles:ze}=Ct({props:e,styles:s,classNames:n});u.useEffect(()=>{v&&B.selectFirstOption()},[v,H]),u.useEffect(()=>{y===null&&ee(""),typeof y=="string"&&Q&&ee(Q.label)},[y,Q]);const He=ft&&!!H&&!O&&!S&&x.createElement(E.ClearButton,{size:G,...gt,onClear:()=>{qe(null,null),ee("")}});return x.createElement(x.Fragment,null,x.createElement(E,{store:B,__staticSelector:"Select",classNames:Be,styles:ze,unstyled:a,readOnly:S,onOptionSubmit:V=>{D==null||D(V);const K=be&&ae[V].value===H?null:ae[V],Ke=K?K.value:null;qe(Ke,K),ee(typeof Ke=="string"&&(K==null?void 0:K.label)||""),B.closeDropdown()},size:G,...h},x.createElement(E.Target,{targetType:$?"input":"button"},x.createElement(pe,{id:_e,ref:t,rightSection:re||He||x.createElement(E.Chevron,{size:G,error:Ve,unstyled:a}),rightSectionPointerEvents:bt||(He?"all":"none"),...vt,size:G,__staticSelector:"Select",disabled:O,readOnly:S||!$,value:fe,onChange:V=>{ee(V.currentTarget.value),B.openDropdown(),v&&B.selectFirstOption()},onFocus:V=>{$&&B.openDropdown(),f==null||f(V)},onBlur:V=>{var K;$&&B.closeDropdown(),ee(H!=null&&((K=ae[H])==null?void 0:K.label)||""),g==null||g(V)},onClick:V=>{$?B.openDropdown():B.toggleDropdown(),m==null||m(V)},classNames:Be,styles:ze,unstyled:a,pointer:!$,error:Ve})),x.createElement(oo,{data:he,hidden:S||O,filter:Y,search:fe,limit:oe,hiddenWhenEmpty:!$||!w,withScrollArea:P,maxDropdownHeight:ne,filterOptions:$&&(Q==null?void 0:Q.label)!==fe,value:H,checkIconPosition:se,withCheckIcon:J,nothingFoundMessage:w,unstyled:a,labelId:`${_e}-label`})),x.createElement("input",{type:"hidden",name:A,value:H||"",form:k,disabled:O,...xt}))});Re.classes={...pe.classes,...E.classes};Re.displayName="@mantine/core/Select";const ro={},me=R((o,t)=>{const e=W("TextInput",ro,o);return x.createElement(pe,{component:"input",ref:t,...e,__staticSelector:"TextInput"})});me.classes=pe.classes;me.displayName="@mantine/core/TextInput";var $e=St("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),T=[];for(var xe=0;xe<256;++xe)T.push((xe+256).toString(16).slice(1));function so(o,t=0){return(T[o[t+0]]+T[o[t+1]]+T[o[t+2]]+T[o[t+3]]+"-"+T[o[t+4]]+T[o[t+5]]+"-"+T[o[t+6]]+T[o[t+7]]+"-"+T[o[t+8]]+T[o[t+9]]+"-"+T[o[t+10]]+T[o[t+11]]+T[o[t+12]]+T[o[t+13]]+T[o[t+14]]+T[o[t+15]]).toLowerCase()}var ce,ao=new Uint8Array(16);function lo(){if(!ce&&(ce=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ce))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ce(ao)}var io=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Ye={randomUUID:io};function Fe(o,t,e){if(Ye.randomUUID&&!t&&!o)return Ye.randomUUID();o=o||{};var n=o.random||(o.rng||lo)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var s=0;s<16;++s)t[e+s]=n[s];return t}return so(n)}function co(o){const{opened:t,day:e,onClose:n,onSave:s}=o,[a,l]=u.useState((e==null?void 0:e.name)??""),[i,p]=u.useState(t);i!==t&&(l((e==null?void 0:e.name)??""),p(t));const d=a.trim().length>0;return r.jsxs(De,{opened:t,onClose:n,title:`${e?"Edit":"Create"} day`,centered:!0,children:[r.jsx(me,{required:!0,label:"Label",placeholder:"Monday",description:"Label for the day. For example: A, B, Monday, Tuesday, etc.",value:a,onChange:f=>l(f.target.value)}),r.jsx(_,{justify:"flex-end",mt:"lg",children:r.jsx(Z,{color:"green",onClick:c,disabled:!d,children:"Save"})})]});function c(){s(a),n()}}const de={[M.Weight]:"Fixed weight",[M.Percentage]:"Percentage of working weight"};function uo(o){const{opened:t,warmUpSet:e,onClose:n,onSave:s}=o,[a,l]=u.useState((e==null?void 0:e.reps)??""),[i,p]=u.useState((e==null?void 0:e.value)??""),[d,c]=u.useState((e==null?void 0:e.type)??M.Percentage),[f,g]=u.useState(t);f!==t&&(g(t),j());const m={reps:parseInt(String(a)),value:parseInt(String(i))};return r.jsxs(De,{opened:t,onClose:n,centered:!0,title:`${e?"Edit":"Create"} warm-up set`,children:[r.jsxs(_,{direction:"column",gap:"sm",children:[r.jsx(Re,{value:de[d],allowDeselect:!1,onChange:b,label:"Type",required:!0,description:"Warm-up sets can be a fixed weight (e.g. 45 lbs) or a percentage of the working weight (e.g. 60%).",data:[de[M.Percentage],de[M.Weight]]}),r.jsx(te,{allowDecimal:!1,allowNegative:!1,label:"Reps",description:"Number of reps for the set",placeholder:d===M.Percentage?"5":"10",required:!0,value:a,onChange:l}),r.jsx(te,{allowDecimal:!1,allowNegative:!1,required:!0,max:d===M.Percentage?100:void 0,placeholder:d===M.Percentage?"60":"45",description:d===M.Percentage?"Percentage of working weight (1-100)":"Weight in pounds",label:d===M.Percentage?"Percentage":"Weight",value:i,onChange:p})]}),r.jsx(_,{justify:"flex-end",mt:"lg",children:r.jsx(Z,{color:"green",onClick:y,disabled:!N(),children:"Save"})})]});function j(){l((e==null?void 0:e.reps)??""),p((e==null?void 0:e.value)??""),c((e==null?void 0:e.type)??M.Percentage)}function N(){return m.reps>0&&m.value>=0}function y(){n(),s(e?{...e,type:d,reps:m.reps,value:m.value}:{id:Fe(),type:d,reps:m.reps,value:m.value})}function b(v){v===de[M.Weight]?c(M.Weight):c(M.Percentage)}}function po(o){const{warmUpSet:t,moveUpDisabled:e,moveDownDisabled:n,onEdit:s,onDelete:a,onMoveUp:l,onMoveDown:i}=o;return r.jsx(ot,{children:r.jsxs(_,{justify:"space-between",align:"center",children:[r.jsxs(nt,{size:"sm",children:[t.reps," rep",t.reps!==1&&"s"," for"," ",t.value,t.type===M.Weight?"lbs":"% of working weight"]}),r.jsxs(I,{children:[r.jsx(I.Target,{children:r.jsx(Ee,{variant:"subtle",color:"gray",children:r.jsx($e,{style:{width:we(16),height:we(16)}})})}),r.jsxs(I.Dropdown,{children:[r.jsx(I.Item,{disabled:e,onClick:()=>l(t),children:"Move up"}),r.jsx(I.Item,{disabled:n,onClick:()=>i(t),children:"Move down"}),r.jsx(I.Item,{onClick:()=>s(t),children:"Edit"}),r.jsx(I.Item,{color:"red",onClick:()=>a(t),children:"Delete"})]})]})]})})}function mo(o,t,e){const n=[...o],s=n[t];return n[t]=n[e],n[e]=s,n}function Le(o,t,e){const n=o.findIndex(t),s=e==="up"?0:o.length-1;if(n===-1||n===s)return o;const a=e==="up"?n-1:n+1;return mo(o,n,a)}function bo(o){const{opened:t,exercise:e,onClose:n,onSave:s}=o,[a,l]=u.useState((e==null?void 0:e.name)??""),[i,p]=u.useState((e==null?void 0:e.weight)??""),[d,c]=u.useState((e==null?void 0:e.sets)??""),[f,g]=u.useState((e==null?void 0:e.reps)??""),[m,j]=u.useState((e==null?void 0:e.type)??z.DoublePlate),[N,y]=u.useState((e==null?void 0:e.minimumWeightIncrement)??""),[b,v]=u.useState((e==null?void 0:e.warmUpSets)??[]),[D,h]=u.useState(!1),[S,O]=u.useState(null),[Y,oe]=u.useState(t);Y!==t&&(oe(t),G());const P={weight:parseFloat(String(i)),sets:parseInt(String(d)),reps:parseInt(String(f)),minimumWeightIncrement:parseFloat(String(N))};return r.jsxs(r.Fragment,{children:[r.jsxs(De,{centered:!0,opened:t,onClose:n,title:`${e?"Edit":"Create"} exercise`,children:[r.jsxs(_,{direction:"column",gap:"sm",children:[r.jsx(me,{required:!0,label:"Name",description:"Name of the exercise",placeholder:"Bench press",value:a,onChange:C=>l(C.target.value)}),r.jsx(te,{required:!0,label:"Weight",description:"Your current working weight for the exercise in pounds",value:i,placeholder:"150",allowNegative:!1,allowDecimal:!0,onChange:p}),r.jsx(te,{required:!0,label:"Sets",placeholder:"3",description:"Number of working sets you aim to complete currently",value:d,allowNegative:!1,allowDecimal:!1,onChange:c}),r.jsx(te,{required:!0,label:"Reps",placeholder:"5",description:"Number of reps you aim to complete per working set currently",allowNegative:!1,allowDecimal:!1,value:f,onChange:g}),r.jsx(ie.Group,{value:m,onChange:C=>j(C),required:!0,name:"exerciseType",label:"Exercise type",description:"This field tells the app how to calculate warm-up sets. If your exercise uses plates, the app will tell you which plates to load.",children:r.jsxs(_,{direction:"column",gap:"xs",mt:"xs",children:[r.jsx(ie,{value:z.DoublePlate,label:"Two sets of plates",description:"Use this for barbell exercises or machines that are weighted with plates on two sides (leg press, etc.)."}),r.jsx(ie,{value:z.SinglePlate,label:"One set of plates",description:"Use this for exercises that are weighted with a single set of plates (weighted pull-ups, dips, etc.)"}),r.jsx(ie,{value:z.Other,description:"Use this for exercises that are not weighted with plates (dumbbell, cable machines, bodyweight etc.)",label:"Other"})]})}),m===z.Other&&r.jsx(te,{required:!0,allowDecimal:!0,allowNegative:!1,value:N,onChange:y,placeholder:"5",label:"Minimum weight increment",description:"The smallest weight increment for the exercise (might be 5 for a dumbbell exercise, 2.5 for a certain machine, etc.)"}),r.jsxs("div",{children:[r.jsx(Ot,{children:"Warm-up sets"}),r.jsx(kt,{children:"Optional warm-up sets for the exercise."})]}),b.map((C,F)=>r.jsx(po,{warmUpSet:C,moveUpDisabled:F===0,moveDownDisabled:F===b.length-1,onMoveUp:L=>J(L,"up"),onMoveDown:L=>J(L,"down"),onEdit:re,onDelete:se},C.id)),r.jsx(Z,{onClick:$,children:"Add warm-up set"})]}),r.jsx(_,{justify:"flex-end",mt:"lg",children:r.jsx(Z,{color:"green",disabled:!ne(),onClick:A,children:"Save"})})]}),r.jsx(uo,{warmUpSet:S??void 0,opened:D,onClose:()=>h(!1),onSave:w})]});function ne(){return a.trim().length>0&&P.weight>=0&&P.sets>0&&P.reps>0&&(m!==z.Other||m===z.Other&&P.minimumWeightIncrement>=0)}function G(){l((e==null?void 0:e.name)??""),p((e==null?void 0:e.weight)??""),c((e==null?void 0:e.sets)??""),g((e==null?void 0:e.reps)??""),j((e==null?void 0:e.type)??z.DoublePlate),y((e==null?void 0:e.minimumWeightIncrement)??""),v((e==null?void 0:e.warmUpSets)??[])}function $(){O(null),h(!0)}function re(C){O(C),h(!0)}function se(C){v(F=>F.filter(L=>L.id!==C.id))}function J(C,F){v(L=>Le(L,be=>be.id===C.id,F))}function w(C){v(S?F=>F.map(L=>L.id===S.id?C:L):F=>[...F,C])}function A(){n(),s(e?{...e,name:a,weight:P.weight,sets:P.sets,reps:P.reps,type:m,minimumWeightIncrement:k(),warmUpSets:b}:{id:Fe(),name:a,weight:P.weight,sets:P.sets,reps:P.reps,type:m,minimumWeightIncrement:k(),warmUpSets:b,workingSets:{},nextSession:{}})}function k(){return m===z.DoublePlate?5:m===z.SinglePlate?2.5:P.minimumWeightIncrement}}function ho(o){const{exercise:t,moveDownDisabled:e,moveUpDisabled:n,onEdit:s,onDelete:a,onMoveDown:l,onMoveUp:i}=o;return r.jsxs(ot,{withBorder:!0,children:[r.jsxs(_,{justify:"space-between",align:"center",children:[r.jsx(je,{order:4,children:t.name}),r.jsxs(I,{children:[r.jsx(I.Target,{children:r.jsx(Ee,{variant:"subtle",color:"gray",children:r.jsx($e,{})})}),r.jsxs(I.Dropdown,{children:[r.jsx(I.Item,{disabled:n,onClick:()=>i(t),children:"Move up"}),r.jsx(I.Item,{disabled:e,onClick:()=>l(t),children:"Move down"}),r.jsx(I.Item,{onClick:()=>s(t),children:"Edit"}),r.jsx(I.Item,{color:"red",onClick:()=>a(t),children:"Delete"})]})]})]}),r.jsxs(nt,{c:"dimmed",size:"sm",children:[At(t)," with ",t.warmUpSets.length," warm-up sets."]})]})}function fo(o){const{day:t,workout:e,moveDownDisabled:n,moveUpDisabled:s,onEdit:a,onDelete:l,onMoveDown:i,onMoveUp:p}=o,[d,c]=u.useState(!1),[f,g]=u.useState(null),{mutate:m}=et();return r.jsxs("div",{children:[r.jsx(je,{order:3,children:r.jsxs(_,{justify:"space-between",align:"center",children:[r.jsxs("span",{children:["Day: ",t.name]}),r.jsxs(I,{children:[r.jsx(I.Target,{children:r.jsx(Ee,{variant:"subtle",color:"gray",children:r.jsx($e,{})})}),r.jsxs(I.Dropdown,{children:[r.jsx(I.Item,{disabled:s,onClick:()=>p(t),children:"Move up"}),r.jsx(I.Item,{disabled:n,onClick:()=>i(t),children:"Move down"}),r.jsx(I.Item,{onClick:()=>a(t),children:"Edit"}),r.jsx(I.Item,{color:"red",onClick:()=>l(t),children:"Delete"})]})]})]})}),r.jsx(tt,{mt:4,mb:"md"}),r.jsxs(_,{direction:"column",gap:"md",children:[t.exercises.map((h,S)=>r.jsx(ho,{exercise:h,moveUpDisabled:S===0,moveDownDisabled:S===t.exercises.length-1,onEdit:j,onDelete:b,onMoveUp:O=>v(O,"up"),onMoveDown:O=>{v(O,"down")}},h.id)),r.jsx(Z,{onClick:N,children:"Add exercise"})]}),r.jsx(bo,{exercise:f??void 0,onSave:y,opened:d,onClose:()=>c(!1)})]});function j(h){g(h),c(!0)}function N(){g(null),c(!0)}async function y(h){let S;f?S=t.exercises.map(O=>O.id===f.id?h:O):S=[...t.exercises,h],await D(S)}async function b(h){const S=t.exercises.filter(O=>O.id!==h.id);await D(S)}async function v(h,S){const O=Le(t.exercises,Y=>Y.id===h.id,S);await D(O)}async function D(h){await m({workoutId:e.id,updates:{days:e.days.map(S=>S.id===t.id?{...S,exercises:h}:S)}})}}function wo(){const[o,t]=u.useState(!1),[e,n]=u.useState(null),{data:s,isLoading:a,isError:l}=Nt(),{mutate:i}=et(),{mutate:p,isPending:d}=Tt();if(a)return r.jsx(Qe,{children:r.jsx(Et,{})});if(l)return r.jsx(Qe,{children:"Failed to load workout plan"});if(!s)return r.jsxs(_,{direction:"column",align:"center",gap:"sm",children:[r.jsx("div",{children:"Press the button below to create a workout plan"}),r.jsx(Z,{color:"green",loading:d,onClick:()=>p({}),children:"Create workout plan"})]});return r.jsxs(r.Fragment,{children:[r.jsx(je,{mb:"sm",order:3,children:"Workout plan"}),r.jsxs(_,{direction:"column",gap:"lg",children:[s.days.map((y,b)=>r.jsx(fo,{day:y,workout:s,moveUpDisabled:b===0,moveDownDisabled:b===s.days.length-1,onEdit:j,onDelete:f,onMoveUp:v=>g(v,"up"),onMoveDown:v=>g(v,"down")},y.id)),r.jsx(tt,{}),r.jsx(Z,{onClick:N,children:"Add day"})]}),r.jsx(co,{opened:o,day:e??void 0,onClose:m,onSave:c})]});async function c(y){if(!s)return;let b;e?b=s.days.map(v=>v.id===e.id?{...v,name:y}:v):b=[...s.days,{id:Fe(),name:y,exercises:[]}],await i({workoutId:s.id,updates:{days:b}})}async function f(y){if(!s)return;const b=s.days.filter(v=>v.id!==y.id);await i({workoutId:s.id,updates:{days:b}})}async function g(y,b){if(!s)return;const v=Le(s.days,D=>D.id===y.id,b);await i({workoutId:s.id,updates:{days:v}})}function m(){t(!1)}function j(y){n(y),t(!0)}function N(){n(null),t(!0)}}export{wo as default};
