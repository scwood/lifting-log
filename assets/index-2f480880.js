var Em=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var P=(t,e,n)=>(Em(t,e,"read from private field"),n?n.call(t):e.get(t)),ie=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},J=(t,e,n,r)=>(Em(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var _d=(t,e,n,r)=>({set _(i){J(t,e,i,n)},get _(){return P(t,e,r)}}),_e=(t,e,n)=>(Em(t,e,"access private method"),n);function $N(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function wb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _b={exports:{}},Uh={},Eb={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),FN=Symbol.for("react.portal"),UN=Symbol.for("react.fragment"),jN=Symbol.for("react.strict_mode"),BN=Symbol.for("react.profiler"),zN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),HN=Symbol.for("react.forward_ref"),qN=Symbol.for("react.suspense"),KN=Symbol.for("react.memo"),GN=Symbol.for("react.lazy"),cE=Symbol.iterator;function QN(t){return t===null||typeof t!="object"?null:(t=cE&&t[cE]||t["@@iterator"],typeof t=="function"?t:null)}var Sb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tb=Object.assign,bb={};function ml(t,e,n){this.props=t,this.context=e,this.refs=bb,this.updater=n||Sb}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ib(){}Ib.prototype=ml.prototype;function Nv(t,e,n){this.props=t,this.context=e,this.refs=bb,this.updater=n||Sb}var Dv=Nv.prototype=new Ib;Dv.constructor=Nv;Tb(Dv,ml.prototype);Dv.isPureReactComponent=!0;var dE=Array.isArray,Cb=Object.prototype.hasOwnProperty,Ov={current:null},Rb={key:!0,ref:!0,__self:!0,__source:!0};function Pb(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Cb.call(e,r)&&!Rb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ac,type:t,key:o,ref:s,props:i,_owner:Ov.current}}function YN(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function XN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fE=/\/+/g;function Sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XN(""+t.key):e.toString(36)}function nf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ac:case FN:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Sm(s,0):r,dE(i)?(n="",t!=null&&(n=t.replace(fE,"$&/")+"/"),nf(i,e,n,"",function(u){return u})):i!=null&&(Mv(i)&&(i=YN(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(fE,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",dE(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Sm(o,a);s+=nf(o,e,n,l,i)}else if(l=QN(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Sm(o,a++),s+=nf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ed(t,e,n){if(t==null)return t;var r=[],i=0;return nf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function JN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},rf={transition:null},ZN={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:rf,ReactCurrentOwner:Ov};Pe.Children={map:Ed,forEach:function(t,e,n){Ed(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ed(t,function(){e++}),e},toArray:function(t){return Ed(t,function(e){return e})||[]},only:function(t){if(!Mv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=ml;Pe.Fragment=UN;Pe.Profiler=BN;Pe.PureComponent=Nv;Pe.StrictMode=jN;Pe.Suspense=qN;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZN;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tb({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ov.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cb.call(e,l)&&!Rb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ac,type:t.type,key:i,ref:o,props:r,_owner:s}};Pe.createContext=function(t){return t={$$typeof:WN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zN,_context:t},t.Consumer=t};Pe.createElement=Pb;Pe.createFactory=function(t){var e=Pb.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:HN,render:t}};Pe.isValidElement=Mv;Pe.lazy=function(t){return{$$typeof:GN,_payload:{_status:-1,_result:t},_init:JN}};Pe.memo=function(t,e){return{$$typeof:KN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=rf.transition;rf.transition={};try{t()}finally{rf.transition=e}};Pe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Pe.useCallback=function(t,e){return En.current.useCallback(t,e)};Pe.useContext=function(t){return En.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return En.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return En.current.useEffect(t,e)};Pe.useId=function(){return En.current.useId()};Pe.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return En.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};Pe.useRef=function(t){return En.current.useRef(t)};Pe.useState=function(t){return En.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return En.current.useTransition()};Pe.version="18.2.0";Eb.exports=Pe;var w=Eb.exports;const S=wb(w),Lv=$N({__proto__:null,default:S},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eD=w,tD=Symbol.for("react.element"),nD=Symbol.for("react.fragment"),rD=Object.prototype.hasOwnProperty,iD=eD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oD={key:!0,ref:!0,__self:!0,__source:!0};function xb(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)rD.call(e,r)&&!oD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tD,type:t,key:o,ref:s,props:i,_owner:iD.current}}Uh.Fragment=nD;Uh.jsx=xb;Uh.jsxs=xb;_b.exports=Uh;var C=_b.exports,Dg={},Ab={exports:{}},Hn={},kb={exports:{}},Nb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(x,D){var B=x.length;x.push(D);e:for(;0<B;){var Q=B-1>>>1,ee=x[Q];if(0<i(ee,D))x[Q]=D,x[B]=ee,B=Q;else break e}}function n(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var D=x[0],B=x.pop();if(B!==D){x[0]=B;e:for(var Q=0,ee=x.length,Ve=ee>>>1;Q<Ve;){var we=2*(Q+1)-1,We=x[we],Fe=we+1,Me=x[Fe];if(0>i(We,B))Fe<ee&&0>i(Me,We)?(x[Q]=Me,x[Fe]=B,Q=Fe):(x[Q]=We,x[we]=B,Q=we);else if(Fe<ee&&0>i(Me,B))x[Q]=Me,x[Fe]=B,Q=Fe;else break e}}return D}function i(x,D){var B=x.sortIndex-D.sortIndex;return B!==0?B:x.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,h=!1,p=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(x){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=x)r(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(u)}}function v(x){if(g=!1,E(x),!p)if(n(l)!==null)p=!0,k(T);else{var D=n(u);D!==null&&L(v,D.startTime-x)}}function T(x,D){p=!1,g&&(g=!1,m(R),R=-1),h=!0;var B=f;try{for(E(D),d=n(l);d!==null&&(!(d.expirationTime>D)||x&&!V());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var ee=Q(d.expirationTime<=D);D=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),E(D)}else r(l);d=n(l)}if(d!==null)var Ve=!0;else{var we=n(u);we!==null&&L(v,we.startTime-D),Ve=!1}return Ve}finally{d=null,f=B,h=!1}}var b=!1,I=null,R=-1,A=5,N=-1;function V(){return!(t.unstable_now()-N<A)}function U(){if(I!==null){var x=t.unstable_now();N=x;var D=!0;try{D=I(!0,x)}finally{D?z():(b=!1,I=null)}}else b=!1}var z;if(typeof y=="function")z=function(){y(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=U,z=function(){W.postMessage(null)}}else z=function(){_(U,0)};function k(x){I=x,b||(b=!0,z())}function L(x,D){R=_(function(){x(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(x){x.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,k(T))},t.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<x?Math.floor(1e3/x):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(x){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var B=f;f=D;try{return x()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(x,D){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var B=f;f=x;try{return D()}finally{f=B}},t.unstable_scheduleCallback=function(x,D,B){var Q=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,x){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,x={id:c++,callback:D,priorityLevel:x,startTime:B,expirationTime:ee,sortIndex:-1},B>Q?(x.sortIndex=B,e(u,x),n(l)===null&&x===n(u)&&(g?(m(R),R=-1):g=!0,L(v,B-Q))):(x.sortIndex=ee,e(l,x),p||h||(p=!0,k(T))),x},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(x){var D=f;return function(){var B=f;f=D;try{return x.apply(this,arguments)}finally{f=B}}}})(Nb);kb.exports=Nb;var sD=kb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db=w,zn=sD;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ob=new Set,Pu={};function Ls(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(Pu[t]=e,t=0;t<e.length;t++)Ob.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Og=Object.prototype.hasOwnProperty,aD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hE={},pE={};function lD(t){return Og.call(pE,t)?!0:Og.call(hE,t)?!1:aD.test(t)?pE[t]=!0:(hE[t]=!0,!1)}function uD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cD(t,e,n,r){if(e===null||typeof e>"u"||uD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new Sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new Sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new Sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new Sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new Sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new Sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new Sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new Sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new Sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vv=/[\-:]([a-z])/g;function $v(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vv,$v);Gt[e]=new Sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vv,$v);Gt[e]=new Sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vv,$v);Gt[e]=new Sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new Sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new Sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fv(t,e,n,r){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cD(e,n,i,r)&&(n=null),r||i===null?lD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mi=Db.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sd=Symbol.for("react.element"),na=Symbol.for("react.portal"),ra=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),Mg=Symbol.for("react.profiler"),Mb=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),jv=Symbol.for("react.forward_ref"),Lg=Symbol.for("react.suspense"),Vg=Symbol.for("react.suspense_list"),Bv=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Vb=Symbol.for("react.offscreen"),mE=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=mE&&t[mE]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,Tm;function nu(t){if(Tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tm=e&&e[1]||""}return`
`+Tm+t}var bm=!1;function Im(t,e){if(!t||bm)return"";bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{bm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nu(t):""}function dD(t){switch(t.tag){case 5:return nu(t.type);case 16:return nu("Lazy");case 13:return nu("Suspense");case 19:return nu("SuspenseList");case 0:case 2:case 15:return t=Im(t.type,!1),t;case 11:return t=Im(t.type.render,!1),t;case 1:return t=Im(t.type,!0),t;default:return""}}function $g(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ra:return"Fragment";case na:return"Portal";case Mg:return"Profiler";case Uv:return"StrictMode";case Lg:return"Suspense";case Vg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lb:return(t.displayName||"Context")+".Consumer";case Mb:return(t._context.displayName||"Context")+".Provider";case jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bv:return e=t.displayName||null,e!==null?e:$g(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return $g(t(e))}catch{}}return null}function fD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $g(e);case 8:return e===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Co(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $b(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hD(t){var e=$b(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Td(t){t._valueTracker||(t._valueTracker=hD(t))}function Fb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$b(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fg(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Co(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ub(t,e){e=e.checked,e!=null&&Fv(t,"checked",e,!1)}function Ug(t,e){Ub(t,e);var n=Co(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jg(t,e.type,n):e.hasOwnProperty("defaultValue")&&jg(t,e.type,Co(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jg(t,e,n){(e!=="number"||Nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ru=Array.isArray;function ya(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Co(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(ru(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Co(n)}}function jb(t,e){var n=Co(e.value),r=Co(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bd,zb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bd=bd||document.createElement("div"),bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pD=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(t){pD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),du[e]=du[t]})});function Wb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||du.hasOwnProperty(t)&&du[t]?(""+e).trim():e+"px"}function Hb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mD=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wg(t,e){if(e){if(mD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Hg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qg=null;function zv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kg=null,va=null,wa=null;function _E(t){if(t=Dc(t)){if(typeof Kg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Hh(e),Kg(t.stateNode,t.type,e))}}function qb(t){va?wa?wa.push(t):wa=[t]:va=t}function Kb(){if(va){var t=va,e=wa;if(wa=va=null,_E(t),e)for(t=0;t<e.length;t++)_E(e[t])}}function Gb(t,e){return t(e)}function Qb(){}var Cm=!1;function Yb(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return Gb(t,e,n)}finally{Cm=!1,(va!==null||wa!==null)&&(Qb(),Kb())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=Hh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Gg=!1;if(bi)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){Gg=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{Gg=!1}function gD(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fu=!1,Df=null,Of=!1,Qg=null,yD={onError:function(t){fu=!0,Df=t}};function vD(t,e,n,r,i,o,s,a,l){fu=!1,Df=null,gD.apply(yD,arguments)}function wD(t,e,n,r,i,o,s,a,l){if(vD.apply(this,arguments),fu){if(fu){var u=Df;fu=!1,Df=null}else throw Error(K(198));Of||(Of=!0,Qg=u)}}function Vs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EE(t){if(Vs(t)!==t)throw Error(K(188))}function _D(t){var e=t.alternate;if(!e){if(e=Vs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return EE(i),t;if(o===r)return EE(i),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Jb(t){return t=_D(t),t!==null?Zb(t):null}function Zb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zb(t);if(e!==null)return e;t=t.sibling}return null}var eI=zn.unstable_scheduleCallback,SE=zn.unstable_cancelCallback,ED=zn.unstable_shouldYield,SD=zn.unstable_requestPaint,mt=zn.unstable_now,TD=zn.unstable_getCurrentPriorityLevel,Wv=zn.unstable_ImmediatePriority,tI=zn.unstable_UserBlockingPriority,Mf=zn.unstable_NormalPriority,bD=zn.unstable_LowPriority,nI=zn.unstable_IdlePriority,jh=null,Hr=null;function ID(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var Sr=Math.clz32?Math.clz32:PD,CD=Math.log,RD=Math.LN2;function PD(t){return t>>>=0,t===0?32:31-(CD(t)/RD|0)|0}var Id=64,Cd=4194304;function iu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=iu(a):(o&=s,o!==0&&(r=iu(o)))}else s=n&~i,s!==0?r=iu(s):o!==0&&(r=iu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sr(e),i=1<<n,r|=t[n],e&=~i;return r}function xD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Sr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=xD(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Yg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rI(){var t=Id;return Id<<=1,!(Id&4194240)&&(Id=64),t}function Rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sr(e),t[e]=n}function kD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Hv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function iI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oI,qv,sI,aI,lI,Xg=!1,Rd=[],fo=null,ho=null,po=null,ku=new Map,Nu=new Map,Gi=[],ND="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function TE(t,e){switch(t){case"focusin":case"focusout":fo=null;break;case"dragenter":case"dragleave":ho=null;break;case"mouseover":case"mouseout":po=null;break;case"pointerover":case"pointerout":ku.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nu.delete(e.pointerId)}}function jl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Dc(e),e!==null&&qv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DD(t,e,n,r,i){switch(e){case"focusin":return fo=jl(fo,t,e,n,r,i),!0;case"dragenter":return ho=jl(ho,t,e,n,r,i),!0;case"mouseover":return po=jl(po,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ku.set(o,jl(ku.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Nu.set(o,jl(Nu.get(o)||null,t,e,n,r,i)),!0}return!1}function uI(t){var e=Jo(t.target);if(e!==null){var n=Vs(e);if(n!==null){if(e=n.tag,e===13){if(e=Xb(n),e!==null){t.blockedOn=e,lI(t.priority,function(){sI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function of(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qg=r,n.target.dispatchEvent(r),qg=null}else return e=Dc(n),e!==null&&qv(e),t.blockedOn=n,!1;e.shift()}return!0}function bE(t,e,n){of(t)&&n.delete(e)}function OD(){Xg=!1,fo!==null&&of(fo)&&(fo=null),ho!==null&&of(ho)&&(ho=null),po!==null&&of(po)&&(po=null),ku.forEach(bE),Nu.forEach(bE)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,Xg||(Xg=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,OD)))}function Du(t){function e(i){return Bl(i,t)}if(0<Rd.length){Bl(Rd[0],t);for(var n=1;n<Rd.length;n++){var r=Rd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fo!==null&&Bl(fo,t),ho!==null&&Bl(ho,t),po!==null&&Bl(po,t),ku.forEach(e),Nu.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)uI(n),n.blockedOn===null&&Gi.shift()}var _a=Mi.ReactCurrentBatchConfig,Vf=!0;function MD(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=1,Kv(t,e,n,r)}finally{je=i,_a.transition=o}}function LD(t,e,n,r){var i=je,o=_a.transition;_a.transition=null;try{je=4,Kv(t,e,n,r)}finally{je=i,_a.transition=o}}function Kv(t,e,n,r){if(Vf){var i=Jg(t,e,n,r);if(i===null)Vm(t,e,r,$f,n),TE(t,r);else if(DD(i,t,e,n,r))r.stopPropagation();else if(TE(t,r),e&4&&-1<ND.indexOf(t)){for(;i!==null;){var o=Dc(i);if(o!==null&&oI(o),o=Jg(t,e,n,r),o===null&&Vm(t,e,r,$f,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vm(t,e,r,null,n)}}var $f=null;function Jg(t,e,n,r){if($f=null,t=zv(r),t=Jo(t),t!==null)if(e=Vs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $f=t,null}function cI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(TD()){case Wv:return 1;case tI:return 4;case Mf:case bD:return 16;case nI:return 536870912;default:return 16}default:return 16}}var ao=null,Gv=null,sf=null;function dI(){if(sf)return sf;var t,e=Gv,n=e.length,r,i="value"in ao?ao.value:ao.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return sf=i.slice(t,1<r?1-r:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pd(){return!0}function IE(){return!1}function qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pd:IE,this.isPropagationStopped=IE,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pd)},persist:function(){},isPersistent:Pd}),e}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qv=qn(gl),Nc=lt({},gl,{view:0,detail:0}),VD=qn(Nc),Pm,xm,zl,Bh=lt({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(Pm=t.screenX-zl.screenX,xm=t.screenY-zl.screenY):xm=Pm=0,zl=t),Pm)},movementY:function(t){return"movementY"in t?t.movementY:xm}}),CE=qn(Bh),$D=lt({},Bh,{dataTransfer:0}),FD=qn($D),UD=lt({},Nc,{relatedTarget:0}),Am=qn(UD),jD=lt({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),BD=qn(jD),zD=lt({},gl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WD=qn(zD),HD=lt({},gl,{data:0}),RE=qn(HD),qD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GD[t])?!!e[t]:!1}function Yv(){return QD}var YD=lt({},Nc,{key:function(t){if(t.key){var e=qD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XD=qn(YD),JD=lt({},Bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PE=qn(JD),ZD=lt({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),eO=qn(ZD),tO=lt({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nO=qn(tO),rO=lt({},Bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iO=qn(rO),oO=[9,13,27,32],Xv=bi&&"CompositionEvent"in window,hu=null;bi&&"documentMode"in document&&(hu=document.documentMode);var sO=bi&&"TextEvent"in window&&!hu,fI=bi&&(!Xv||hu&&8<hu&&11>=hu),xE=String.fromCharCode(32),AE=!1;function hI(t,e){switch(t){case"keyup":return oO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function aO(t,e){switch(t){case"compositionend":return pI(e);case"keypress":return e.which!==32?null:(AE=!0,xE);case"textInput":return t=e.data,t===xE&&AE?null:t;default:return null}}function lO(t,e){if(ia)return t==="compositionend"||!Xv&&hI(t,e)?(t=dI(),sf=Gv=ao=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fI&&e.locale!=="ko"?null:e.data;default:return null}}var uO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uO[t.type]:e==="textarea"}function mI(t,e,n,r){qb(r),e=Ff(e,"onChange"),0<e.length&&(n=new Qv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pu=null,Ou=null;function cO(t){CI(t,0)}function zh(t){var e=aa(t);if(Fb(e))return t}function dO(t,e){if(t==="change")return e}var gI=!1;if(bi){var km;if(bi){var Nm="oninput"in document;if(!Nm){var NE=document.createElement("div");NE.setAttribute("oninput","return;"),Nm=typeof NE.oninput=="function"}km=Nm}else km=!1;gI=km&&(!document.documentMode||9<document.documentMode)}function DE(){pu&&(pu.detachEvent("onpropertychange",yI),Ou=pu=null)}function yI(t){if(t.propertyName==="value"&&zh(Ou)){var e=[];mI(e,Ou,t,zv(t)),Yb(cO,e)}}function fO(t,e,n){t==="focusin"?(DE(),pu=e,Ou=n,pu.attachEvent("onpropertychange",yI)):t==="focusout"&&DE()}function hO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zh(Ou)}function pO(t,e){if(t==="click")return zh(e)}function mO(t,e){if(t==="input"||t==="change")return zh(e)}function gO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:gO;function Mu(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Og.call(e,i)||!br(t[i],e[i]))return!1}return!0}function OE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ME(t,e){var n=OE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=OE(n)}}function vI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wI(){for(var t=window,e=Nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nf(t.document)}return e}function Jv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yO(t){var e=wI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vI(n.ownerDocument.documentElement,n)){if(r!==null&&Jv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ME(n,o);var s=ME(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vO=bi&&"documentMode"in document&&11>=document.documentMode,oa=null,Zg=null,mu=null,ey=!1;function LE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ey||oa==null||oa!==Nf(r)||(r=oa,"selectionStart"in r&&Jv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mu&&Mu(mu,r)||(mu=r,r=Ff(Zg,"onSelect"),0<r.length&&(e=new Qv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oa)))}function xd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},Dm={},_I={};bi&&(_I=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Wh(t){if(Dm[t])return Dm[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _I)return Dm[t]=e[n];return t}var EI=Wh("animationend"),SI=Wh("animationiteration"),TI=Wh("animationstart"),bI=Wh("transitionend"),II=new Map,VE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mo(t,e){II.set(t,e),Ls(e,[t])}for(var Om=0;Om<VE.length;Om++){var Mm=VE[Om],wO=Mm.toLowerCase(),_O=Mm[0].toUpperCase()+Mm.slice(1);Mo(wO,"on"+_O)}Mo(EI,"onAnimationEnd");Mo(SI,"onAnimationIteration");Mo(TI,"onAnimationStart");Mo("dblclick","onDoubleClick");Mo("focusin","onFocus");Mo("focusout","onBlur");Mo(bI,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function $E(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wD(r,e,void 0,t),t.currentTarget=null}function CI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;$E(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;$E(i,a,u),o=l}}}if(Of)throw t=Qg,Of=!1,Qg=null,t}function Ye(t,e){var n=e[oy];n===void 0&&(n=e[oy]=new Set);var r=t+"__bubble";n.has(r)||(RI(e,t,2,!1),n.add(r))}function Lm(t,e,n){var r=0;e&&(r|=4),RI(n,t,r,e)}var Ad="_reactListening"+Math.random().toString(36).slice(2);function Lu(t){if(!t[Ad]){t[Ad]=!0,Ob.forEach(function(n){n!=="selectionchange"&&(EO.has(n)||Lm(n,!1,t),Lm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ad]||(e[Ad]=!0,Lm("selectionchange",!1,e))}}function RI(t,e,n,r){switch(cI(e)){case 1:var i=MD;break;case 4:i=LD;break;default:i=Kv}n=i.bind(null,e,n,t),i=void 0,!Gg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vm(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Jo(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Yb(function(){var u=o,c=zv(n),d=[];e:{var f=II.get(t);if(f!==void 0){var h=Qv,p=t;switch(t){case"keypress":if(af(n)===0)break e;case"keydown":case"keyup":h=XD;break;case"focusin":p="focus",h=Am;break;case"focusout":p="blur",h=Am;break;case"beforeblur":case"afterblur":h=Am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=CE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=FD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=eO;break;case EI:case SI:case TI:h=BD;break;case bI:h=nO;break;case"scroll":h=VD;break;case"wheel":h=iO;break;case"copy":case"cut":case"paste":h=WD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=PE}var g=(e&4)!==0,_=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,E;y!==null;){E=y;var v=E.stateNode;if(E.tag===5&&v!==null&&(E=v,m!==null&&(v=Au(y,m),v!=null&&g.push(Vu(y,v,E)))),_)break;y=y.return}0<g.length&&(f=new h(f,p,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==qg&&(p=n.relatedTarget||n.fromElement)&&(Jo(p)||p[Ii]))break e;if((h||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=u,p=p?Jo(p):null,p!==null&&(_=Vs(p),p!==_||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(g=CE,v="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=PE,v="onPointerLeave",m="onPointerEnter",y="pointer"),_=h==null?f:aa(h),E=p==null?f:aa(p),f=new g(v,y+"leave",h,n,c),f.target=_,f.relatedTarget=E,v=null,Jo(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=E,g.relatedTarget=_,v=g),_=v,h&&p)t:{for(g=h,m=p,y=0,E=g;E;E=qs(E))y++;for(E=0,v=m;v;v=qs(v))E++;for(;0<y-E;)g=qs(g),y--;for(;0<E-y;)m=qs(m),E--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=qs(g),m=qs(m)}g=null}else g=null;h!==null&&FE(d,f,h,g,!1),p!==null&&_!==null&&FE(d,_,p,g,!0)}}e:{if(f=u?aa(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var T=dO;else if(kE(f))if(gI)T=mO;else{T=hO;var b=fO}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=pO);if(T&&(T=T(t,u))){mI(d,T,n,c);break e}b&&b(t,f,u),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&jg(f,"number",f.value)}switch(b=u?aa(u):window,t){case"focusin":(kE(b)||b.contentEditable==="true")&&(oa=b,Zg=u,mu=null);break;case"focusout":mu=Zg=oa=null;break;case"mousedown":ey=!0;break;case"contextmenu":case"mouseup":case"dragend":ey=!1,LE(d,n,c);break;case"selectionchange":if(vO)break;case"keydown":case"keyup":LE(d,n,c)}var I;if(Xv)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ia?hI(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(fI&&n.locale!=="ko"&&(ia||R!=="onCompositionStart"?R==="onCompositionEnd"&&ia&&(I=dI()):(ao=c,Gv="value"in ao?ao.value:ao.textContent,ia=!0)),b=Ff(u,R),0<b.length&&(R=new RE(R,t,null,n,c),d.push({event:R,listeners:b}),I?R.data=I:(I=pI(n),I!==null&&(R.data=I)))),(I=sO?aO(t,n):lO(t,n))&&(u=Ff(u,"onBeforeInput"),0<u.length&&(c=new RE("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}CI(d,e)})}function Vu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ff(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Au(t,n),o!=null&&r.unshift(Vu(t,o,i)),o=Au(t,e),o!=null&&r.push(Vu(t,o,i))),t=t.return}return r}function qs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FE(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Au(n,o),l!=null&&s.unshift(Vu(n,l,a))):i||(l=Au(n,o),l!=null&&s.push(Vu(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var SO=/\r\n?/g,TO=/\u0000|\uFFFD/g;function UE(t){return(typeof t=="string"?t:""+t).replace(SO,`
`).replace(TO,"")}function kd(t,e,n){if(e=UE(e),UE(t)!==e&&n)throw Error(K(425))}function Uf(){}var ty=null,ny=null;function ry(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iy=typeof setTimeout=="function"?setTimeout:void 0,bO=typeof clearTimeout=="function"?clearTimeout:void 0,jE=typeof Promise=="function"?Promise:void 0,IO=typeof queueMicrotask=="function"?queueMicrotask:typeof jE<"u"?function(t){return jE.resolve(null).then(t).catch(CO)}:iy;function CO(t){setTimeout(function(){throw t})}function $m(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Du(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Du(e)}function mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yl=Math.random().toString(36).slice(2),$r="__reactFiber$"+yl,$u="__reactProps$"+yl,Ii="__reactContainer$"+yl,oy="__reactEvents$"+yl,RO="__reactListeners$"+yl,PO="__reactHandles$"+yl;function Jo(t){var e=t[$r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ii]||n[$r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BE(t);t!==null;){if(n=t[$r])return n;t=BE(t)}return e}t=n,n=t.parentNode}return null}function Dc(t){return t=t[$r]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Hh(t){return t[$u]||null}var sy=[],la=-1;function Lo(t){return{current:t}}function Ze(t){0>la||(t.current=sy[la],sy[la]=null,la--)}function Ge(t,e){la++,sy[la]=t.current,t.current=e}var Ro={},un=Lo(Ro),xn=Lo(!1),_s=Ro;function Ga(t,e){var n=t.type.contextTypes;if(!n)return Ro;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function An(t){return t=t.childContextTypes,t!=null}function jf(){Ze(xn),Ze(un)}function zE(t,e,n){if(un.current!==Ro)throw Error(K(168));Ge(un,e),Ge(xn,n)}function PI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,fD(t)||"Unknown",i));return lt({},n,r)}function Bf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,_s=un.current,Ge(un,t),Ge(xn,xn.current),!0}function WE(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=PI(t,e,_s),r.__reactInternalMemoizedMergedChildContext=t,Ze(xn),Ze(un),Ge(un,t)):Ze(xn),Ge(xn,n)}var ci=null,qh=!1,Fm=!1;function xI(t){ci===null?ci=[t]:ci.push(t)}function xO(t){qh=!0,xI(t)}function Vo(){if(!Fm&&ci!==null){Fm=!0;var t=0,e=je;try{var n=ci;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ci=null,qh=!1}catch(i){throw ci!==null&&(ci=ci.slice(t+1)),eI(Wv,Vo),i}finally{je=e,Fm=!1}}return null}var ua=[],ca=0,zf=null,Wf=0,tr=[],nr=0,Es=null,pi=1,mi="";function Ko(t,e){ua[ca++]=Wf,ua[ca++]=zf,zf=t,Wf=e}function AI(t,e,n){tr[nr++]=pi,tr[nr++]=mi,tr[nr++]=Es,Es=t;var r=pi;t=mi;var i=32-Sr(r)-1;r&=~(1<<i),n+=1;var o=32-Sr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pi=1<<32-Sr(e)+i|n<<i|r,mi=o+t}else pi=1<<o|n<<i|r,mi=t}function Zv(t){t.return!==null&&(Ko(t,1),AI(t,1,0))}function e0(t){for(;t===zf;)zf=ua[--ca],ua[ca]=null,Wf=ua[--ca],ua[ca]=null;for(;t===Es;)Es=tr[--nr],tr[nr]=null,mi=tr[--nr],tr[nr]=null,pi=tr[--nr],tr[nr]=null}var Un=null,Vn=null,tt=!1,_r=null;function kI(t,e){var n=or(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function HE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Vn=mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=or(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Un=t,Vn=null,!0):!1;default:return!1}}function ay(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ly(t){if(tt){var e=Vn;if(e){var n=e;if(!HE(t,e)){if(ay(t))throw Error(K(418));e=mo(n.nextSibling);var r=Un;e&&HE(t,e)?kI(r,n):(t.flags=t.flags&-4097|2,tt=!1,Un=t)}}else{if(ay(t))throw Error(K(418));t.flags=t.flags&-4097|2,tt=!1,Un=t}}}function qE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Nd(t){if(t!==Un)return!1;if(!tt)return qE(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ry(t.type,t.memoizedProps)),e&&(e=Vn)){if(ay(t))throw NI(),Error(K(418));for(;e;)kI(t,e),e=mo(e.nextSibling)}if(qE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Un?mo(t.stateNode.nextSibling):null;return!0}function NI(){for(var t=Vn;t;)t=mo(t.nextSibling)}function Qa(){Vn=Un=null,tt=!1}function t0(t){_r===null?_r=[t]:_r.push(t)}var AO=Mi.ReactCurrentBatchConfig;function gr(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hf=Lo(null),qf=null,da=null,n0=null;function r0(){n0=da=qf=null}function i0(t){var e=Hf.current;Ze(Hf),t._currentValue=e}function uy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ea(t,e){qf=t,n0=da=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(n0!==t)if(t={context:t,memoizedValue:e,next:null},da===null){if(qf===null)throw Error(K(308));da=t,qf.dependencies={lanes:0,firstContext:t}}else da=da.next=t;return e}var Zo=null;function o0(t){Zo===null?Zo=[t]:Zo.push(t)}function DI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o0(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ci(t,r)}function Ci(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function s0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function go(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ci(t,n)}return i=r.interleaved,i===null?(e.next=e,o0(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ci(t,n)}function lf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hv(t,n)}}function KE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kf(t,e,n,r){var i=t.updateQueue;Ki=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,h=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(f=e,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,f=typeof p=="function"?p.call(h,d,f):p,f==null)break e;d=lt({},d,f);break e;case 2:Ki=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=d):c=c.next=h,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ts|=s,t.lanes=s,t.memoizedState=d}}function GE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var MI=new Db.Component().refs;function cy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kh={isMounted:function(t){return(t=t._reactInternals)?Vs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=vo(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(Tr(e,t,i,r),lf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=vo(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=go(t,o,i),e!==null&&(Tr(e,t,i,r),lf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=vo(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=go(t,i,r),e!==null&&(Tr(e,t,r,n),lf(e,t,r))}};function QE(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Mu(n,r)||!Mu(i,o):!0}function LI(t,e,n){var r=!1,i=Ro,o=e.contextType;return typeof o=="object"&&o!==null?o=lr(o):(i=An(e)?_s:un.current,r=e.contextTypes,o=(r=r!=null)?Ga(t,i):Ro),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function YE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kh.enqueueReplaceState(e,e.state,null)}function dy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=MI,s0(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=lr(o):(o=An(e)?_s:un.current,i.context=Ga(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(cy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kh.enqueueReplaceState(i,i.state,null),Kf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===MI&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Dd(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function XE(t){var e=t._init;return e(t._payload)}function VI(t){function e(m,y){if(t){var E=m.deletions;E===null?(m.deletions=[y],m.flags|=16):E.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=wo(m,y),m.index=0,m.sibling=null,m}function o(m,y,E){return m.index=E,t?(E=m.alternate,E!==null?(E=E.index,E<y?(m.flags|=2,y):E):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,E,v){return y===null||y.tag!==6?(y=qm(E,m.mode,v),y.return=m,y):(y=i(y,E),y.return=m,y)}function l(m,y,E,v){var T=E.type;return T===ra?c(m,y,E.props.children,v,E.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qi&&XE(T)===y.type)?(v=i(y,E.props),v.ref=Wl(m,y,E),v.return=m,v):(v=pf(E.type,E.key,E.props,null,m.mode,v),v.ref=Wl(m,y,E),v.return=m,v)}function u(m,y,E,v){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Km(E,m.mode,v),y.return=m,y):(y=i(y,E.children||[]),y.return=m,y)}function c(m,y,E,v,T){return y===null||y.tag!==7?(y=gs(E,m.mode,v,T),y.return=m,y):(y=i(y,E),y.return=m,y)}function d(m,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qm(""+y,m.mode,E),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sd:return E=pf(y.type,y.key,y.props,null,m.mode,E),E.ref=Wl(m,null,y),E.return=m,E;case na:return y=Km(y,m.mode,E),y.return=m,y;case qi:var v=y._init;return d(m,v(y._payload),E)}if(ru(y)||Fl(y))return y=gs(y,m.mode,E,null),y.return=m,y;Dd(m,y)}return null}function f(m,y,E,v){var T=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(m,y,""+E,v);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sd:return E.key===T?l(m,y,E,v):null;case na:return E.key===T?u(m,y,E,v):null;case qi:return T=E._init,f(m,y,T(E._payload),v)}if(ru(E)||Fl(E))return T!==null?null:c(m,y,E,v,null);Dd(m,E)}return null}function h(m,y,E,v,T){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(E)||null,a(y,m,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sd:return m=m.get(v.key===null?E:v.key)||null,l(y,m,v,T);case na:return m=m.get(v.key===null?E:v.key)||null,u(y,m,v,T);case qi:var b=v._init;return h(m,y,E,b(v._payload),T)}if(ru(v)||Fl(v))return m=m.get(E)||null,c(y,m,v,T,null);Dd(y,v)}return null}function p(m,y,E,v){for(var T=null,b=null,I=y,R=y=0,A=null;I!==null&&R<E.length;R++){I.index>R?(A=I,I=null):A=I.sibling;var N=f(m,I,E[R],v);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(m,I),y=o(N,y,R),b===null?T=N:b.sibling=N,b=N,I=A}if(R===E.length)return n(m,I),tt&&Ko(m,R),T;if(I===null){for(;R<E.length;R++)I=d(m,E[R],v),I!==null&&(y=o(I,y,R),b===null?T=I:b.sibling=I,b=I);return tt&&Ko(m,R),T}for(I=r(m,I);R<E.length;R++)A=h(I,m,R,E[R],v),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?R:A.key),y=o(A,y,R),b===null?T=A:b.sibling=A,b=A);return t&&I.forEach(function(V){return e(m,V)}),tt&&Ko(m,R),T}function g(m,y,E,v){var T=Fl(E);if(typeof T!="function")throw Error(K(150));if(E=T.call(E),E==null)throw Error(K(151));for(var b=T=null,I=y,R=y=0,A=null,N=E.next();I!==null&&!N.done;R++,N=E.next()){I.index>R?(A=I,I=null):A=I.sibling;var V=f(m,I,N.value,v);if(V===null){I===null&&(I=A);break}t&&I&&V.alternate===null&&e(m,I),y=o(V,y,R),b===null?T=V:b.sibling=V,b=V,I=A}if(N.done)return n(m,I),tt&&Ko(m,R),T;if(I===null){for(;!N.done;R++,N=E.next())N=d(m,N.value,v),N!==null&&(y=o(N,y,R),b===null?T=N:b.sibling=N,b=N);return tt&&Ko(m,R),T}for(I=r(m,I);!N.done;R++,N=E.next())N=h(I,m,R,N.value,v),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?R:N.key),y=o(N,y,R),b===null?T=N:b.sibling=N,b=N);return t&&I.forEach(function(U){return e(m,U)}),tt&&Ko(m,R),T}function _(m,y,E,v){if(typeof E=="object"&&E!==null&&E.type===ra&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Sd:e:{for(var T=E.key,b=y;b!==null;){if(b.key===T){if(T=E.type,T===ra){if(b.tag===7){n(m,b.sibling),y=i(b,E.props.children),y.return=m,m=y;break e}}else if(b.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===qi&&XE(T)===b.type){n(m,b.sibling),y=i(b,E.props),y.ref=Wl(m,b,E),y.return=m,m=y;break e}n(m,b);break}else e(m,b);b=b.sibling}E.type===ra?(y=gs(E.props.children,m.mode,v,E.key),y.return=m,m=y):(v=pf(E.type,E.key,E.props,null,m.mode,v),v.ref=Wl(m,y,E),v.return=m,m=v)}return s(m);case na:e:{for(b=E.key;y!==null;){if(y.key===b)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(m,y.sibling),y=i(y,E.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Km(E,m.mode,v),y.return=m,m=y}return s(m);case qi:return b=E._init,_(m,y,b(E._payload),v)}if(ru(E))return p(m,y,E,v);if(Fl(E))return g(m,y,E,v);Dd(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,E),y.return=m,m=y):(n(m,y),y=qm(E,m.mode,v),y.return=m,m=y),s(m)):n(m,y)}return _}var Ya=VI(!0),$I=VI(!1),Oc={},qr=Lo(Oc),Fu=Lo(Oc),Uu=Lo(Oc);function es(t){if(t===Oc)throw Error(K(174));return t}function a0(t,e){switch(Ge(Uu,e),Ge(Fu,t),Ge(qr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zg(e,t)}Ze(qr),Ge(qr,e)}function Xa(){Ze(qr),Ze(Fu),Ze(Uu)}function FI(t){es(Uu.current);var e=es(qr.current),n=zg(e,t.type);e!==n&&(Ge(Fu,t),Ge(qr,n))}function l0(t){Fu.current===t&&(Ze(qr),Ze(Fu))}var ot=Lo(0);function Gf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Um=[];function u0(){for(var t=0;t<Um.length;t++)Um[t]._workInProgressVersionPrimary=null;Um.length=0}var uf=Mi.ReactCurrentDispatcher,jm=Mi.ReactCurrentBatchConfig,Ss=0,st=null,bt=null,Dt=null,Qf=!1,gu=!1,ju=0,kO=0;function Xt(){throw Error(K(321))}function c0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function d0(t,e,n,r,i,o){if(Ss=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uf.current=t===null||t.memoizedState===null?MO:LO,t=n(r,i),gu){o=0;do{if(gu=!1,ju=0,25<=o)throw Error(K(301));o+=1,Dt=bt=null,e.updateQueue=null,uf.current=VO,t=n(r,i)}while(gu)}if(uf.current=Yf,e=bt!==null&&bt.next!==null,Ss=0,Dt=bt=st=null,Qf=!1,e)throw Error(K(300));return t}function f0(){var t=ju!==0;return ju=0,t}function Dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?st.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function ur(){if(bt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Dt===null?st.memoizedState:Dt.next;if(e!==null)Dt=e,bt=t;else{if(t===null)throw Error(K(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Dt===null?st.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Bu(t,e){return typeof e=="function"?e(t):e}function Bm(t){var e=ur(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=bt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ss&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,st.lanes|=c,Ts|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,br(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,st.lanes|=o,Ts|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zm(t){var e=ur(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);br(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function UI(){}function jI(t,e){var n=st,r=ur(),i=e(),o=!br(r.memoizedState,i);if(o&&(r.memoizedState=i,Pn=!0),r=r.queue,h0(WI.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,zu(9,zI.bind(null,n,r,i,e),void 0,null),Ot===null)throw Error(K(349));Ss&30||BI(n,e,i)}return i}function BI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zI(t,e,n,r){e.value=n,e.getSnapshot=r,HI(e)&&qI(t)}function WI(t,e,n){return n(function(){HI(e)&&qI(t)})}function HI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function qI(t){var e=Ci(t,1);e!==null&&Tr(e,t,1,-1)}function JE(t){var e=Dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:t},e.queue=t,t=t.dispatch=OO.bind(null,st,t),[e.memoizedState,t]}function zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KI(){return ur().memoizedState}function cf(t,e,n,r){var i=Dr();st.flags|=t,i.memoizedState=zu(1|e,n,void 0,r===void 0?null:r)}function Gh(t,e,n,r){var i=ur();r=r===void 0?null:r;var o=void 0;if(bt!==null){var s=bt.memoizedState;if(o=s.destroy,r!==null&&c0(r,s.deps)){i.memoizedState=zu(e,n,o,r);return}}st.flags|=t,i.memoizedState=zu(1|e,n,o,r)}function ZE(t,e){return cf(8390656,8,t,e)}function h0(t,e){return Gh(2048,8,t,e)}function GI(t,e){return Gh(4,2,t,e)}function QI(t,e){return Gh(4,4,t,e)}function YI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XI(t,e,n){return n=n!=null?n.concat([t]):null,Gh(4,4,YI.bind(null,e,t),n)}function p0(){}function JI(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&c0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZI(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&c0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eC(t,e,n){return Ss&21?(br(n,e)||(n=rI(),st.lanes|=n,Ts|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function NO(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=jm.transition;jm.transition={};try{t(!1),e()}finally{je=n,jm.transition=r}}function tC(){return ur().memoizedState}function DO(t,e,n){var r=vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nC(t))rC(e,n);else if(n=DI(t,e,n,r),n!==null){var i=vn();Tr(n,t,r,i),iC(n,e,r)}}function OO(t,e,n){var r=vo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nC(t))rC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,br(a,s)){var l=e.interleaved;l===null?(i.next=i,o0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=DI(t,e,i,r),n!==null&&(i=vn(),Tr(n,t,r,i),iC(n,e,r))}}function nC(t){var e=t.alternate;return t===st||e!==null&&e===st}function rC(t,e){gu=Qf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Hv(t,n)}}var Yf={readContext:lr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},MO={readContext:lr,useCallback:function(t,e){return Dr().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:ZE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cf(4194308,4,YI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cf(4194308,4,t,e)},useInsertionEffect:function(t,e){return cf(4,2,t,e)},useMemo:function(t,e){var n=Dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=DO.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Dr();return t={current:t},e.memoizedState=t},useState:JE,useDebugValue:p0,useDeferredValue:function(t){return Dr().memoizedState=t},useTransition:function(){var t=JE(!1),e=t[0];return t=NO.bind(null,t[1]),Dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Dr();if(tt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ot===null)throw Error(K(349));Ss&30||BI(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ZE(WI.bind(null,r,o,t),[t]),r.flags|=2048,zu(9,zI.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Dr(),e=Ot.identifierPrefix;if(tt){var n=mi,r=pi;n=(r&~(1<<32-Sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ju++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LO={readContext:lr,useCallback:JI,useContext:lr,useEffect:h0,useImperativeHandle:XI,useInsertionEffect:GI,useLayoutEffect:QI,useMemo:ZI,useReducer:Bm,useRef:KI,useState:function(){return Bm(Bu)},useDebugValue:p0,useDeferredValue:function(t){var e=ur();return eC(e,bt.memoizedState,t)},useTransition:function(){var t=Bm(Bu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:UI,useSyncExternalStore:jI,useId:tC,unstable_isNewReconciler:!1},VO={readContext:lr,useCallback:JI,useContext:lr,useEffect:h0,useImperativeHandle:XI,useInsertionEffect:GI,useLayoutEffect:QI,useMemo:ZI,useReducer:zm,useRef:KI,useState:function(){return zm(Bu)},useDebugValue:p0,useDeferredValue:function(t){var e=ur();return bt===null?e.memoizedState=t:eC(e,bt.memoizedState,t)},useTransition:function(){var t=zm(Bu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:UI,useSyncExternalStore:jI,useId:tC,unstable_isNewReconciler:!1};function Ja(t,e){try{var n="",r=e;do n+=dD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $O=typeof WeakMap=="function"?WeakMap:Map;function oC(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jf||(Jf=!0,Sy=r),fy(t,e)},n}function sC(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fy(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){fy(t,e),typeof r!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function e1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $O;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=JO.bind(null,t,e,n),e.then(t,t))}function t1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function n1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,go(n,e,1))),n.lanes|=1),t)}var FO=Mi.ReactCurrentOwner,Pn=!1;function mn(t,e,n,r){e.child=t===null?$I(e,null,n,r):Ya(e,t.child,n,r)}function r1(t,e,n,r,i){n=n.render;var o=e.ref;return Ea(e,i),r=d0(t,e,n,r,o,i),n=f0(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(tt&&n&&Zv(e),e.flags|=1,mn(t,e,r,i),e.child)}function i1(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!S0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,aC(t,e,o,r,i)):(t=pf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Mu,n(s,r)&&t.ref===e.ref)return Ri(t,e,i)}return e.flags|=1,t=wo(o,r),t.ref=e.ref,t.return=e,e.child=t}function aC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Mu(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Ri(t,e,i)}return hy(t,e,n,r,i)}function lC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ha,Ln),Ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(ha,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(ha,Ln),Ln|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ge(ha,Ln),Ln|=r;return mn(t,e,i,n),e.child}function uC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hy(t,e,n,r,i){var o=An(n)?_s:un.current;return o=Ga(e,o),Ea(e,i),n=d0(t,e,n,r,o,i),r=f0(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ri(t,e,i)):(tt&&r&&Zv(e),e.flags|=1,mn(t,e,n,i),e.child)}function o1(t,e,n,r,i){if(An(n)){var o=!0;Bf(e)}else o=!1;if(Ea(e,i),e.stateNode===null)df(t,e),LI(e,n,r),dy(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=lr(u):(u=An(n)?_s:un.current,u=Ga(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&YE(e,s,r,u),Ki=!1;var f=e.memoizedState;s.state=f,Kf(e,r,s,i),l=e.memoizedState,a!==r||f!==l||xn.current||Ki?(typeof c=="function"&&(cy(e,n,c,r),l=e.memoizedState),(a=Ki||QE(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,OI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gr(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=lr(l):(l=An(n)?_s:un.current,l=Ga(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&YE(e,s,r,l),Ki=!1,f=e.memoizedState,s.state=f,Kf(e,r,s,i);var p=e.memoizedState;a!==d||f!==p||xn.current||Ki?(typeof h=="function"&&(cy(e,n,h,r),p=e.memoizedState),(u=Ki||QE(e,n,u,r,f,p,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return py(t,e,n,r,o,i)}function py(t,e,n,r,i,o){uC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&WE(e,n,!1),Ri(t,e,o);r=e.stateNode,FO.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):mn(t,e,a,o),e.memoizedState=r.state,i&&WE(e,n,!0),e.child}function cC(t){var e=t.stateNode;e.pendingContext?zE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zE(t,e.context,!1),a0(t,e.containerInfo)}function s1(t,e,n,r,i){return Qa(),t0(i),e.flags|=256,mn(t,e,n,r),e.child}var my={dehydrated:null,treeContext:null,retryLane:0};function gy(t){return{baseLanes:t,cachePool:null,transitions:null}}function dC(t,e,n){var r=e.pendingProps,i=ot.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(ot,i&1),t===null)return ly(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xh(s,r,0,null),t=gs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=gy(n),e.memoizedState=my,t):m0(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UO(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=wo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=wo(a,o):(o=gs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?gy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=my,r}return o=t.child,t=o.sibling,r=wo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function m0(t,e){return e=Xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Od(t,e,n,r){return r!==null&&t0(r),Ya(e,t.child,null,n),t=m0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UO(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Wm(Error(K(422))),Od(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xh({mode:"visible",children:r.children},i,0,null),o=gs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ya(e,t.child,null,s),e.child.memoizedState=gy(s),e.memoizedState=my,o);if(!(e.mode&1))return Od(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(K(419)),r=Wm(o,r,void 0),Od(t,e,s,r)}if(a=(s&t.childLanes)!==0,Pn||a){if(r=Ot,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ci(t,i),Tr(r,t,i,-1))}return E0(),r=Wm(Error(K(421))),Od(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Vn=mo(i.nextSibling),Un=e,tt=!0,_r=null,t!==null&&(tr[nr++]=pi,tr[nr++]=mi,tr[nr++]=Es,pi=t.id,mi=t.overflow,Es=e),e=m0(e,r.children),e.flags|=4096,e)}function a1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),uy(t.return,e,n)}function Hm(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function fC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a1(t,n,e);else if(t.tag===19)a1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Hm(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Hm(e,!0,n,null,o);break;case"together":Hm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function df(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ri(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ts|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=wo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jO(t,e,n){switch(e.tag){case 3:cC(e),Qa();break;case 5:FI(e);break;case 1:An(e.type)&&Bf(e);break;case 4:a0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(Hf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?dC(t,e,n):(Ge(ot,ot.current&1),t=Ri(t,e,n),t!==null?t.sibling:null);Ge(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,lC(t,e,n)}return Ri(t,e,n)}var hC,yy,pC,mC;hC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yy=function(){};pC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(qr.current);var o=null;switch(n){case"input":i=Fg(t,i),r=Fg(t,r),o=[];break;case"select":i=lt({},i,{value:void 0}),r=lt({},r,{value:void 0}),o=[];break;case"textarea":i=Bg(t,i),r=Bg(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uf)}Wg(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pu.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pu.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ye("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};mC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BO(t,e,n){var r=e.pendingProps;switch(e0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(e),null;case 1:return An(e.type)&&jf(),Jt(e),null;case 3:return r=e.stateNode,Xa(),Ze(xn),Ze(un),u0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_r!==null&&(Iy(_r),_r=null))),yy(t,e),Jt(e),null;case 5:l0(e);var i=es(Uu.current);if(n=e.type,t!==null&&e.stateNode!=null)pC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Jt(e),null}if(t=es(qr.current),Nd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[$r]=e,r[$u]=o,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<ou.length;i++)Ye(ou[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":gE(r,o),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ye("invalid",r);break;case"textarea":vE(r,o),Ye("invalid",r)}Wg(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&kd(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&kd(r.textContent,a,t),i=["children",""+a]):Pu.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Td(r),yE(r,o,!0);break;case"textarea":Td(r),wE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[$r]=e,t[$u]=r,hC(t,e,!1,!1),e.stateNode=t;e:{switch(s=Hg(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<ou.length;i++)Ye(ou[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":gE(t,r),i=Fg(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=lt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":vE(t,r),i=Bg(t,r),Ye("invalid",t);break;default:i=r}Wg(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Hb(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zb(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&xu(t,l):typeof l=="number"&&xu(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Pu.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Ye("scroll",t):l!=null&&Fv(t,o,l,s))}switch(n){case"input":Td(t),yE(t,r,!1);break;case"textarea":Td(t),wE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Co(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ya(t,!!r.multiple,o,!1):r.defaultValue!=null&&ya(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jt(e),null;case 6:if(t&&e.stateNode!=null)mC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=es(Uu.current),es(qr.current),Nd(e)){if(r=e.stateNode,n=e.memoizedProps,r[$r]=e,(o=r.nodeValue!==n)&&(t=Un,t!==null))switch(t.tag){case 3:kd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kd(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$r]=e,e.stateNode=r}return Jt(e),null;case 13:if(Ze(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Vn!==null&&e.mode&1&&!(e.flags&128))NI(),Qa(),e.flags|=98560,o=!1;else if(o=Nd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[$r]=e}else Qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jt(e),o=!1}else _r!==null&&(Iy(_r),_r=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?Ct===0&&(Ct=3):E0())),e.updateQueue!==null&&(e.flags|=4),Jt(e),null);case 4:return Xa(),yy(t,e),t===null&&Lu(e.stateNode.containerInfo),Jt(e),null;case 10:return i0(e.type._context),Jt(e),null;case 17:return An(e.type)&&jf(),Jt(e),null;case 19:if(Ze(ot),o=e.memoizedState,o===null)return Jt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Hl(o,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Gf(t),s!==null){for(e.flags|=128,Hl(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(ot,ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&mt()>Za&&(e.flags|=128,r=!0,Hl(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gf(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tt)return Jt(e),null}else 2*mt()-o.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,Hl(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=mt(),e.sibling=null,n=ot.current,Ge(ot,r?n&1|2:n&1),e):(Jt(e),null);case 22:case 23:return _0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(Jt(e),e.subtreeFlags&6&&(e.flags|=8192)):Jt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function zO(t,e){switch(e0(e),e.tag){case 1:return An(e.type)&&jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),Ze(xn),Ze(un),u0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return l0(e),null;case 13:if(Ze(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(ot),null;case 4:return Xa(),null;case 10:return i0(e.type._context),null;case 22:case 23:return _0(),null;case 24:return null;default:return null}}var Md=!1,nn=!1,WO=typeof WeakSet=="function"?WeakSet:Set,ne=null;function fa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function vy(t,e,n){try{n()}catch(r){dt(t,e,r)}}var l1=!1;function HO(t,e){if(ty=Vf,t=wI(),Jv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ny={focusedElem:t,selectionRange:n},Vf=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,_=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:gr(e.type,g),_);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(v){dt(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return p=l1,l1=!1,p}function yu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&vy(e,n,o)}i=i.next}while(i!==r)}}function Qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gC(t){var e=t.alternate;e!==null&&(t.alternate=null,gC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$r],delete e[$u],delete e[oy],delete e[RO],delete e[PO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yC(t){return t.tag===5||t.tag===3||t.tag===4}function u1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _y(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uf));else if(r!==4&&(t=t.child,t!==null))for(_y(t,e,n),t=t.sibling;t!==null;)_y(t,e,n),t=t.sibling}function Ey(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ey(t,e,n),t=t.sibling;t!==null;)Ey(t,e,n),t=t.sibling}var Ut=null,vr=!1;function zi(t,e,n){for(n=n.child;n!==null;)vC(t,e,n),n=n.sibling}function vC(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:nn||fa(n,e);case 6:var r=Ut,i=vr;Ut=null,zi(t,e,n),Ut=r,vr=i,Ut!==null&&(vr?(t=Ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(vr?(t=Ut,n=n.stateNode,t.nodeType===8?$m(t.parentNode,n):t.nodeType===1&&$m(t,n),Du(t)):$m(Ut,n.stateNode));break;case 4:r=Ut,i=vr,Ut=n.stateNode.containerInfo,vr=!0,zi(t,e,n),Ut=r,vr=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&vy(n,e,s),i=i.next}while(i!==r)}zi(t,e,n);break;case 1:if(!nn&&(fa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,zi(t,e,n),nn=r):zi(t,e,n);break;default:zi(t,e,n)}}function c1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WO),e.forEach(function(r){var i=eM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function mr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,vr=!1;break e;case 3:Ut=a.stateNode.containerInfo,vr=!0;break e;case 4:Ut=a.stateNode.containerInfo,vr=!0;break e}a=a.return}if(Ut===null)throw Error(K(160));vC(o,s,i),Ut=null,vr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){dt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wC(e,t),e=e.sibling}function wC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mr(e,t),Nr(t),r&4){try{yu(3,t,t.return),Qh(3,t)}catch(g){dt(t,t.return,g)}try{yu(5,t,t.return)}catch(g){dt(t,t.return,g)}}break;case 1:mr(e,t),Nr(t),r&512&&n!==null&&fa(n,n.return);break;case 5:if(mr(e,t),Nr(t),r&512&&n!==null&&fa(n,n.return),t.flags&32){var i=t.stateNode;try{xu(i,"")}catch(g){dt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ub(i,o),Hg(a,s);var u=Hg(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?Hb(i,d):c==="dangerouslySetInnerHTML"?zb(i,d):c==="children"?xu(i,d):Fv(i,c,d,u)}switch(a){case"input":Ug(i,o);break;case"textarea":jb(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?ya(i,!!o.multiple,h,!1):f!==!!o.multiple&&(o.defaultValue!=null?ya(i,!!o.multiple,o.defaultValue,!0):ya(i,!!o.multiple,o.multiple?[]:"",!1))}i[$u]=o}catch(g){dt(t,t.return,g)}}break;case 6:if(mr(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){dt(t,t.return,g)}}break;case 3:if(mr(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Du(e.containerInfo)}catch(g){dt(t,t.return,g)}break;case 4:mr(e,t),Nr(t);break;case 13:mr(e,t),Nr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(v0=mt())),r&4&&c1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(u=nn)||c,mr(e,t),nn=u):mr(e,t),Nr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ne=t,c=t.child;c!==null;){for(d=ne=c;ne!==null;){switch(f=ne,h=f.child,f.tag){case 0:case 11:case 14:case 15:yu(4,f,f.return);break;case 1:fa(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){dt(r,n,g)}}break;case 5:fa(f,f.return);break;case 22:if(f.memoizedState!==null){f1(d);continue}}h!==null?(h.return=f,ne=h):f1(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Wb("display",s))}catch(g){dt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){dt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mr(e,t),Nr(t),r&4&&c1(t);break;case 21:break;default:mr(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yC(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xu(i,""),r.flags&=-33);var o=u1(t);Ey(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=u1(t);_y(t,a,s);break;default:throw Error(K(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qO(t,e,n){ne=t,_C(t)}function _C(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Md;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nn;a=Md;var u=nn;if(Md=s,(nn=l)&&!u)for(ne=i;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?h1(i):l!==null?(l.return=s,ne=l):h1(i);for(;o!==null;)ne=o,_C(o),o=o.sibling;ne=i,Md=a,nn=u}d1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ne=o):d1(t)}}function d1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:gr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&GE(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}GE(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Du(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}nn||e.flags&512&&wy(e)}catch(f){dt(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function f1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function h1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Qh(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){dt(e,i,l)}}var o=e.return;try{wy(e)}catch(l){dt(e,o,l)}break;case 5:var s=e.return;try{wy(e)}catch(l){dt(e,s,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var KO=Math.ceil,Xf=Mi.ReactCurrentDispatcher,g0=Mi.ReactCurrentOwner,ar=Mi.ReactCurrentBatchConfig,Oe=0,Ot=null,wt=null,Ht=0,Ln=0,ha=Lo(0),Ct=0,Wu=null,Ts=0,Yh=0,y0=0,vu=null,Cn=null,v0=0,Za=1/0,ui=null,Jf=!1,Sy=null,yo=null,Ld=!1,lo=null,Zf=0,wu=0,Ty=null,ff=-1,hf=0;function vn(){return Oe&6?mt():ff!==-1?ff:ff=mt()}function vo(t){return t.mode&1?Oe&2&&Ht!==0?Ht&-Ht:AO.transition!==null?(hf===0&&(hf=rI()),hf):(t=je,t!==0||(t=window.event,t=t===void 0?16:cI(t.type)),t):1}function Tr(t,e,n,r){if(50<wu)throw wu=0,Ty=null,Error(K(185));kc(t,n,r),(!(Oe&2)||t!==Ot)&&(t===Ot&&(!(Oe&2)&&(Yh|=n),Ct===4&&Qi(t,Ht)),kn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Za=mt()+500,qh&&Vo()))}function kn(t,e){var n=t.callbackNode;AD(t,e);var r=Lf(t,t===Ot?Ht:0);if(r===0)n!==null&&SE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SE(n),e===1)t.tag===0?xO(p1.bind(null,t)):xI(p1.bind(null,t)),IO(function(){!(Oe&6)&&Vo()}),n=null;else{switch(iI(r)){case 1:n=Wv;break;case 4:n=tI;break;case 16:n=Mf;break;case 536870912:n=nI;break;default:n=Mf}n=PC(n,EC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function EC(t,e){if(ff=-1,hf=0,Oe&6)throw Error(K(327));var n=t.callbackNode;if(Sa()&&t.callbackNode!==n)return null;var r=Lf(t,t===Ot?Ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=eh(t,r);else{e=r;var i=Oe;Oe|=2;var o=TC();(Ot!==t||Ht!==e)&&(ui=null,Za=mt()+500,ms(t,e));do try{YO();break}catch(a){SC(t,a)}while(1);r0(),Xf.current=o,Oe=i,wt!==null?e=0:(Ot=null,Ht=0,e=Ct)}if(e!==0){if(e===2&&(i=Yg(t),i!==0&&(r=i,e=by(t,i))),e===1)throw n=Wu,ms(t,0),Qi(t,r),kn(t,mt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!GO(i)&&(e=eh(t,r),e===2&&(o=Yg(t),o!==0&&(r=o,e=by(t,o))),e===1))throw n=Wu,ms(t,0),Qi(t,r),kn(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Go(t,Cn,ui);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=v0+500-mt(),10<e)){if(Lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=iy(Go.bind(null,t,Cn,ui),e);break}Go(t,Cn,ui);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Sr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KO(r/1960))-r,10<r){t.timeoutHandle=iy(Go.bind(null,t,Cn,ui),r);break}Go(t,Cn,ui);break;case 5:Go(t,Cn,ui);break;default:throw Error(K(329))}}}return kn(t,mt()),t.callbackNode===n?EC.bind(null,t):null}function by(t,e){var n=vu;return t.current.memoizedState.isDehydrated&&(ms(t,e).flags|=256),t=eh(t,e),t!==2&&(e=Cn,Cn=n,e!==null&&Iy(e)),t}function Iy(t){Cn===null?Cn=t:Cn.push.apply(Cn,t)}function GO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!br(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~y0,e&=~Yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sr(e),r=1<<n;t[n]=-1,e&=~r}}function p1(t){if(Oe&6)throw Error(K(327));Sa();var e=Lf(t,0);if(!(e&1))return kn(t,mt()),null;var n=eh(t,e);if(t.tag!==0&&n===2){var r=Yg(t);r!==0&&(e=r,n=by(t,r))}if(n===1)throw n=Wu,ms(t,0),Qi(t,e),kn(t,mt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Go(t,Cn,ui),kn(t,mt()),null}function w0(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Za=mt()+500,qh&&Vo())}}function bs(t){lo!==null&&lo.tag===0&&!(Oe&6)&&Sa();var e=Oe;Oe|=1;var n=ar.transition,r=je;try{if(ar.transition=null,je=1,t)return t()}finally{je=r,ar.transition=n,Oe=e,!(Oe&6)&&Vo()}}function _0(){Ln=ha.current,Ze(ha)}function ms(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,bO(n)),wt!==null)for(n=wt.return;n!==null;){var r=n;switch(e0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jf();break;case 3:Xa(),Ze(xn),Ze(un),u0();break;case 5:l0(r);break;case 4:Xa();break;case 13:Ze(ot);break;case 19:Ze(ot);break;case 10:i0(r.type._context);break;case 22:case 23:_0()}n=n.return}if(Ot=t,wt=t=wo(t.current,null),Ht=Ln=e,Ct=0,Wu=null,y0=Yh=Ts=0,Cn=vu=null,Zo!==null){for(e=0;e<Zo.length;e++)if(n=Zo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Zo=null}return t}function SC(t,e){do{var n=wt;try{if(r0(),uf.current=Yf,Qf){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qf=!1}if(Ss=0,Dt=bt=st=null,gu=!1,ju=0,g0.current=null,n===null||n.return===null){Ct=1,Wu=e,wt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ht,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=t1(s);if(h!==null){h.flags&=-257,n1(h,s,a,o,e),h.mode&1&&e1(o,u,e),e=h,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){e1(o,u,e),E0();break e}l=Error(K(426))}}else if(tt&&a.mode&1){var _=t1(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),n1(_,s,a,o,e),t0(Ja(l,a));break e}}o=l=Ja(l,a),Ct!==4&&(Ct=2),vu===null?vu=[o]:vu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=oC(o,l,e);KE(o,m);break e;case 1:a=l;var y=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(yo===null||!yo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var v=sC(o,a,e);KE(o,v);break e}}o=o.return}while(o!==null)}IC(n)}catch(T){e=T,wt===n&&n!==null&&(wt=n=n.return);continue}break}while(1)}function TC(){var t=Xf.current;return Xf.current=Yf,t===null?Yf:t}function E0(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Ot===null||!(Ts&268435455)&&!(Yh&268435455)||Qi(Ot,Ht)}function eh(t,e){var n=Oe;Oe|=2;var r=TC();(Ot!==t||Ht!==e)&&(ui=null,ms(t,e));do try{QO();break}catch(i){SC(t,i)}while(1);if(r0(),Oe=n,Xf.current=r,wt!==null)throw Error(K(261));return Ot=null,Ht=0,Ct}function QO(){for(;wt!==null;)bC(wt)}function YO(){for(;wt!==null&&!ED();)bC(wt)}function bC(t){var e=RC(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?IC(t):wt=e,g0.current=null}function IC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=zO(n,e),n!==null){n.flags&=32767,wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,wt=null;return}}else if(n=BO(n,e,Ln),n!==null){wt=n;return}if(e=e.sibling,e!==null){wt=e;return}wt=e=t}while(e!==null);Ct===0&&(Ct=5)}function Go(t,e,n){var r=je,i=ar.transition;try{ar.transition=null,je=1,XO(t,e,n,r)}finally{ar.transition=i,je=r}return null}function XO(t,e,n,r){do Sa();while(lo!==null);if(Oe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(kD(t,o),t===Ot&&(wt=Ot=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ld||(Ld=!0,PC(Mf,function(){return Sa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var s=je;je=1;var a=Oe;Oe|=4,g0.current=null,HO(t,n),wC(n,t),yO(ny),Vf=!!ty,ny=ty=null,t.current=n,qO(n),SD(),Oe=a,je=s,ar.transition=o}else t.current=n;if(Ld&&(Ld=!1,lo=t,Zf=i),o=t.pendingLanes,o===0&&(yo=null),ID(n.stateNode),kn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Jf)throw Jf=!1,t=Sy,Sy=null,t;return Zf&1&&t.tag!==0&&Sa(),o=t.pendingLanes,o&1?t===Ty?wu++:(wu=0,Ty=t):wu=0,Vo(),null}function Sa(){if(lo!==null){var t=iI(Zf),e=ar.transition,n=je;try{if(ar.transition=null,je=16>t?16:t,lo===null)var r=!1;else{if(t=lo,lo=null,Zf=0,Oe&6)throw Error(K(331));var i=Oe;for(Oe|=4,ne=t.current;ne!==null;){var o=ne,s=o.child;if(ne.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:yu(8,c,o)}var d=c.child;if(d!==null)d.return=c,ne=d;else for(;ne!==null;){c=ne;var f=c.sibling,h=c.return;if(gC(c),c===u){ne=null;break}if(f!==null){f.return=h,ne=f;break}ne=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ne=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ne=s;else e:for(;ne!==null;){if(o=ne,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yu(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,ne=m;break e}ne=o.return}}var y=t.current;for(ne=y;ne!==null;){s=ne;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ne=E;else e:for(s=y;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qh(9,a)}}catch(T){dt(a,a.return,T)}if(a===s){ne=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,ne=v;break e}ne=a.return}}if(Oe=i,Vo(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(jh,t)}catch{}r=!0}return r}finally{je=n,ar.transition=e}}return!1}function m1(t,e,n){e=Ja(n,e),e=oC(t,e,1),t=go(t,e,1),e=vn(),t!==null&&(kc(t,1,e),kn(t,e))}function dt(t,e,n){if(t.tag===3)m1(t,t,n);else for(;e!==null;){if(e.tag===3){m1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yo===null||!yo.has(r))){t=Ja(n,t),t=sC(e,t,1),e=go(e,t,1),t=vn(),e!==null&&(kc(e,1,t),kn(e,t));break}}e=e.return}}function JO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(Ht&n)===n&&(Ct===4||Ct===3&&(Ht&130023424)===Ht&&500>mt()-v0?ms(t,0):y0|=n),kn(t,e)}function CC(t,e){e===0&&(t.mode&1?(e=Cd,Cd<<=1,!(Cd&130023424)&&(Cd=4194304)):e=1);var n=vn();t=Ci(t,e),t!==null&&(kc(t,e,n),kn(t,n))}function ZO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CC(t,n)}function eM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),CC(t,n)}var RC;RC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,jO(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,tt&&e.flags&1048576&&AI(e,Wf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;df(t,e),t=e.pendingProps;var i=Ga(e,un.current);Ea(e,n),i=d0(null,e,r,t,i,n);var o=f0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,An(r)?(o=!0,Bf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s0(e),i.updater=Kh,e.stateNode=i,i._reactInternals=e,dy(e,r,t,n),e=py(null,e,r,!0,o,n)):(e.tag=0,tt&&o&&Zv(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(df(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nM(r),t=gr(r,t),i){case 0:e=hy(null,e,r,t,n);break e;case 1:e=o1(null,e,r,t,n);break e;case 11:e=r1(null,e,r,t,n);break e;case 14:e=i1(null,e,r,gr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),hy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),o1(t,e,r,i,n);case 3:e:{if(cC(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,i=o.element,OI(t,e),Kf(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ja(Error(K(423)),e),e=s1(t,e,r,n,i);break e}else if(r!==i){i=Ja(Error(K(424)),e),e=s1(t,e,r,n,i);break e}else for(Vn=mo(e.stateNode.containerInfo.firstChild),Un=e,tt=!0,_r=null,n=$I(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qa(),r===i){e=Ri(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return FI(e),t===null&&ly(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ry(r,i)?s=null:o!==null&&ry(r,o)&&(e.flags|=32),uC(t,e),mn(t,e,s,n),e.child;case 6:return t===null&&ly(e),null;case 13:return dC(t,e,n);case 4:return a0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),r1(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ge(Hf,r._currentValue),r._currentValue=s,o!==null)if(br(o.value,s)){if(o.children===i.children&&!xn.current){e=Ri(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),uy(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(K(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),uy(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ea(e,n),i=lr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=gr(r,e.pendingProps),i=gr(r.type,i),i1(t,e,r,i,n);case 15:return aC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:gr(r,i),df(t,e),e.tag=1,An(r)?(t=!0,Bf(e)):t=!1,Ea(e,n),LI(e,r,i),dy(e,r,i,n),py(null,e,r,!0,t,n);case 19:return fC(t,e,n);case 22:return lC(t,e,n)}throw Error(K(156,e.tag))};function PC(t,e){return eI(t,e)}function tM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(t,e,n,r){return new tM(t,e,n,r)}function S0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nM(t){if(typeof t=="function")return S0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jv)return 11;if(t===Bv)return 14}return 2}function wo(t,e){var n=t.alternate;return n===null?(n=or(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function pf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")S0(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ra:return gs(n.children,i,o,e);case Uv:s=8,i|=8;break;case Mg:return t=or(12,n,e,i|2),t.elementType=Mg,t.lanes=o,t;case Lg:return t=or(13,n,e,i),t.elementType=Lg,t.lanes=o,t;case Vg:return t=or(19,n,e,i),t.elementType=Vg,t.lanes=o,t;case Vb:return Xh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mb:s=10;break e;case Lb:s=9;break e;case jv:s=11;break e;case Bv:s=14;break e;case qi:s=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=or(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function gs(t,e,n,r){return t=or(7,t,r,e),t.lanes=n,t}function Xh(t,e,n,r){return t=or(22,t,r,e),t.elementType=Vb,t.lanes=n,t.stateNode={isHidden:!1},t}function qm(t,e,n){return t=or(6,t,null,e),t.lanes=n,t}function Km(t,e,n){return e=or(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rm(0),this.expirationTimes=Rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rm(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T0(t,e,n,r,i,o,s,a,l){return t=new rM(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=or(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s0(o),t}function iM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:na,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xC(t){if(!t)return Ro;t=t._reactInternals;e:{if(Vs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(An(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(An(n))return PI(t,n,e)}return e}function AC(t,e,n,r,i,o,s,a,l){return t=T0(n,r,!0,t,i,o,s,a,l),t.context=xC(null),n=t.current,r=vn(),i=vo(n),o=_i(r,i),o.callback=e??null,go(n,o,i),t.current.lanes=i,kc(t,i,r),kn(t,r),t}function Jh(t,e,n,r){var i=e.current,o=vn(),s=vo(i);return n=xC(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=go(i,e,s),t!==null&&(Tr(t,i,s,o),lf(t,i,s)),s}function th(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function g1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function b0(t,e){g1(t,e),(t=t.alternate)&&g1(t,e)}function oM(){return null}var kC=typeof reportError=="function"?reportError:function(t){console.error(t)};function I0(t){this._internalRoot=t}Zh.prototype.render=I0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Jh(t,e,null,null)};Zh.prototype.unmount=I0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bs(function(){Jh(null,t,null,null)}),e[Ii]=null}};function Zh(t){this._internalRoot=t}Zh.prototype.unstable_scheduleHydration=function(t){if(t){var e=aI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&uI(t)}};function C0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ep(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y1(){}function sM(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=th(s);o.call(u)}}var s=AC(e,r,t,0,null,!1,!1,"",y1);return t._reactRootContainer=s,t[Ii]=s.current,Lu(t.nodeType===8?t.parentNode:t),bs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=th(l);a.call(u)}}var l=T0(t,0,!1,null,null,!1,!1,"",y1);return t._reactRootContainer=l,t[Ii]=l.current,Lu(t.nodeType===8?t.parentNode:t),bs(function(){Jh(e,l,n,r)}),l}function tp(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=th(s);a.call(l)}}Jh(e,s,t,i)}else s=sM(n,e,t,i,r);return th(s)}oI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=iu(e.pendingLanes);n!==0&&(Hv(e,n|1),kn(e,mt()),!(Oe&6)&&(Za=mt()+500,Vo()))}break;case 13:bs(function(){var r=Ci(t,1);if(r!==null){var i=vn();Tr(r,t,1,i)}}),b0(t,1)}};qv=function(t){if(t.tag===13){var e=Ci(t,134217728);if(e!==null){var n=vn();Tr(e,t,134217728,n)}b0(t,134217728)}};sI=function(t){if(t.tag===13){var e=vo(t),n=Ci(t,e);if(n!==null){var r=vn();Tr(n,t,e,r)}b0(t,e)}};aI=function(){return je};lI=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Kg=function(t,e,n){switch(e){case"input":if(Ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hh(r);if(!i)throw Error(K(90));Fb(r),Ug(r,i)}}}break;case"textarea":jb(t,n);break;case"select":e=n.value,e!=null&&ya(t,!!n.multiple,e,!1)}};Gb=w0;Qb=bs;var aM={usingClientEntryPoint:!1,Events:[Dc,aa,Hh,qb,Kb,w0]},ql={findFiberByHostInstance:Jo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},lM={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jb(t),t===null?null:t.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||oM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{jh=Vd.inject(lM),Hr=Vd}catch{}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aM;Hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C0(e))throw Error(K(200));return iM(t,e,null,n)};Hn.createRoot=function(t,e){if(!C0(t))throw Error(K(299));var n=!1,r="",i=kC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T0(t,1,!1,null,null,n,!1,r,i),t[Ii]=e.current,Lu(t.nodeType===8?t.parentNode:t),new I0(e)};Hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Jb(e),t=t===null?null:t.stateNode,t};Hn.flushSync=function(t){return bs(t)};Hn.hydrate=function(t,e,n){if(!ep(e))throw Error(K(200));return tp(null,t,e,!0,n)};Hn.hydrateRoot=function(t,e,n){if(!C0(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=kC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=AC(e,null,t,1,n??null,i,!1,o,s),t[Ii]=e.current,Lu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zh(e)};Hn.render=function(t,e,n){if(!ep(e))throw Error(K(200));return tp(null,t,e,!1,n)};Hn.unmountComponentAtNode=function(t){if(!ep(t))throw Error(K(40));return t._reactRootContainer?(bs(function(){tp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};Hn.unstable_batchedUpdates=w0;Hn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ep(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return tp(t,e,n,!1,r)};Hn.version="18.2.0-next-9e3b772b8-20220608";function NC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(NC)}catch(t){console.error(t)}}NC(),Ab.exports=Hn;var R0=Ab.exports,v1=R0;Dg.createRoot=v1.createRoot,Dg.hydrateRoot=v1.hydrateRoot;var Fr=function(){return Fr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Fr.apply(this,arguments)};function Mc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function uM(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var mf="right-scroll-bar-position",gf="width-before-scroll-bar",cM="with-scroll-bars-hidden",dM="--removed-body-scroll-bar-size";function fM(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function hM(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function pM(t,e){return hM(e||null,function(n){return t.forEach(function(r){return fM(r,n)})})}function mM(t){return t}function gM(t,e){e===void 0&&(e=mM);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function yM(t){t===void 0&&(t={});var e=gM(null);return e.options=Fr({async:!0,ssr:!1},t),e}var DC=function(t){var e=t.sideCar,n=Mc(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Fr({},n))};DC.isSideCarExport=!0;function vM(t,e){return t.useMedium(e),DC}var OC=yM(),Gm=function(){},np=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Gm,onWheelCapture:Gm,onTouchMoveCapture:Gm}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,c=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,p=t.inert,g=t.allowPinchZoom,_=t.as,m=_===void 0?"div":_,y=t.gapMode,E=Mc(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),v=f,T=pM([n,e]),b=Fr(Fr({},E),i);return w.createElement(w.Fragment,null,c&&w.createElement(v,{sideCar:OC,removeScrollBar:u,shards:d,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:y}),s?w.cloneElement(w.Children.only(a),Fr(Fr({},b),{ref:T})):w.createElement(m,Fr({},b,{className:l,ref:T}),a))});np.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};np.classNames={fullWidth:gf,zeroRight:mf};var w1,wM=function(){if(w1)return w1;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _M(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=wM();return e&&t.setAttribute("nonce",e),t}function EM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function SM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var TM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=_M())&&(EM(e,n),SM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bM=function(){var t=TM();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},MC=function(){var t=bM(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},IM={left:0,top:0,right:0,gap:0},Qm=function(t){return parseInt(t||"",10)||0},CM=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Qm(n),Qm(r),Qm(i)]},RM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return IM;var e=CM(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},PM=MC(),xM=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(cM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(mf,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(mf," .").concat(mf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(gf," .").concat(gf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(dM,": ").concat(a,`px;
  }
`)},AM=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,o=w.useMemo(function(){return RM(i)},[i]);return w.createElement(PM,{styles:xM(o,!e,i,n?"":"!important")})},Cy=!1;if(typeof window<"u")try{var $d=Object.defineProperty({},"passive",{get:function(){return Cy=!0,!0}});window.addEventListener("test",$d,$d),window.removeEventListener("test",$d,$d)}catch{Cy=!1}var Ks=Cy?{passive:!1}:!1,kM=function(t){return t.tagName==="TEXTAREA"},LC=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kM(t)&&n[e]==="visible")},NM=function(t){return LC(t,"overflowY")},DM=function(t){return LC(t,"overflowX")},_1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=VC(t,r);if(i){var o=$C(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},OM=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},MM=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},VC=function(t,e){return t==="v"?NM(e):DM(e)},$C=function(t,e){return t==="v"?OM(e):MM(e)},LM=function(t,e){return t==="h"&&e==="rtl"?-1:1},VM=function(t,e,n,r,i){var o=LM(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),u=!1,c=s>0,d=0,f=0;do{var h=$C(t,a),p=h[0],g=h[1],_=h[2],m=g-_-o*p;(p||m)&&VC(t,a)&&(d+=m,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(c&&(i&&Math.abs(d)<1||!i&&s>d)||!c&&(i&&Math.abs(f)<1||!i&&-s>f))&&(u=!0),u},Fd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},E1=function(t){return[t.deltaX,t.deltaY]},S1=function(t){return t&&"current"in t?t.current:t},$M=function(t,e){return t[0]===e[0]&&t[1]===e[1]},FM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},UM=0,Gs=[];function jM(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(UM++)[0],o=w.useState(MC)[0],s=w.useRef(t);w.useEffect(function(){s.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=uM([t.lockRef.current],(t.shards||[]).map(S1),!0).filter(Boolean);return g.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(g,_){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var m=Fd(g),y=n.current,E="deltaX"in g?g.deltaX:y[0]-m[0],v="deltaY"in g?g.deltaY:y[1]-m[1],T,b=g.target,I=Math.abs(E)>Math.abs(v)?"h":"v";if("touches"in g&&I==="h"&&b.type==="range")return!1;var R=_1(I,b);if(!R)return!0;if(R?T=I:(T=I==="v"?"h":"v",R=_1(I,b)),!R)return!1;if(!r.current&&"changedTouches"in g&&(E||v)&&(r.current=T),!T)return!0;var A=r.current||T;return VM(A,_,g,A==="h"?E:v,!0)},[]),l=w.useCallback(function(g){var _=g;if(!(!Gs.length||Gs[Gs.length-1]!==o)){var m="deltaY"in _?E1(_):Fd(_),y=e.current.filter(function(T){return T.name===_.type&&(T.target===_.target||_.target===T.shadowParent)&&$M(T.delta,m)})[0];if(y&&y.should){_.cancelable&&_.preventDefault();return}if(!y){var E=(s.current.shards||[]).map(S1).filter(Boolean).filter(function(T){return T.contains(_.target)}),v=E.length>0?a(_,E[0]):!s.current.noIsolation;v&&_.cancelable&&_.preventDefault()}}},[]),u=w.useCallback(function(g,_,m,y){var E={name:g,delta:_,target:m,should:y,shadowParent:BM(m)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(v){return v!==E})},1)},[]),c=w.useCallback(function(g){n.current=Fd(g),r.current=void 0},[]),d=w.useCallback(function(g){u(g.type,E1(g),g.target,a(g,t.lockRef.current))},[]),f=w.useCallback(function(g){u(g.type,Fd(g),g.target,a(g,t.lockRef.current))},[]);w.useEffect(function(){return Gs.push(o),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Ks),document.addEventListener("touchmove",l,Ks),document.addEventListener("touchstart",c,Ks),function(){Gs=Gs.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,Ks),document.removeEventListener("touchmove",l,Ks),document.removeEventListener("touchstart",c,Ks)}},[]);var h=t.removeScrollBar,p=t.inert;return w.createElement(w.Fragment,null,p?w.createElement(o,{styles:FM(i)}):null,h?w.createElement(AM,{gapMode:t.gapMode}):null)}function BM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zM=vM(OC,jM);var FC=w.forwardRef(function(t,e){return w.createElement(np,Fr({},t,{ref:e,sideCar:zM}))});FC.classNames=np.classNames;const WM=FC;function Kr(t){return Object.keys(t)}function Ym(t){return t&&typeof t=="object"&&!Array.isArray(t)}function P0(t,e){const n={...t},r=e;return Ym(t)&&Ym(e)&&Object.keys(e).forEach(i=>{Ym(r[i])&&i in t?n[i]=P0(n[i],r[i]):n[i]=r[i]}),n}function HM(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function qM(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function KM(t){const e=qM(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Xm(t){return`calc(${t} * var(--mantine-scale))`}function UC(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?Xm(i):i}if(typeof r=="string"){if(r.startsWith("calc(")||r.startsWith("var(")||r.startsWith("clamp("))return r;if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(t))return e?Xm(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${t}`;return e?Xm(o):o}}return r}return n}const F=UC("rem",{shouldScale:!0}),T1=UC("em");function rp(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function jC(t){return typeof t=="number"?!0:typeof t=="string"?t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!==""?!0:/[0-9]/.test(t.trim().replace("-","")[0]):!1}function $o(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==S.Fragment:!1}function ri(t){const e=w.createContext(null);return[({children:i,value:o})=>S.createElement(e.Provider,{value:o},i),()=>{const i=w.useContext(e);if(i===null)throw new Error(t);return i}]}function BC(t=null){const e=w.createContext(t);return[({children:i,value:o})=>S.createElement(e.Provider,{value:o},i),()=>w.useContext(e)]}function b1(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function nh(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function GM(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].disabled)return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].disabled)return r}return t}function QM(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].disabled)return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].disabled)return r}return t}function YM(t,e,n){return nh(t,n)===nh(e,n)}function zC({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var p;n==null||n(a);const l=Array.from(((p=nh(a.currentTarget,t))==null?void 0:p.querySelectorAll(e))||[]).filter(g=>YM(a.currentTarget,g,t)),u=l.findIndex(g=>a.currentTarget===g),c=QM(u,l,r),d=GM(u,l,r),f=o==="rtl"?d:c,h=o==="rtl"?c:d;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[f].focus(),i&&l[f].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),l[h].focus(),i&&l[h].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[d].focus(),i&&l[d].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),l[c].focus(),i&&l[c].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!l[0].disabled&&l[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const g=l.length-1;!l[g].disabled&&l[g].focus();break}}}}const XM={app:100,modal:200,popover:300,overlay:400,max:9999};function $s(t){return XM[t]}const JM=()=>{};function ZM(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||JM:n=>{var r;n.key==="Escape"&&(t(n),(r=e.onTrigger)==null||r.call(e))}}function ut(t,e="size",n=!0){if(t!==void 0)return jC(t)?n?F(t):t:`var(--${e}-${t})`}function rh(t){return ut(t,"mantine-spacing")}function On(t){return t===void 0?"var(--mantine-radius-default)":ut(t,"mantine-radius")}function jn(t){return ut(t,"mantine-font-size")}function e2(t){return ut(t,"mantine-line-height",!1)}function x0(t){if(t)return ut(t,"mantine-shadow",!1)}function gi(t,e){return n=>{t==null||t(n),e==null||e(n)}}function t2(t,e,n){var r;return n?Array.from(((r=nh(n,e))==null?void 0:r.querySelectorAll(t))||[]).findIndex(i=>i===n):null}function n2(){const[t,e]=w.useState(-1);return[t,{setHovered:e,resetHovered:()=>e(-1)}]}function r2(){return typeof process<"u"&&process.env?"production":"development"}function WC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=WC(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Mt(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=WC(t))&&(r&&(r+=" "),r+=e);return r}const i2={};function o2(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=Mt(e[r],i):e[r]=i})}),e}function ip({theme:t,classNames:e,props:n,stylesCtx:r}){const o=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,r):s||i2);return o2(o)}function ih({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((o,s)=>typeof s=="function"?{...o,...s(t,n,r)}:{...o,...s},{})}function Ud(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function HC(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function Yo(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function op(t,e){const n=Yo(t),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}const I1=["mousedown","touchstart"];function s2(t,e,n){const r=w.useRef();return w.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&t()}else r.current&&!r.current.contains(s)&&t()};return(e||I1).forEach(o=>document.addEventListener(o,i)),()=>{(e||I1).forEach(o=>document.removeEventListener(o,i))}},[r,t,n]),r}function a2(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function l2(t,e){return typeof e=="boolean"?e:typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function u2(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?e:l2(t)),o=w.useRef();return w.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(t),i(o.current.matches),a2(o.current,s=>i(s.matches))},[t]),r}const Lc=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Po(t,e){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function qC({opened:t,shouldReturnFocus:e=!0}){const n=w.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Po(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[t,e]),r}function c2(t,e="body > :not(script)"){const n=HC(),r=Array.from(document.querySelectorAll(e)).map(i=>{var l;if((l=i==null?void 0:i.shadowRoot)!=null&&l.contains(t)||i.contains(t))return;const o=i.getAttribute("aria-hidden"),s=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),o===null||o==="false"?i.setAttribute("aria-hidden","true"):!s&&!a&&i.setAttribute("data-hidden",o),{node:i,ariaHidden:s||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const d2=/input|select|textarea|button|object/,KC="a, input, select, textarea, button, object, [tabindex]";function f2(t){return t.style.display==="none"}function h2(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(f2(n))return!1;n=n.parentNode}return!0}function GC(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function Ry(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(GC(t));return(d2.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&h2(t)}function QC(t){const e=GC(t);return(Number.isNaN(e)||e>=0)&&Ry(t)}function p2(t){return Array.from(t.querySelectorAll(KC)).filter(QC)}function m2(t,e){const n=p2(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let o=r===i.activeElement||t===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(c=>c.getAttribute("type")==="radio"&&c.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;e.preventDefault();const l=n[e.shiftKey?n.length-1:0];l&&l.focus()}function g2(t=!0){const e=w.useRef(),n=w.useRef(null),r=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(KC));s=a.find(QC)||a.find(Ry)||null,!s&&Ry(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=w.useCallback(o=>{if(t){if(o===null){n.current&&(n.current(),n.current=null);return}n.current=c2(o),e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),e.current=o):e.current=null)}},[t]);return w.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const o=s=>{s.key==="Tab"&&e.current&&m2(e.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),n.current&&n.current()}},[t]),i}const y2=S["useId".toString()]||(()=>{});function v2(){const t=y2();return t?`mantine-${t.replace(/:/g,"")}`:""}function xr(t){const e=v2(),[n,r]=w.useState(e);return Lc(()=>{r(HC())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function w2(t,e,n){w.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function A0(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function _2(...t){return e=>{t.forEach(n=>A0(n,e))}}function Qt(...t){return w.useCallback(_2(...t),t)}function Pi({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,o]=w.useState(e!==void 0?e:n),s=(a,...l)=>{o(a),r==null||r(a,...l)};return t!==void 0?[t,r,!0]:[i,s,!1]}function YC(t,e){return u2("(prefers-reduced-motion: reduce)",t,e)}const XC=w.createContext(null);function k0(){const t=w.useContext(XC);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function E2(){return k0().cssVariablesResolver}function S2(){return k0().classNamesPrefix}function N0(){return k0().getStyleNonce}function T2(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function b2(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function I2(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function C2(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,l=r/60,u=a*(1-Math.abs(l%2-1)),c=o-a/2;let d,f,h;return l>=0&&l<1?(d=a,f=u,h=0):l>=1&&l<2?(d=u,f=a,h=0):l>=2&&l<3?(d=0,f=a,h=u):l>=3&&l<4?(d=0,f=u,h=a):l>=4&&l<5?(d=u,f=0,h=a):(d=a,f=0,h=u),{r:Math.round((d+c)*255),g:Math.round((f+c)*255),b:Math.round((h+c)*255),a:s||1}}function D0(t){return T2(t)?b2(t):t.startsWith("rgb")?I2(t):t.startsWith("hsl")?C2(t):{r:0,g:0,b:0,a:1}}function jd(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:o}=D0(t),s=1-e,a=l=>Math.round(l*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function oh(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function Jm(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function R2(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function P2(t){if(t.startsWith("oklch("))return(R2(t)||0)/100;const{r:e,g:n,b:r}=D0(t),i=e/255,o=n/255,s=r/255,a=Jm(i),l=Jm(o),u=Jm(s);return .2126*a+.7152*l+.0722*u}function Kl(t,e=.179){return t.startsWith("var(")?!1:P2(t)>e}function Fo({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Kl(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Kl(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Kl(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),o=i?Number(i):void 0,s=r in e.colors;if(s){const a=o!==void 0?e.colors[r][o]:e.colors[r][oh(e,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:Kl(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:Kl(t,e.luminanceThreshold),shade:o,variable:void 0}}function sn(t,e){const n=Fo({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function Py(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=sn(n.from,e),i=sn(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function gn(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const o=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${o}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=D0(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const x2=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const o=Fo({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${F(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${F(1)} solid transparent`}:{background:t,hover:jd(t,.1),color:a,border:`${F(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${F(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:gn(a,.1),hover:gn(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${F(1)} solid transparent`}}return{background:gn(t,.1),hover:gn(t,.12),color:t,border:`${F(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${F(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:gn(e.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${F(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:gn(t,.05),color:t,border:`${F(1)} solid ${t}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${F(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:"transparent",hover:gn(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${F(1)} solid transparent`}}return{background:"transparent",hover:gn(t,.12),color:t,border:`${F(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${F(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${F(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${F(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:jd(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${F(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:jd(e.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${F(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:jd(e.white,.01),color:t,border:`${F(1)} solid transparent`}:n==="gradient"?{background:Py(r,e),hover:Py(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${F(1)} solid var(--mantine-color-default-border)`}:{}},A2={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},C1="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",O0={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:A2,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:x2,autoContrast:!1,luminanceThreshold:.3,fontFamily:C1,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:C1,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:F(34),lineHeight:"1.3"},h2:{fontSize:F(26),lineHeight:"1.35"},h3:{fontSize:F(22),lineHeight:"1.4"},h4:{fontSize:F(18),lineHeight:"1.45"},h5:{fontSize:F(16),lineHeight:"1.5"},h6:{fontSize:F(14),lineHeight:"1.5"}}},fontSizes:{xs:F(12),sm:F(14),md:F(16),lg:F(18),xl:F(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:F(2),sm:F(4),md:F(8),lg:F(16),xl:F(32)},spacing:{xs:F(10),sm:F(12),md:F(16),lg:F(20),xl:F(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), 0 ${F(1)} ${F(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(10)} ${F(15)} ${F(-5)}, rgba(0, 0, 0, 0.04) 0 ${F(7)} ${F(7)} ${F(-5)}`,md:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(20)} ${F(25)} ${F(-5)}, rgba(0, 0, 0, 0.04) 0 ${F(10)} ${F(10)} ${F(-5)}`,lg:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(28)} ${F(23)} ${F(-7)}, rgba(0, 0, 0, 0.04) 0 ${F(12)} ${F(12)} ${F(-7)}`,xl:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(36)} ${F(28)} ${F(-7)}, rgba(0, 0, 0, 0.04) 0 ${F(17)} ${F(17)} ${F(-7)}`},other:{},components:{}};function R1(t){return t==="auto"||t==="dark"||t==="light"}function k2({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return R1(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&R1(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const N2="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",P1="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Zm(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function x1(t){if(!(t.primaryColor in t.colors))throw new Error(N2);if(typeof t.primaryShade=="object"&&(!Zm(t.primaryShade.dark)||!Zm(t.primaryShade.light)))throw new Error(P1);if(typeof t.primaryShade=="number"&&!Zm(t.primaryShade))throw new Error(P1)}function D2(t,e){var r;if(!e)return x1(t),t;const n=P0(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),x1(n),n}const M0=w.createContext(null),O2=()=>w.useContext(M0)||O0;function Ar(){const t=w.useContext(M0);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function JC({theme:t,children:e,inherit:n=!0}){const r=O2(),i=w.useMemo(()=>D2(n?r:O0,t),[t,r,n]);return S.createElement(M0.Provider,{value:i},e)}JC.displayName="@mantine/core/MantineThemeProvider";function M2(){const t=Ar(),e=N0(),n=Kr(t.breakpoints).reduce((r,i)=>{const o=t.breakpoints[i].includes("px"),s=KM(t.breakpoints[i]),a=o?`${s-.1}px`:T1(s-.1),l=o?`${s}px`:T1(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${l}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return S.createElement("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function eg(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function tg(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function L2(t,e){const n=eg(t.variables),r=n?tg(e,n):"",i=eg(t.dark),o=i?tg(`${e}[data-mantine-color-scheme="dark"]`,i):"",s=eg(t.light),a=s?tg(`${e}[data-mantine-color-scheme="light"]`,s):"";return`${r}${o}${a}`}function sp({color:t,theme:e,autoContrast:n=!0}){return(typeof n=="boolean"?n:e.autoContrast)&&Fo({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function A1(t,e){return sp({color:t.colors[t.primaryColor][oh(t,e)],theme:t,autoContrast:null})}function Qs(t,e,n){Kr(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const ZC=t=>{const e=oh(t,"dark"),n=oh(t,"light"),r=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:F(t.defaultRadius),i={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-color-scheme":"light dark","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":A1(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${n})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)"},dark:{"--mantine-primary-color-contrast":A1(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)"}};Qs(i.variables,t.breakpoints,"breakpoint"),Qs(i.variables,t.spacing,"spacing"),Qs(i.variables,t.fontSizes,"font-size"),Qs(i.variables,t.lineHeights,"line-height"),Qs(i.variables,t.shadows,"shadow"),Qs(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,a)=>{i.variables[`--mantine-primary-color-${a}`]=`var(--mantine-color-${t.primaryColor}-${a})`}),Kr(t.colors).forEach(s=>{t.colors[s].forEach((u,c)=>{i.variables[`--mantine-color-${s}-${c}`]=u});const a=`var(--mantine-color-${s}-${n===9?8:n+1})`,l=`var(--mantine-color-${s}-${e===9?8:e+1})`;i.light["--mantine-color-dimmed"]="var(--mantine-color-gray-6)",i.light[`--mantine-color-${s}-text`]=`var(--mantine-color-${s}-filled)`,i.light[`--mantine-color-${s}-filled`]=`var(--mantine-color-${s}-${n})`,i.light[`--mantine-color-${s}-filled-hover`]=a,i.light[`--mantine-color-${s}-light`]=gn(t.colors[s][n],.1),i.light[`--mantine-color-${s}-light-hover`]=gn(t.colors[s][n],.12),i.light[`--mantine-color-${s}-light-color`]=`var(--mantine-color-${s}-${n})`,i.light[`--mantine-color-${s}-outline`]=`var(--mantine-color-${s}-${n})`,i.light[`--mantine-color-${s}-outline-hover`]=gn(t.colors[s][n],.05),i.dark["--mantine-color-dimmed"]="var(--mantine-color-dark-2)",i.dark[`--mantine-color-${s}-text`]=`var(--mantine-color-${s}-4)`,i.dark[`--mantine-color-${s}-filled`]=`var(--mantine-color-${s}-${e})`,i.dark[`--mantine-color-${s}-filled-hover`]=l,i.dark[`--mantine-color-${s}-light`]=gn(t.colors[s][Math.max(0,e-2)],.15),i.dark[`--mantine-color-${s}-light-hover`]=gn(t.colors[s][Math.max(0,e-2)],.2),i.dark[`--mantine-color-${s}-light-color`]=`var(--mantine-color-${s}-${Math.max(e-5,0)})`,i.dark[`--mantine-color-${s}-outline`]=`var(--mantine-color-${s}-${Math.max(e-4,0)})`,i.dark[`--mantine-color-${s}-outline-hover`]=gn(t.colors[s][Math.max(e-4,0)],.05)});const o=t.headings.sizes;return Kr(o).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=o[s].fontSize,i.variables[`--mantine-${s}-line-height`]=o[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=o[s].fontWeight||t.headings.fontWeight}),i};function V2({theme:t,generator:e}){const n=ZC(t),r=e==null?void 0:e(t);return r?P0(n,r):n}const ng=ZC(O0);function $2(t){const e={variables:{},light:{},dark:{}};return Kr(t.variables).forEach(n=>{ng.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),Kr(t.light).forEach(n=>{ng.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),Kr(t.dark).forEach(n=>{ng.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function F2(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function eR({cssVariablesSelector:t}){const e=Ar(),n=N0(),r=E2(),i=V2({theme:e,generator:r}),o=t===":root",s=o?$2(i):i,a=L2(s,t);return a?S.createElement("style",{"data-mantine-styles":!0,nonce:n==null?void 0:n(),dangerouslySetInnerHTML:{__html:`${a}${o?"":F2(t)}`}}):null}eR.displayName="@mantine/CssVariables";function U2(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function Ys(t,e){var r;const n=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=e())==null||r.setAttribute("data-mantine-color-scheme",n)}function j2({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=w.useRef(),[o,s]=w.useState(()=>t.get(e)),a=r||o,l=w.useCallback(c=>{r||(Ys(c,n),s(c),t.set(c))},[t.set,a,r]),u=w.useCallback(()=>{s(e),Ys(e,n),t.clear()},[t.clear,e]);return w.useEffect(()=>(t.subscribe(l),t.unsubscribe),[t.subscribe,t.unsubscribe]),Lc(()=>{Ys(t.get(e),n)},[]),w.useEffect(()=>{var d;if(r)return Ys(r,n),()=>{};r===void 0&&Ys(o,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const c=f=>{o==="auto"&&Ys(f.matches?"dark":"light",n)};return(d=i.current)==null||d.addEventListener("change",c),()=>{var f;return(f=i.current)==null?void 0:f.removeEventListener("change",c)}},[o,r]),{colorScheme:a,setColorScheme:l,clearColorScheme:u}}function B2({respectReducedMotion:t,getRootElement:e}){Lc(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}U2();function tR({theme:t,children:e,getStyleNonce:n,withCssVariables:r=!0,cssVariablesSelector:i=":root",classNamesPrefix:o="mantine",colorSchemeManager:s=k2(),defaultColorScheme:a="light",getRootElement:l=()=>document.documentElement,cssVariablesResolver:u,forceColorScheme:c}){const{colorScheme:d,setColorScheme:f,clearColorScheme:h}=j2({defaultColorScheme:a,forceColorScheme:c,manager:s,getRootElement:l});return B2({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:l}),S.createElement(XC.Provider,{value:{colorSchemeManager:s,colorScheme:d,setColorScheme:f,clearColorScheme:h,getRootElement:l,classNamesPrefix:o,getStyleNonce:n,cssVariablesResolver:u,cssVariablesSelector:i}},S.createElement(JC,{theme:t},r&&S.createElement(eR,{cssVariablesSelector:i}),S.createElement(M2,null),e))}tR.displayName="@mantine/core/MantineProvider";function L0({classNames:t,styles:e,props:n,stylesCtx:r}){const i=Ar();return{resolvedClassNames:ip({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:ih({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const z2={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function W2({theme:t,options:e,unstyled:n}){return Mt((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||z2[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function H2({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return ip({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function q2({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return ip({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function K2({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function G2({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function Q2({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function Y2({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(o=>{var s,a;return(a=ip({theme:e,classNames:(s=e.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function X2({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function J2({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:l,rootSelector:u,props:c,stylesCtx:d}){return Mt(W2({theme:t,options:e,unstyled:a}),Y2({theme:t,themeName:n,selector:r,props:c,stylesCtx:d}),X2({options:e,classes:s,selector:r,unstyled:a}),q2({selector:r,stylesCtx:d,theme:t,classNames:o,props:c}),H2({selector:r,stylesCtx:d,options:e,props:c,theme:t}),K2({rootSelector:u,selector:r,className:l}),G2({selector:r,classes:s,unstyled:a}),Q2({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function Z2({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(o=>{var s;return ih({theme:t,styles:(s=t.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function xy({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...xy({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function eL(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...rp(n[r])}}),e),{})}function tL({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:o,themeName:s}){var a;return(a=eL([e==null?void 0:e(n,r,i),...s.map(l=>{var u,c,d;return(d=(c=(u=n.components)==null?void 0:u[l])==null?void 0:c.vars)==null?void 0:d.call(c,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:a[o]}function nL({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:l,vars:u,varsResolver:c}){return{...Z2({theme:t,themeName:e,props:i,stylesCtx:o,selector:n}),...ih({theme:t,styles:a,props:i,stylesCtx:o})[n],...ih({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...tL({theme:t,props:i,stylesCtx:o,vars:u,varsResolver:c,selector:n,themeName:e}),...s===n?xy({style:l,theme:t}):null,...xy({style:r==null?void 0:r.style,theme:t})}}function Ce({name:t,classes:e,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:l,styles:u,vars:c,varsResolver:d}){const f=Ar(),h=S2(),p=(Array.isArray(t)?t:[t]).filter(g=>g);return(g,_)=>({className:J2({theme:f,options:_,themeName:p,selector:g,classNamesPrefix:h,classNames:l,classes:e,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r}),style:nL({theme:f,themeName:p,selector:g,options:_,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:c,varsResolver:d})})}function V0(t,e){return typeof t=="boolean"?t:e.autoContrast}function Y(t,e,n){var s;const r=Ar(),i=(s=r.components[t])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...e,...o,...rp(n)}}function k1(t){return Kr(t).reduce((e,n)=>t[n]!==void 0?`${e}${HM(n)}:${t[n]};`:e,"").trim()}function rL({selector:t,styles:e,media:n}){const r=e?k1(e):"",i=Array.isArray(n)?n.map(o=>`@media${o.query}{${t}{${k1(o.styles)}}}`):[];return`${r?`${t}{${r}}`:""}${i.join("")}`.trim()}function nR({selector:t,styles:e,media:n}){const r=N0();return S.createElement("style",{"data-mantine-styles":"inline",nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:rL({selector:t,styles:e,media:n})}})}function Vc(t){const{m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,p:l,px:u,py:c,pt:d,pb:f,pl:h,pr:p,bg:g,c:_,opacity:m,ff:y,fz:E,fw:v,lts:T,ta:b,lh:I,fs:R,tt:A,td:N,w:V,miw:U,maw:z,h:$,mih:W,mah:k,bgsz:L,bgp:x,bgr:D,bga:B,pos:Q,top:ee,left:Ve,bottom:we,right:We,inset:Fe,display:Me,flex:nt,hiddenFrom:Pt,visibleFrom:Et,lightHidden:xt,darkHidden:bn,...Ae}=t;return{styleProps:rp({m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,p:l,px:u,py:c,pt:d,pb:f,pl:h,pr:p,bg:g,c:_,opacity:m,ff:y,fz:E,fw:v,lts:T,ta:b,lh:I,fs:R,tt:A,td:N,w:V,miw:U,maw:z,h:$,mih:W,mah:k,bgsz:L,bgp:x,bgr:D,bga:B,pos:Q,top:ee,left:Ve,bottom:we,right:We,inset:Fe,display:Me,flex:nt,hiddenFrom:Pt,visibleFrom:Et,lightHidden:xt,darkHidden:bn}),rest:Ae}}const iL={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},mx:{type:"spacing",property:["marginRight","marginLeft"]},my:{type:"spacing",property:["marginTop","marginBottom"]},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},px:{type:"spacing",property:["paddingRight","paddingLeft"]},py:{type:"spacing",property:["paddingTop","paddingBottom"]},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function rR(t,e){const n=Fo({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function oL(t,e){const n=Fo({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:rR(t,e)}const N1={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)"};function sL(t){return typeof t=="string"&&t in N1?N1[t]:t}function aL(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="number"||typeof t=="string"?F(t):t}function lL(t){return t}function uL(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:t}function cL(t){return typeof t=="number"?F(t):t}function dL(t,e){if(typeof t=="number")return F(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return F(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const rg={color:rR,textColor:oL,fontSize:aL,spacing:dL,identity:lL,size:cL,lineHeight:uL,fontFamily:sL};function D1(t){return t.replace("(min-width: ","").replace("em)","")}function fL({media:t,...e}){const r=Object.keys(t).sort((i,o)=>Number(D1(i))-Number(D1(o))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function hL(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function pL(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function mL(t){return typeof t=="object"&&t!==null?Kr(t).filter(e=>e!=="base"):[]}function gL(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function iR({styleProps:t,data:e,theme:n}){return fL(Kr(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom")return r;const o=e[i],s=Array.isArray(o.property)?o.property:[o.property],a=pL(t[i]);if(!hL(t[i]))return s.forEach(u=>{r.inlineStyles[u]=rg[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const l=mL(t[i]);return s.forEach(u=>{a&&(r.styles[u]=rg[o.type](a,n)),l.forEach(c=>{const d=`(min-width: ${n.breakpoints[c]})`;r.media[d]={...r.media[d],[u]:rg[o.type](gL(t[i],c),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function oR(){return`__m__-${w.useId().replace(/:/g,"")}`}function sR(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...sR(r,e)}),{}):typeof t=="function"?t(e):t??{}}function aR(t){return t.startsWith("data-")?t:`data-${t}`}function yL(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[aR(n)]=t[n]),e},{})}function lR(t){return t?typeof t=="string"?{[aR(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...lR(n)}),{}):yL(t):null}function Ay(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Ay(r,e)}),{}):typeof t=="function"?t(e):t??{}}function vL({theme:t,style:e,vars:n,styleProps:r}){const i=Ay(e,t),o=Ay(n,t);return{...i,...o,...r}}const uR=w.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:l,lightHidden:u,darkHidden:c,renderRoot:d,...f},h)=>{const p=Ar(),g=t||"div",{styleProps:_,rest:m}=Vc(f),y=oR(),E=iR({styleProps:_,theme:p,data:iL}),v={ref:h,style:vL({theme:p,style:e,vars:n,styleProps:E.inlineStyles}),className:Mt(r,{[y]:E.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":c,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${l}`]:l}),"data-variant":i,"data-size":jC(s)?void 0:s||void 0,...lR(o),...m};return S.createElement(S.Fragment,null,E.hasResponsiveStyles&&S.createElement(nR,{selector:`.${y}`,styles:E.styles,media:E.media}),typeof d=="function"?d(v):S.createElement(g,{...v}))});uR.displayName="@mantine/core/Box";const oe=uR;function cR(t){return t}function le(t){const e=w.forwardRef(t);return e.extend=cR,e}function Tn(t){const e=w.forwardRef(t);return e.extend=cR,e}const wL=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function vl(){return w.useContext(wL)}const[_L,dr]=ri("ScrollArea.Root component was not found in tree");function el(t,e){const n=Yo(e);Lc(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const EL=S.forwardRef((t,e)=>{const{style:n,...r}=t,i=dr(),[o,s]=S.useState(0),[a,l]=S.useState(0),u=!!(o&&a);return el(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),el(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),u?S.createElement("div",{...r,ref:e,style:{...n,width:o,height:a}}):null}),SL=S.forwardRef((t,e)=>{const n=dr(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.createElement(EL,{...t,ref:e}):null}),TL={scrollHideDelay:1e3,type:"hover"},dR=w.forwardRef((t,e)=>{const n=Y("ScrollAreaRoot",TL,t),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,l]=w.useState(null),[u,c]=w.useState(null),[d,f]=w.useState(null),[h,p]=w.useState(null),[g,_]=w.useState(null),[m,y]=w.useState(0),[E,v]=w.useState(0),[T,b]=w.useState(!1),[I,R]=w.useState(!1),A=Qt(e,N=>l(N));return S.createElement(_L,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:p,scrollbarXEnabled:T,onScrollbarXEnabledChange:b,scrollbarY:g,onScrollbarYChange:_,scrollbarYEnabled:I,onScrollbarYEnabledChange:R,onCornerWidthChange:y,onCornerHeightChange:v}},S.createElement(oe,{...s,ref:A,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${m}px`,"--sa-corner-height":o!=="xy"?"0px":`${E}px`}}))});dR.displayName="@mantine/core/ScrollAreaRoot";function fR(t,e){const n=t/e;return Number.isNaN(n)?0:n}function ap(t){const e=fR(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function hR(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function bL(t,[e,n]){return Math.min(n,Math.max(e,t))}function O1(t,e,n="ltr"){const r=ap(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=bL(t,l);return hR([0,s],[0,a])(u)}function IL(t,e,n,r="ltr"){const i=ap(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return hR([l,u],d)(t)}function pR(t,e){return t>0&&t<e}function sh(t){return t?parseInt(t,10):0}function ys(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t==null||t(r),(n===!1||!r.defaultPrevented)&&(e==null||e(r))}}const[CL,mR]=ri("ScrollAreaScrollbar was not found in tree"),gR=w.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:l,onWheelScroll:u,onResize:c,...d}=t,f=dr(),[h,p]=S.useState(null),g=Qt(e,R=>p(R)),_=S.useRef(null),m=S.useRef(""),{viewport:y}=f,E=n.content-n.viewport,v=Yo(u),T=Yo(a),b=op(c,10),I=R=>{if(_.current){const A=R.clientX-_.current.left,N=R.clientY-_.current.top;l({x:A,y:N})}};return w.useEffect(()=>{const R=A=>{const N=A.target;(h==null?void 0:h.contains(N))&&v(A,E)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[y,h,E,v]),w.useEffect(T,[n,T]),el(h,b),el(f.content,b),S.createElement(CL,{value:{scrollbar:h,hasThumb:r,onThumbChange:Yo(i),onThumbPointerUp:Yo(o),onThumbPositionChange:T,onThumbPointerDown:Yo(s)}},S.createElement("div",{...d,ref:g,style:{position:"absolute",...d.style},onPointerDown:ys(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),_.current=h.getBoundingClientRect(),m.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(R))}),onPointerMove:ys(t.onPointerMove,I),onPointerUp:ys(t.onPointerUp,R=>{const A=R.target;A.hasPointerCapture(R.pointerId)&&A.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=m.current,_.current=null})}))}),RL=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=dr(),[a,l]=w.useState(),u=w.useRef(null),c=Qt(e,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),S.createElement(gR,{"data-orientation":"horizontal",...o,ref:c,sizes:n,style:{...i,"--sa-thumb-width":`${ap(n)}px`},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(h),pR(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:sh(a.paddingLeft),paddingEnd:sh(a.paddingRight)}})}})}),PL=w.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=dr(),[a,l]=S.useState(),u=w.useRef(null),c=Qt(e,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),S.createElement(gR,{...o,"data-orientation":"vertical",ref:c,sizes:n,style:{"--sa-thumb-height":`${ap(n)}px`,...i},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(s.viewport){const h=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(h),pR(h,f)&&d.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:sh(a.paddingTop),paddingEnd:sh(a.paddingBottom)}})}})}),$0=w.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=vl(),o=dr(),s=w.useRef(null),a=w.useRef(0),[l,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=fR(l.viewport,l.content),d={...r,sizes:l,onSizesChange:u,hasThumb:c>0&&c<1,onThumbChange:h=>{s.current=h},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:h=>{a.current=h}},f=(h,p)=>IL(h,a.current,l,p);return n==="horizontal"?S.createElement(RL,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,p=O1(h,l,i);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,i))}}):n==="vertical"?S.createElement(PL,{...d,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,p=O1(h,l);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null}),yR=w.forwardRef((t,e)=>{const n=dr(),{forceMount:r,...i}=t,[o,s]=w.useState(!1),a=t.orientation==="horizontal",l=op(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return el(n.viewport,l),el(n.content,l),r||o?S.createElement($0,{"data-state":o?"visible":"hidden",...i,ref:e}):null}),xL=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=dr(),[o,s]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:a}=i;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),n||o?S.createElement(yR,{"data-state":o?"visible":"hidden",...r,ref:e}):null}),AL=w.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=dr(),o=t.orientation==="horizontal",[s,a]=w.useState("hidden"),l=op(()=>a("idle"),100);return w.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),w.useEffect(()=>{const{viewport:u}=i,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const h=u[c];d!==h&&(a("scrolling"),l()),d=h};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,l]),n||s!=="hidden"?S.createElement($0,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ys(t.onPointerEnter,()=>a("interacting")),onPointerLeave:ys(t.onPointerLeave,()=>a("idle"))}):null}),M1=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=dr(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return S.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?S.createElement(xL,{...r,ref:e,forceMount:n}):i.type==="scroll"?S.createElement(AL,{...r,ref:e,forceMount:n}):i.type==="auto"?S.createElement(yR,{...r,ref:e,forceMount:n}):i.type==="always"?S.createElement($0,{...r,ref:e}):null});function kL(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const NL=w.forwardRef((t,e)=>{const{style:n,...r}=t,i=dr(),o=mR(),{onThumbPositionChange:s}=o,a=Qt(e,c=>o.onThumbChange(c)),l=w.useRef(),u=op(()=>{l.current&&(l.current(),l.current=void 0)},100);return w.useEffect(()=>{const{viewport:c}=i;if(c){const d=()=>{if(u(),!l.current){const f=kL(c,s);l.current=f,s()}};return s(),c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,u,s]),S.createElement("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:ys(t.onPointerDownCapture,c=>{const f=c.target.getBoundingClientRect(),h=c.clientX-f.left,p=c.clientY-f.top;o.onThumbPointerDown({x:h,y:p})}),onPointerUp:ys(t.onPointerUp,o.onThumbPointerUp)})}),L1=S.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=mR();return n||i.hasThumb?S.createElement(NL,{ref:e,...r}):null}),vR=w.forwardRef(({children:t,style:e,...n},r)=>{const i=dr(),o=Qt(r,i.onViewportChange);return S.createElement(oe,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e}},S.createElement("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange},t))});vR.displayName="@mantine/core/ScrollAreaViewport";var F0={root:"m-d57069b5",viewport:"m-c0783ff9",viewportInner:"m-f8f631dd",scrollbar:"m-c44ba933",thumb:"m-d8b5e363",corner:"m-21657268"};const wR={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},DL=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":F(e)}}),wl=le((t,e)=>{const n=Y("ScrollArea",wR,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:l,vars:u,type:c,scrollHideDelay:d,viewportProps:f,viewportRef:h,onScrollPositionChange:p,children:g,offsetScrollbars:_,scrollbars:m,...y}=n,[E,v]=w.useState(!1),T=Ce({name:"ScrollArea",props:n,classes:F0,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:DL});return S.createElement(dR,{type:c==="never"?"always":c,scrollHideDelay:d,ref:e,scrollbars:m,...T("root"),...y},S.createElement(vR,{...f,...T("viewport"),ref:h,"data-offset-scrollbars":_===!0?"xy":_||void 0,"data-scrollbars":m||void 0,onScroll:typeof p=="function"?({currentTarget:b})=>p({x:b.scrollLeft,y:b.scrollTop}):void 0},g),(m==="xy"||m==="x")&&S.createElement(M1,{...T("scrollbar"),orientation:"horizontal","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},S.createElement(L1,{...T("thumb")})),(m==="xy"||m==="y")&&S.createElement(M1,{...T("scrollbar"),orientation:"vertical","data-hidden":c==="never"||void 0,forceMount:!0,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1)},S.createElement(L1,{...T("thumb")})),S.createElement(SL,{...T("corner"),"data-hovered":E||void 0,"data-hidden":c==="never"||void 0}))});wl.displayName="@mantine/core/ScrollArea";const U0=le((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,scrollbars:g,style:_,vars:m,...y}=Y("ScrollAreaAutosize",wR,t);return S.createElement(oe,{...y,ref:e,style:[{display:"flex",overflow:"auto"},_]},S.createElement(oe,{style:{display:"flex",flexDirection:"column",flex:1}},S.createElement(wl,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:l,offsetScrollbars:u,viewportRef:c,onScrollPositionChange:d,unstyled:f,variant:h,viewportProps:p,vars:m,scrollbars:g},n)))});wl.classes=F0;U0.displayName="@mantine/core/ScrollAreaAutosize";U0.classes=F0;wl.Autosize=U0;var _R={root:"m-87cf2631"};const OL={__staticSelector:"UnstyledButton"},Zr=Tn((t,e)=>{const n=Y("UnstyledButton",OL,t),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:l,style:u,...c}=n,d=Ce({name:o,props:n,classes:_R,className:r,style:u,classNames:a,styles:l,unstyled:s});return S.createElement(oe,{...d("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...c})});Zr.classes=_R;Zr.displayName="@mantine/core/UnstyledButton";var ER={root:"m-1b7284a3"};const ML={},LL=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:On(e),"--paper-shadow":x0(n)}}),lp=Tn((t,e)=>{const n=Y("Paper",ML,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:l,vars:u,radius:c,shadow:d,variant:f,mod:h,...p}=n,g=Ce({name:"Paper",props:n,classes:ER,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:LL});return S.createElement(oe,{ref:e,mod:[{"data-with-border":l},h],...g("root"),variant:f,...p})});lp.classes=ER;lp.displayName="@mantine/core/Paper";const Ir=Math.min,rn=Math.max,ah=Math.round,Bd=Math.floor,xo=t=>({x:t,y:t}),VL={left:"right",right:"left",bottom:"top",top:"bottom"},$L={start:"end",end:"start"};function ky(t,e,n){return rn(t,Ir(e,n))}function xi(t,e){return typeof t=="function"?t(e):t}function Cr(t){return t.split("-")[0]}function _l(t){return t.split("-")[1]}function j0(t){return t==="x"?"y":"x"}function B0(t){return t==="y"?"height":"width"}function Fs(t){return["top","bottom"].includes(Cr(t))?"y":"x"}function z0(t){return j0(Fs(t))}function FL(t,e,n){n===void 0&&(n=!1);const r=_l(t),i=z0(t),o=B0(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=lh(s)),[s,lh(s)]}function UL(t){const e=lh(t);return[Ny(t),e,Ny(e)]}function Ny(t){return t.replace(/start|end/g,e=>$L[e])}function jL(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function BL(t,e,n,r){const i=_l(t);let o=jL(Cr(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Ny)))),o}function lh(t){return t.replace(/left|right|bottom|top/g,e=>VL[e])}function zL(t){return{top:0,right:0,bottom:0,left:0,...t}}function W0(t){return typeof t!="number"?zL(t):{top:t,right:t,bottom:t,left:t}}function tl(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function V1(t,e,n){let{reference:r,floating:i}=t;const o=Fs(e),s=z0(e),a=B0(s),l=Cr(e),u=o==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:c,y:r.y-i.height};break;case"bottom":h={x:c,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(_l(e)){case"start":h[s]-=f*(n&&u?-1:1);break;case"end":h[s]+=f*(n&&u?-1:1);break}return h}const WL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:d}=V1(u,r,l),f=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:_,fn:m}=a[g],{x:y,y:E,data:v,reset:T}=await m({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:u,platform:s,elements:{reference:t,floating:e}});if(c=y??c,d=E??d,h={...h,[_]:{...h[_],...v}},T&&p<=50){p++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:c,y:d}=V1(u,f,l)),g=-1;continue}}return{x:c,y:d,placement:f,strategy:i,middlewareData:h}};async function H0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=xi(e,t),p=W0(h),_=a[f?d==="floating"?"reference":"floating":d],m=tl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{...s.floating,x:r,y:i}:s.reference,E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),v=await(o.isElement==null?void 0:o.isElement(E))?await(o.getScale==null?void 0:o.getScale(E))||{x:1,y:1}:{x:1,y:1},T=tl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:E,strategy:l}):y);return{top:(m.top-T.top+p.top)/v.y,bottom:(T.bottom-m.bottom+p.bottom)/v.y,left:(m.left-T.left+p.left)/v.x,right:(T.right-m.right+p.right)/v.x}}const $1=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=xi(t,e)||{};if(u==null)return{};const d=W0(c),f={x:n,y:r},h=z0(i),p=B0(h),g=await s.getDimensions(u),_=h==="y",m=_?"top":"left",y=_?"bottom":"right",E=_?"clientHeight":"clientWidth",v=o.reference[p]+o.reference[h]-f[h]-o.floating[p],T=f[h]-o.reference[h],b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let I=b?b[E]:0;(!I||!await(s.isElement==null?void 0:s.isElement(b)))&&(I=a.floating[E]||o.floating[p]);const R=v/2-T/2,A=I/2-g[p]/2-1,N=Ir(d[m],A),V=Ir(d[y],A),U=N,z=I-g[p]-V,$=I/2-g[p]/2+R,W=ky(U,$,z),k=!l.arrow&&_l(i)!=null&&$!=W&&o.reference[p]/2-($<U?N:V)-g[p]/2<0,L=k?$<U?$-U:$-z:0;return{[h]:f[h]+L,data:{[h]:W,centerOffset:$-W-L,...k&&{alignmentOffset:L}},reset:k}}}),SR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,..._}=xi(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=Cr(i),y=Cr(a)===a,E=await(l.isRTL==null?void 0:l.isRTL(u.floating)),v=f||(y||!g?[lh(a)]:UL(a));!f&&p!=="none"&&v.push(...BL(a,g,p,E));const T=[a,...v],b=await H0(e,_),I=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&I.push(b[m]),d){const U=FL(i,s,E);I.push(b[U[0]],b[U[1]])}if(R=[...R,{placement:i,overflows:I}],!I.every(U=>U<=0)){var A,N;const U=(((A=o.flip)==null?void 0:A.index)||0)+1,z=T[U];if(z)return{data:{index:U,overflows:R},reset:{placement:z}};let $=(N=R.filter(W=>W.overflows[0]<=0).sort((W,k)=>W.overflows[1]-k.overflows[1])[0])==null?void 0:N.placement;if(!$)switch(h){case"bestFit":{var V;const W=(V=R.map(k=>[k.placement,k.overflows.filter(L=>L>0).reduce((L,x)=>L+x,0)]).sort((k,L)=>k[1]-L[1])[0])==null?void 0:V[0];W&&($=W);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function TR(t){const e=Ir(...t.map(o=>o.left)),n=Ir(...t.map(o=>o.top)),r=rn(...t.map(o=>o.right)),i=rn(...t.map(o=>o.bottom));return{x:e,y:n,width:r-e,height:i-n}}function HL(t){const e=t.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<e.length;i++){const o=e[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>tl(TR(i)))}const bR=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=e,{padding:a=2,x:l,y:u}=xi(t,e),c=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),d=HL(c),f=tl(TR(c)),h=W0(a);function p(){if(d.length===2&&d[0].left>d[1].right&&l!=null&&u!=null)return d.find(_=>l>_.left-h.left&&l<_.right+h.right&&u>_.top-h.top&&u<_.bottom+h.bottom)||f;if(d.length>=2){if(Fs(n)==="y"){const N=d[0],V=d[d.length-1],U=Cr(n)==="top",z=N.top,$=V.bottom,W=U?N.left:V.left,k=U?N.right:V.right,L=k-W,x=$-z;return{top:z,bottom:$,left:W,right:k,width:L,height:x,x:W,y:z}}const _=Cr(n)==="left",m=rn(...d.map(N=>N.right)),y=Ir(...d.map(N=>N.left)),E=d.filter(N=>_?N.left===y:N.right===m),v=E[0].top,T=E[E.length-1].bottom,b=y,I=m,R=I-b,A=T-v;return{top:v,bottom:T,left:b,right:I,width:R,height:A,x:b,y:v}}return f}const g=await o.getElementRects({reference:{getBoundingClientRect:p},floating:r.floating,strategy:s});return i.reference.x!==g.reference.x||i.reference.y!==g.reference.y||i.reference.width!==g.reference.width||i.reference.height!==g.reference.height?{reset:{rects:g}}:{}}}};async function qL(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Cr(n),a=_l(n),l=Fs(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,d=xi(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof p=="number"&&(h=a==="end"?p*-1:p),l?{x:h*c,y:f*u}:{x:f*u,y:h*c}}const IR=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await qL(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},q0=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:m,y}=_;return{x:m,y}}},...l}=xi(t,e),u={x:n,y:r},c=await H0(e,l),d=Fs(Cr(i)),f=j0(d);let h=u[f],p=u[d];if(o){const _=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=h+c[_],E=h-c[m];h=ky(y,h,E)}if(s){const _=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=p+c[_],E=p-c[m];p=ky(y,p,E)}const g=a.fn({...e,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},KL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=xi(t,e),c={x:n,y:r},d=Fs(i),f=j0(d);let h=c[f],p=c[d];const g=xi(a,e),_=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const E=f==="y"?"height":"width",v=o.reference[f]-o.floating[E]+_.mainAxis,T=o.reference[f]+o.reference[E]-_.mainAxis;h<v?h=v:h>T&&(h=T)}if(u){var m,y;const E=f==="y"?"width":"height",v=["top","left"].includes(Cr(i)),T=o.reference[d]-o.floating[E]+(v&&((m=s.offset)==null?void 0:m[d])||0)+(v?0:_.crossAxis),b=o.reference[d]+o.reference[E]+(v?0:((y=s.offset)==null?void 0:y[d])||0)-(v?_.crossAxis:0);p<T?p=T:p>b&&(p=b)}return{[f]:h,[d]:p}}}},GL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:o}=e,{apply:s=()=>{},...a}=xi(t,e),l=await H0(e,a),u=Cr(n),c=_l(n),d=Fs(n)==="y",{width:f,height:h}=r.floating;let p,g;u==="top"||u==="bottom"?(p=u,g=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=u,p=c==="end"?"top":"bottom");const _=h-l[p],m=f-l[g],y=!e.middlewareData.shift;let E=_,v=m;if(d){const b=f-l.left-l.right;v=c||y?Ir(m,b):b}else{const b=h-l.top-l.bottom;E=c||y?Ir(_,b):b}if(y&&!c){const b=rn(l.left,0),I=rn(l.right,0),R=rn(l.top,0),A=rn(l.bottom,0);d?v=f-2*(b!==0||I!==0?b+I:rn(l.left,l.right)):E=h-2*(R!==0||A!==0?R+A:rn(l.top,l.bottom))}await s({...e,availableWidth:v,availableHeight:E});const T=await i.getDimensions(o.floating);return f!==T.width||h!==T.height?{reset:{rects:!0}}:{}}}};function Ao(t){return CR(t)?(t.nodeName||"").toLowerCase():"#document"}function Bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Li(t){var e;return(e=(CR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CR(t){return t instanceof Node||t instanceof Bn(t).Node}function Ai(t){return t instanceof Element||t instanceof Bn(t).Element}function ei(t){return t instanceof HTMLElement||t instanceof Bn(t).HTMLElement}function F1(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bn(t).ShadowRoot}function $c(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=cr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function QL(t){return["table","td","th"].includes(Ao(t))}function K0(t){const e=G0(),n=cr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function YL(t){let e=nl(t);for(;ei(e)&&!up(e);){if(K0(e))return e;e=nl(e)}return null}function G0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function up(t){return["html","body","#document"].includes(Ao(t))}function cr(t){return Bn(t).getComputedStyle(t)}function cp(t){return Ai(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nl(t){if(Ao(t)==="html")return t;const e=t.assignedSlot||t.parentNode||F1(t)&&t.host||Li(t);return F1(e)?e.host:e}function RR(t){const e=nl(t);return up(e)?t.ownerDocument?t.ownerDocument.body:t.body:ei(e)&&$c(e)?e:RR(e)}function Ei(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=RR(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Bn(i);return o?e.concat(s,s.visualViewport||[],$c(i)?i:[],s.frameElement&&n?Ei(s.frameElement):[]):e.concat(i,Ei(i,[],n))}function PR(t){const e=cr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ei(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=ah(n)!==o||ah(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Q0(t){return Ai(t)?t:t.contextElement}function Ta(t){const e=Q0(t);if(!ei(e))return xo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=PR(e);let s=(o?ah(n.width):n.width)/r,a=(o?ah(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const XL=xo(0);function xR(t){const e=Bn(t);return!G0()||!e.visualViewport?XL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bn(t)?!1:e}function Is(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Q0(t);let s=xo(1);e&&(r?Ai(r)&&(s=Ta(r)):s=Ta(t));const a=JL(o,n,r)?xR(o):xo(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Bn(o),h=r&&Ai(r)?Bn(r):r;let p=f.frameElement;for(;p&&r&&h!==f;){const g=Ta(p),_=p.getBoundingClientRect(),m=cr(p),y=_.left+(p.clientLeft+parseFloat(m.paddingLeft))*g.x,E=_.top+(p.clientTop+parseFloat(m.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=y,u+=E,p=Bn(p).frameElement}}return tl({width:c,height:d,x:l,y:u})}function ZL(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=ei(n),o=Li(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0},a=xo(1);const l=xo(0);if((i||!i&&r!=="fixed")&&((Ao(n)!=="body"||$c(o))&&(s=cp(n)),ei(n))){const u=Is(n);a=Ta(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-s.scrollLeft*a.x+l.x,y:e.y*a.y-s.scrollTop*a.y+l.y}}function eV(t){return Array.from(t.getClientRects())}function AR(t){return Is(Li(t)).left+cp(t).scrollLeft}function tV(t){const e=Li(t),n=cp(t),r=t.ownerDocument.body,i=rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+AR(t);const a=-n.scrollTop;return cr(r).direction==="rtl"&&(s+=rn(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function nV(t,e){const n=Bn(t),r=Li(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=G0();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function rV(t,e){const n=Is(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ei(t)?Ta(t):xo(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function U1(t,e,n){let r;if(e==="viewport")r=nV(t,n);else if(e==="document")r=tV(Li(t));else if(Ai(e))r=rV(e,n);else{const i=xR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return tl(r)}function kR(t,e){const n=nl(t);return n===e||!Ai(n)||up(n)?!1:cr(n).position==="fixed"||kR(n,e)}function iV(t,e){const n=e.get(t);if(n)return n;let r=Ei(t,[],!1).filter(a=>Ai(a)&&Ao(a)!=="body"),i=null;const o=cr(t).position==="fixed";let s=o?nl(t):t;for(;Ai(s)&&!up(s);){const a=cr(s),l=K0(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$c(s)&&!l&&kR(t,s))?r=r.filter(c=>c!==s):i=a,s=nl(s)}return e.set(t,r),r}function oV(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?iV(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const d=U1(e,c,i);return u.top=rn(d.top,u.top),u.right=Ir(d.right,u.right),u.bottom=Ir(d.bottom,u.bottom),u.left=rn(d.left,u.left),u},U1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sV(t){return PR(t)}function aV(t,e,n){const r=ei(e),i=Li(e),o=n==="fixed",s=Is(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=xo(0);if(r||!r&&!o)if((Ao(e)!=="body"||$c(i))&&(a=cp(e)),r){const u=Is(e,!0,o,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=AR(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function j1(t,e){return!ei(t)||cr(t).position==="fixed"?null:e?e(t):t.offsetParent}function NR(t,e){const n=Bn(t);if(!ei(t))return n;let r=j1(t,e);for(;r&&QL(r)&&cr(r).position==="static";)r=j1(r,e);return r&&(Ao(r)==="html"||Ao(r)==="body"&&cr(r).position==="static"&&!K0(r))?n:r||YL(t)||n}const lV=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||NR,o=this.getDimensions;return{reference:aV(e,await i(n),r),floating:{x:0,y:0,...await o(n)}}};function uV(t){return cr(t).direction==="rtl"}const cV={convertOffsetParentRelativeRectToViewportRelativeRect:ZL,getDocumentElement:Li,getClippingRect:oV,getOffsetParent:NR,getElementRects:lV,getClientRects:eV,getDimensions:sV,getScale:Ta,isElement:Ai,isRTL:uV};function dV(t,e){let n=null,r;const i=Li(t);function o(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=Bd(c),p=Bd(i.clientWidth-(u+d)),g=Bd(i.clientHeight-(c+f)),_=Bd(u),y={rootMargin:-h+"px "+-p+"px "+-g+"px "+-_+"px",threshold:rn(0,Ir(1,l))||1};let E=!0;function v(T){const b=T[0].intersectionRatio;if(b!==l){if(!E)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},100)}E=!1}try{n=new IntersectionObserver(v,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,y)}n.observe(t)}return s(!0),o}function fV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Q0(t),c=i||o?[...u?Ei(u):[],...Ei(e)]:[];c.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const d=u&&a?dV(u,n):null;let f=-1,h=null;s&&(h=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(e)})),n()}),u&&!l&&h.observe(u),h.observe(e));let p,g=l?Is(t):null;l&&_();function _(){const m=Is(t);g&&(m.x!==g.x||m.y!==g.y||m.width!==g.width||m.height!==g.height)&&n(),g=m,p=requestAnimationFrame(_)}return n(),()=>{c.forEach(m=>{i&&m.removeEventListener("scroll",n),o&&m.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const hV=(t,e,n)=>{const r=new Map,i={platform:cV,...n},o={...i.platform,_c:r};return WL(t,e,{...i,platform:o})},DR=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$1({element:r.current,padding:i}).fn(n):{}:r?$1({element:r,padding:i}).fn(n):{}}}};var yf=typeof document<"u"?w.useLayoutEffect:w.useEffect;function uh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!uh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!uh(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function OR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function B1(t,e){const n=OR(t);return Math.round(e*n)/n}function z1(t){const e=w.useRef(t);return yf(()=>{e.current=t}),e}function pV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,d]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=w.useState(r);uh(f,r)||h(r);const[p,g]=w.useState(null),[_,m]=w.useState(null),y=w.useCallback(k=>{k!=b.current&&(b.current=k,g(k))},[g]),E=w.useCallback(k=>{k!==I.current&&(I.current=k,m(k))},[m]),v=o||p,T=s||_,b=w.useRef(null),I=w.useRef(null),R=w.useRef(c),A=z1(l),N=z1(i),V=w.useCallback(()=>{if(!b.current||!I.current)return;const k={placement:e,strategy:n,middleware:f};N.current&&(k.platform=N.current),hV(b.current,I.current,k).then(L=>{const x={...L,isPositioned:!0};U.current&&!uh(R.current,x)&&(R.current=x,R0.flushSync(()=>{d(x)}))})},[f,e,n,N]);yf(()=>{u===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(k=>({...k,isPositioned:!1})))},[u]);const U=w.useRef(!1);yf(()=>(U.current=!0,()=>{U.current=!1}),[]),yf(()=>{if(v&&(b.current=v),T&&(I.current=T),v&&T){if(A.current)return A.current(v,T,V);V()}},[v,T,V,A]);const z=w.useMemo(()=>({reference:b,floating:I,setReference:y,setFloating:E}),[y,E]),$=w.useMemo(()=>({reference:v,floating:T}),[v,T]),W=w.useMemo(()=>{const k={position:n,left:0,top:0};if(!$.floating)return k;const L=B1($.floating,c.x),x=B1($.floating,c.y);return a?{...k,transform:"translate("+L+"px, "+x+"px)",...OR($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:x}},[n,a,$.floating,c.x,c.y]);return w.useMemo(()=>({...c,update:V,refs:z,elements:$,floatingStyles:W}),[c,V,z,$,W])}var Si=typeof document<"u"?w.useLayoutEffect:w.useEffect;let ig=!1,mV=0;const W1=()=>"floating-ui-"+mV++;function gV(){const[t,e]=w.useState(()=>ig?W1():void 0);return Si(()=>{t==null&&e(W1())},[]),w.useEffect(()=>{ig||(ig=!0)},[]),t}const yV=Lv["useId".toString()],MR=yV||gV;function vV(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const wV=w.createContext(null),_V=w.createContext(null),LR=()=>{var t;return((t=w.useContext(wV))==null?void 0:t.id)||null},Y0=()=>w.useContext(_V);function uo(t){return(t==null?void 0:t.ownerDocument)||document}function EV(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function SV(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function dp(t){return uo(t).defaultView||window}function Br(t){return t?t instanceof Element||t instanceof dp(t).Element:!1}function VR(t){return t?t instanceof HTMLElement||t instanceof dp(t).HTMLElement:!1}function TV(t){if(typeof ShadowRoot>"u")return!1;const e=dp(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function bV(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(EV())||e.test(SV()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function IV(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function $R(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function CV(t){return"nativeEvent"in t}function Dy(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&TV(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function FR(t){return"data-floating-ui-"+t}function H1(t){const e=w.useRef(t);return Si(()=>{e.current=t}),e}const q1=FR("safe-polygon");function vf(t,e,n){return n&&!$R(n)?0:typeof t=="number"?t:t==null?void 0:t[e]}function RV(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:{domReference:s,floating:a},refs:l}=t,{enabled:u=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:p=!0}=e,g=Y0(),_=LR(),m=H1(d),y=H1(c),E=w.useRef(),v=w.useRef(),T=w.useRef(),b=w.useRef(),I=w.useRef(!0),R=w.useRef(!1),A=w.useRef(()=>{}),N=w.useCallback(()=>{var $;const W=($=i.current.openEvent)==null?void 0:$.type;return(W==null?void 0:W.includes("mouse"))&&W!=="mousedown"},[i]);w.useEffect(()=>{if(!u)return;function $(){clearTimeout(v.current),clearTimeout(b.current),I.current=!0}return o.on("dismiss",$),()=>{o.off("dismiss",$)}},[u,o]),w.useEffect(()=>{if(!u||!m.current||!n)return;function $(k){N()&&r(!1,k)}const W=uo(a).documentElement;return W.addEventListener("mouseleave",$),()=>{W.removeEventListener("mouseleave",$)}},[a,n,r,u,m,i,N]);const V=w.useCallback(function($,W){W===void 0&&(W=!0);const k=vf(y.current,"close",E.current);k&&!T.current?(clearTimeout(v.current),v.current=setTimeout(()=>r(!1,$),k)):W&&(clearTimeout(v.current),r(!1,$))},[y,r]),U=w.useCallback(()=>{A.current(),T.current=void 0},[]),z=w.useCallback(()=>{if(R.current){const $=uo(l.floating.current).body;$.style.pointerEvents="",$.removeAttribute(q1),R.current=!1}},[l]);return w.useEffect(()=>{if(!u)return;function $(){return i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1}function W(x){if(clearTimeout(v.current),I.current=!1,f&&!$R(E.current)||h>0&&vf(y.current,"open")===0)return;const D=vf(y.current,"open",E.current);D?v.current=setTimeout(()=>{r(!0,x)},D):r(!0,x)}function k(x){if($())return;A.current();const D=uo(a);if(clearTimeout(b.current),m.current){n||clearTimeout(v.current),T.current=m.current({...t,tree:g,x:x.clientX,y:x.clientY,onClose(){z(),U(),V(x)}});const Q=T.current;D.addEventListener("mousemove",Q),A.current=()=>{D.removeEventListener("mousemove",Q)};return}(E.current==="touch"?!Dy(a,x.relatedTarget):!0)&&V(x)}function L(x){$()||m.current==null||m.current({...t,tree:g,x:x.clientX,y:x.clientY,onClose(){z(),U(),V(x)}})(x)}if(Br(s)){const x=s;return n&&x.addEventListener("mouseleave",L),a==null||a.addEventListener("mouseleave",L),p&&x.addEventListener("mousemove",W,{once:!0}),x.addEventListener("mouseenter",W),x.addEventListener("mouseleave",k),()=>{n&&x.removeEventListener("mouseleave",L),a==null||a.removeEventListener("mouseleave",L),p&&x.removeEventListener("mousemove",W),x.removeEventListener("mouseenter",W),x.removeEventListener("mouseleave",k)}}},[s,a,u,t,f,h,p,V,U,z,r,n,g,y,m,i]),Si(()=>{var $;if(u&&n&&($=m.current)!=null&&$.__options.blockPointerEvents&&N()){const L=uo(a).body;if(L.setAttribute(q1,""),L.style.pointerEvents="none",R.current=!0,Br(s)&&a){var W,k;const x=s,D=g==null||(W=g.nodesRef.current.find(B=>B.id===_))==null||(k=W.context)==null?void 0:k.elements.floating;return D&&(D.style.pointerEvents=""),x.style.pointerEvents="auto",a.style.pointerEvents="auto",()=>{x.style.pointerEvents="",a.style.pointerEvents=""}}}},[u,n,_,a,s,g,m,i,N]),Si(()=>{n||(E.current=void 0,U(),z())},[n,U,z]),w.useEffect(()=>()=>{U(),clearTimeout(v.current),clearTimeout(b.current),z()},[u,U,z]),w.useMemo(()=>{if(!u)return{};function $(W){E.current=W.pointerType}return{reference:{onPointerDown:$,onPointerEnter:$,onMouseMove(W){n||h===0||(clearTimeout(b.current),b.current=setTimeout(()=>{I.current||r(!0,W.nativeEvent)},h))}},floating:{onMouseEnter(){clearTimeout(v.current)},onMouseLeave(W){o.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),V(W.nativeEvent,!1)}}}},[o,u,h,n,r,V])}const UR=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),jR=()=>w.useContext(UR),PV=t=>{let{children:e,delay:n,timeoutMs:r=0}=t;const[i,o]=w.useReducer((l,u)=>({...l,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=w.useRef(null),a=w.useCallback(l=>{o({currentId:l})},[]);return Si(()=>{i.currentId?s.current===null?s.current=i.currentId:o({isInstantPhase:!0}):(o({isInstantPhase:!1}),s.current=null)},[i.currentId]),w.createElement(UR.Provider,{value:w.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,o,a])},e)},xV=(t,e)=>{let{open:n,onOpenChange:r}=t,{id:i}=e;const{currentId:o,setCurrentId:s,initialDelay:a,setState:l,timeoutMs:u}=jR();Si(()=>{o&&(l({delay:{open:1,close:vf(a,"close")}}),o!==i&&r(!1))},[i,r,l,o,a]),Si(()=>{function c(){r(!1),l({delay:a,currentId:null})}if(!n&&o===i)if(u){const d=window.setTimeout(c,u);return()=>{clearTimeout(d)}}else c()},[n,l,o,i,r,a,u]),Si(()=>{n&&s(i)},[n,s,i])};function AV(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function og(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}function kV(t){return"composedPath"in t?t.composedPath()[0]:t.target}const NV=Lv["useInsertionEffect".toString()],DV=NV||(t=>t());function wf(t){const e=w.useRef(()=>{});return DV(()=>{e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function _f(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}const OV={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},MV={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},LV=t=>{var e,n;return{escapeKeyBubbles:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePressBubbles:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function VV(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,nodeId:o,elements:{reference:s,domReference:a,floating:l},dataRef:u}=t,{enabled:c=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:p=!1,referencePressEvent:g="pointerdown",ancestorScroll:_=!1,bubbles:m}=e,y=Y0(),E=LR()!=null,v=wf(typeof f=="function"?f:()=>!1),T=typeof f=="function"?v:f,b=w.useRef(!1),{escapeKeyBubbles:I,outsidePressBubbles:R}=LV(m),A=wf(V=>{if(!n||!c||!d||V.key!=="Escape")return;const U=y?og(y.nodesRef.current,o):[];if(!I&&(V.stopPropagation(),U.length>0)){let z=!0;if(U.forEach($=>{var W;if((W=$.context)!=null&&W.open&&!$.context.dataRef.current.__escapeKeyBubbles){z=!1;return}}),!z)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,CV(V)?V.nativeEvent:V)}),N=wf(V=>{const U=b.current;if(b.current=!1,U||typeof T=="function"&&!T(V))return;const z=kV(V);if(VR(z)&&l){const k=z.clientWidth>0&&z.scrollWidth>z.clientWidth,L=z.clientHeight>0&&z.scrollHeight>z.clientHeight;let x=L&&V.offsetX>z.clientWidth;if(L&&dp(l).getComputedStyle(z).direction==="rtl"&&(x=V.offsetX<=z.offsetWidth-z.clientWidth),x||k&&V.offsetY>z.clientHeight)return}const $=y&&og(y.nodesRef.current,o).some(k=>{var L;return _f(V,(L=k.context)==null?void 0:L.elements.floating)});if(_f(V,l)||_f(V,a)||$)return;const W=y?og(y.nodesRef.current,o):[];if(W.length>0){let k=!0;if(W.forEach(L=>{var x;if((x=L.context)!=null&&x.open&&!L.context.dataRef.current.__outsidePressBubbles){k=!1;return}}),!k)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:E?{preventScroll:!0}:bV(V)||IV(V)}}),r(!1,V)});return w.useEffect(()=>{if(!n||!c)return;u.current.__escapeKeyBubbles=I,u.current.__outsidePressBubbles=R;function V($){r(!1,$)}const U=uo(l);d&&U.addEventListener("keydown",A),T&&U.addEventListener(h,N);let z=[];return _&&(Br(a)&&(z=Ei(a)),Br(l)&&(z=z.concat(Ei(l))),!Br(s)&&s&&s.contextElement&&(z=z.concat(Ei(s.contextElement)))),z=z.filter($=>{var W;return $!==((W=U.defaultView)==null?void 0:W.visualViewport)}),z.forEach($=>{$.addEventListener("scroll",V,{passive:!0})}),()=>{d&&U.removeEventListener("keydown",A),T&&U.removeEventListener(h,N),z.forEach($=>{$.removeEventListener("scroll",V)})}},[u,l,a,s,d,T,h,n,r,_,c,I,R,A,N]),w.useEffect(()=>{b.current=!1},[T,h]),w.useMemo(()=>c?{reference:{onKeyDown:A,[OV[g]]:V=>{p&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,V.nativeEvent))}},floating:{onKeyDown:A,[MV[h]]:()=>{b.current=!0}}}:{},[c,i,p,h,g,r,A])}function X0(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[o,s]=w.useState(null),a=((e=t.elements)==null?void 0:e.reference)||o,l=pV(t),u=Y0(),c=wf((v,T)=>{v&&(f.current.openEvent=T),r==null||r(v,T)}),d=w.useRef(null),f=w.useRef({}),h=w.useState(()=>vV())[0],p=MR(),g=w.useCallback(v=>{const T=Br(v)?{getBoundingClientRect:()=>v.getBoundingClientRect(),contextElement:v}:v;l.refs.setReference(T)},[l.refs]),_=w.useCallback(v=>{(Br(v)||v===null)&&(d.current=v,s(v)),(Br(l.refs.reference.current)||l.refs.reference.current===null||v!==null&&!Br(v))&&l.refs.setReference(v)},[l.refs]),m=w.useMemo(()=>({...l.refs,setReference:_,setPositionReference:g,domReference:d}),[l.refs,_,g]),y=w.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),E=w.useMemo(()=>({...l,refs:m,elements:y,dataRef:f,nodeId:i,floatingId:p,events:h,open:n,onOpenChange:c}),[l,i,p,h,n,c,m,y]);return Si(()=>{const v=u==null?void 0:u.nodesRef.current.find(T=>T.id===i);v&&(v.context=E)}),w.useMemo(()=>({...l,context:E,refs:m,elements:y}),[l,m,y,E])}function $V(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:o,refs:s,elements:{floating:a,domReference:l}}=t,{enabled:u=!0,keyboardOnly:c=!0}=e,d=w.useRef(""),f=w.useRef(!1),h=w.useRef();return w.useEffect(()=>{if(!u)return;const g=uo(a).defaultView||window;function _(){!n&&VR(l)&&l===AV(uo(l))&&(f.current=!0)}return g.addEventListener("blur",_),()=>{g.removeEventListener("blur",_)}},[a,l,n,u]),w.useEffect(()=>{if(!u)return;function p(g){(g.type==="referencePress"||g.type==="escapeKey")&&(f.current=!0)}return o.on("dismiss",p),()=>{o.off("dismiss",p)}},[o,u]),w.useEffect(()=>()=>{clearTimeout(h.current)},[]),w.useMemo(()=>u?{reference:{onPointerDown(p){let{pointerType:g}=p;d.current=g,f.current=!!(g&&c)},onMouseLeave(){f.current=!1},onFocus(p){var g;f.current||p.type==="focus"&&((g=i.current.openEvent)==null?void 0:g.type)==="mousedown"&&_f(i.current.openEvent,l)||r(!0,p.nativeEvent)},onBlur(p){f.current=!1;const g=p.relatedTarget,_=Br(g)&&g.hasAttribute(FR("focus-guard"))&&g.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{Dy(s.floating.current,g)||Dy(l,g)||_||r(!1,p.nativeEvent)})}}}:{},[u,c,l,s,i,r])}function sg(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,o)=>(o&&Object.entries(o).forEach(s=>{let[a,l]=s;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return(c=r.get(a))==null?void 0:c.map(p=>p(...f)).find(p=>p!==void 0)}}}else i[a]=l}),i),{})}}function FV(t){t===void 0&&(t=[]);const e=t,n=w.useCallback(o=>sg(o,t,"reference"),e),r=w.useCallback(o=>sg(o,t,"floating"),e),i=w.useCallback(o=>sg(o,t,"item"),t.map(o=>o==null?void 0:o.item));return w.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function UV(t,e){e===void 0&&(e={});const{open:n,floatingId:r}=t,{enabled:i=!0,role:o="dialog"}=e,s=MR();return w.useMemo(()=>{const a={id:r,role:o};return i?o==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?r:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:s}},floating:{...a,...o==="menu"&&{"aria-labelledby":s}}}:{}},[i,o,n,r,s])}function BR(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,r]=e.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return e}function K1(t,e,n,r){return t==="center"||r==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function G1(t,e,n,r,i){return t==="center"||r==="center"?{left:e}:t==="end"?{[i==="ltr"?"right":"left"]:n}:t==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const jV={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function BV({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[l,u="center"]=t.split("-"),c={width:F(e),height:F(e),transform:"rotate(45deg)",position:"absolute",[jV[l]]:F(r)},d=F(-e/2);return l==="left"?{...c,...K1(u,s,n,i),right:d,borderLeftColor:"transparent",borderBottomColor:"transparent"}:l==="right"?{...c,...K1(u,s,n,i),left:d,borderRightColor:"transparent",borderTopColor:"transparent"}:l==="top"?{...c,...G1(u,o,n,i,a),bottom:d,borderTopColor:"transparent",borderLeftColor:"transparent"}:l==="bottom"?{...c,...G1(u,o,n,i,a),top:d,borderBottomColor:"transparent",borderRightColor:"transparent"}:{}}const J0=w.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:l,...u},c)=>{const{dir:d}=vl();return o?S.createElement("div",{...u,ref:c,style:{...l,...BV({position:t,arrowSize:e,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:d,arrowX:s,arrowY:a})}}):null});J0.displayName="@mantine/core/FloatingArrow";const[zV,zR]=ri("Popover component was not found in the tree");function Z0({children:t,active:e=!0,refProp:n="ref"}){const r=g2(e),i=Qt(r,t==null?void 0:t.ref);return $o(t)?w.cloneElement(t,{[n]:i}):t}Z0.displayName="@mantine/core/FocusTrap";function WV(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const HV={},WR=w.forwardRef((t,e)=>{const{children:n,target:r,...i}=Y("Portal",HV,t),[o,s]=w.useState(!1),a=w.useRef(null);return Lc(()=>(s(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:WV(i),A0(e,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!o||!a.current?null:R0.createPortal(S.createElement(S.Fragment,null,n),a.current)});WR.displayName="@mantine/core/Portal";function Fc({withinPortal:t=!0,children:e,...n}){return t?S.createElement(WR,{...n},e):S.createElement(S.Fragment,null,e)}Fc.displayName="@mantine/core/OptionalPortal";const Gl=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${F(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),zd={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(-${F(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${F(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${F(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${F(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Gl("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Gl("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Gl("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Gl("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Gl("top"),common:{transformOrigin:"top right"}}},Q1={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function qV({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in zd?{transitionProperty:zd[t].transitionProperty,...i,...zd[t].common,...zd[t][Q1[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[Q1[e]]}}function KV({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a}){const l=Ar(),u=YC(),c=l.respectReducedMotion?u:!1,[d,f]=w.useState(c?0:t),[h,p]=w.useState(r?"entered":"exited"),g=w.useRef(-1),_=m=>{const y=m?i:o,E=m?s:a;p(m?"pre-entering":"pre-exiting"),window.clearTimeout(g.current);const v=c?0:m?t:e;if(f(v),v===0)typeof y=="function"&&y(),typeof E=="function"&&E(),p(m?"entered":"exited");else{const T=window.setTimeout(()=>{typeof y=="function"&&y(),p(m?"entering":"exiting")},10);g.current=window.setTimeout(()=>{window.clearTimeout(T),typeof E=="function"&&E(),p(m?"entered":"exited")},v)}};return Po(()=>{_(r)},[r]),w.useEffect(()=>()=>window.clearTimeout(g.current),[]),{transitionDuration:d,transitionStatus:h,transitionTimingFunction:n||"ease"}}function Uc({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:l,onEnter:u,onExited:c}){const{transitionDuration:d,transitionStatus:f,transitionTimingFunction:h}=KV({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:l,onEnter:u,onExited:c});return d===0?i?S.createElement(S.Fragment,null,o({})):t?o({display:"none"}):null:f==="exited"?t?o({display:"none"}):null:S.createElement(S.Fragment,null,o(qV({transition:e,duration:d,state:f,timingFunction:h})))}Uc.displayName="@mantine/core/Transition";var HR={dropdown:"m-38a85659",arrow:"m-a31dc6c1"};const GV={},ew=le((t,e)=>{var _,m,y,E;const n=Y("PopoverDropdown",GV,t),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:l,classNames:u,styles:c,...d}=n,f=zR(),h=qC({opened:f.opened,shouldReturnFocus:f.returnFocus}),p=f.withRoles?{"aria-labelledby":f.getTargetId(),id:f.getDropdownId(),role:"dialog",tabIndex:-1}:{},g=Qt(e,f.floating);return f.disabled?null:S.createElement(Fc,{...f.portalProps,withinPortal:f.withinPortal},S.createElement(Uc,{mounted:f.opened,...f.transitionProps,transition:((_=f.transitionProps)==null?void 0:_.transition)||"fade",duration:((m=f.transitionProps)==null?void 0:m.duration)??150,keepMounted:f.keepMounted,exitDuration:typeof((y=f.transitionProps)==null?void 0:y.exitDuration)=="number"?f.transitionProps.exitDuration:(E=f.transitionProps)==null?void 0:E.duration},v=>S.createElement(Z0,{active:f.trapFocus},S.createElement(oe,{...p,...d,variant:l,ref:g,onKeyDownCapture:ZM(f.onClose,{active:f.closeOnEscape,onTrigger:h,onKeyDown:a}),"data-position":f.placement,...f.getStyles("dropdown",{className:r,props:n,classNames:u,styles:c,style:[{...v,zIndex:f.zIndex,top:f.y??0,left:f.x??0,width:f.width==="target"?void 0:F(f.width)},i]})},s,S.createElement(J0,{ref:f.arrowRef,arrowX:f.arrowX,arrowY:f.arrowY,visible:f.withArrow,position:f.placement,arrowSize:f.arrowSize,arrowRadius:f.arrowRadius,arrowOffset:f.arrowOffset,arrowPosition:f.arrowPosition,...f.getStyles("arrow",{props:n,classNames:u,styles:c})})))))});ew.classes=HR;ew.displayName="@mantine/core/PopoverDropdown";const QV={refProp:"ref",popupType:"dialog"},qR=le((t,e)=>{const{children:n,refProp:r,popupType:i,...o}=Y("PopoverTarget",QV,t);if(!$o(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=zR(),l=Qt(a.reference,n.ref,e),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return w.cloneElement(n,{...s,...u,...a.targetProps,className:Mt(a.targetProps.className,s.className,n.props.className),[r]:l,...a.controlled?null:{onClick:a.onToggle}})});qR.displayName="@mantine/core/PopoverTarget";function KR({opened:t,floating:e,position:n,positionDependencies:r}){const[i,o]=w.useState(0);w.useEffect(()=>{if(e.refs.reference.current&&e.refs.floating.current)return fV(e.refs.reference.current,e.refs.floating.current,e.update)},[e.refs.reference.current,e.refs.floating.current,t,i,n]),Po(()=>{e.update()},r),Po(()=>{o(s=>s+1)},[t])}function YV(t,e){var r,i,o,s;const n=[IR(t.offset)];return(r=t.middlewares)!=null&&r.shift&&n.push(q0({limiter:KL()})),(i=t.middlewares)!=null&&i.flip&&n.push(SR()),(o=t.middlewares)!=null&&o.inline&&n.push(bR()),n.push(DR({element:t.arrowRef,padding:t.arrowOffset})),((s=t.middlewares)!=null&&s.size||t.width==="target")&&n.push(GL({apply({rects:a,availableWidth:l,availableHeight:u}){var f,h;const d=((f=e().refs.floating.current)==null?void 0:f.style)??{};(h=t.middlewares)!=null&&h.size&&Object.assign(d,{maxWidth:`${l}px`,maxHeight:`${u}px`}),t.width==="target"&&Object.assign(d,{width:`${a.reference.width}px`})}})),n}function XV(t){const[e,n]=Pi({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),r=()=>{var s;e&&((s=t.onClose)==null||s.call(t),n(!1))},i=()=>{var s,a;e?((s=t.onClose)==null||s.call(t),n(!1)):((a=t.onOpen)==null||a.call(t),n(!0))},o=X0({placement:t.position,middleware:YV(t,()=>o)});return KR({opened:t.opened,position:t.position,positionDependencies:t.positionDependencies||[],floating:o}),Po(()=>{var s;(s=t.onPositionChange)==null||s.call(t,o.placement)},[o.placement]),Po(()=>{var s,a;t.opened?(a=t.onOpen)==null||a.call(t):(s=t.onClose)==null||s.call(t)},[t.opened]),{floating:o,controlled:typeof t.opened=="boolean",opened:e,onClose:r,onToggle:i}}const JV={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:$s("popover"),__staticSelector:"Popover",width:"max-content"},ZV=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:On(e),"--popover-shadow":x0(n)}});function kr(t){var se,G,fe,De,Te,He;const e=Y("Popover",JV,t),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:l,width:u,middlewares:c,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:p,arrowPosition:g,unstyled:_,classNames:m,styles:y,closeOnClickOutside:E,withinPortal:v,portalProps:T,closeOnEscape:b,clickOutsideEvents:I,trapFocus:R,onClose:A,onOpen:N,onChange:V,zIndex:U,radius:z,shadow:$,id:W,defaultOpened:k,__staticSelector:L,withRoles:x,disabled:D,returnFocus:B,variant:Q,keepMounted:ee,vars:Ve,...we}=e,We=Ce({name:L,props:e,classes:HR,classNames:m,styles:y,unstyled:_,rootSelector:"dropdown",vars:Ve,varsResolver:ZV}),Fe=w.useRef(null),[Me,nt]=w.useState(null),[Pt,Et]=w.useState(null),{dir:xt}=vl(),bn=xr(W),Ae=XV({middlewares:c,width:u,position:BR(xt,r),offset:typeof i=="number"?i+(d?f/2:0):i,arrowRef:Fe,arrowOffset:h,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:k,onChange:V,onOpen:N,onClose:A});s2(()=>E&&Ae.onClose(),I,[Me,Pt]);const Gn=w.useCallback(be=>{nt(be),Ae.floating.refs.setReference(be)},[Ae.floating.refs.setReference]),X=w.useCallback(be=>{Et(be),Ae.floating.refs.setFloating(be)},[Ae.floating.refs.setFloating]);return S.createElement(zV,{value:{returnFocus:B,disabled:D,controlled:Ae.controlled,reference:Gn,floating:X,x:Ae.floating.x,y:Ae.floating.y,arrowX:(fe=(G=(se=Ae.floating)==null?void 0:se.middlewareData)==null?void 0:G.arrow)==null?void 0:fe.x,arrowY:(He=(Te=(De=Ae.floating)==null?void 0:De.middlewareData)==null?void 0:Te.arrow)==null?void 0:He.y,opened:Ae.opened,arrowRef:Fe,transitionProps:l,width:u,withArrow:d,arrowSize:f,arrowOffset:h,arrowRadius:p,arrowPosition:g,placement:Ae.floating.placement,trapFocus:R,withinPortal:v,portalProps:T,zIndex:U,radius:z,shadow:$,closeOnEscape:b,onClose:Ae.onClose,onToggle:Ae.onToggle,getTargetId:()=>`${bn}-target`,getDropdownId:()=>`${bn}-dropdown`,withRoles:x,targetProps:we,__staticSelector:L,classNames:m,styles:y,unstyled:_,variant:Q,keepMounted:ee,getStyles:We}},n)}kr.Target=qR;kr.Dropdown=ew;kr.displayName="@mantine/core/Popover";kr.extend=t=>t;var Er={root:"m-5ae2e3c",barsLoader:"m-7a2bd4cd",bar:"m-870bb79","bars-loader-animation":"m-5d2b3b9d",dotsLoader:"m-4e3f22d7",dot:"m-870c4af","loader-dots-animation":"m-aac34a1",ovalLoader:"m-b34414df","oval-loader-animation":"m-f8e89c4b"};const e$=w.forwardRef(({className:t,...e},n)=>S.createElement(oe,{component:"span",className:Mt(Er.barsLoader,t),...e,ref:n},S.createElement("span",{className:Er.bar}),S.createElement("span",{className:Er.bar}),S.createElement("span",{className:Er.bar}))),t$=w.forwardRef(({className:t,...e},n)=>S.createElement(oe,{component:"span",className:Mt(Er.dotsLoader,t),...e,ref:n},S.createElement("span",{className:Er.dot}),S.createElement("span",{className:Er.dot}),S.createElement("span",{className:Er.dot}))),n$=w.forwardRef(({className:t,...e},n)=>S.createElement(oe,{component:"span",className:Mt(Er.ovalLoader,t),...e,ref:n})),GR={bars:e$,oval:n$,dots:t$},r$={loaders:GR,type:"oval"},i$=(t,{size:e,color:n})=>({root:{"--loader-size":ut(e,"loader-size"),"--loader-color":n?sn(n,t):void 0}}),Us=le((t,e)=>{const n=Y("Loader",r$,t),{size:r,color:i,type:o,vars:s,className:a,style:l,classNames:u,styles:c,unstyled:d,loaders:f,variant:h,children:p,...g}=n,_=Ce({name:"Loader",props:n,classes:Er,className:a,style:l,classNames:u,styles:c,unstyled:d,vars:s,varsResolver:i$});return p?S.createElement(oe,{..._("root"),ref:e,...g},p):S.createElement(oe,{..._("root"),ref:e,component:f[o],variant:h,size:r,...g})});Us.defaultLoaders=GR;Us.classes=Er;Us.displayName="@mantine/core/Loader";var fp={root:"m-8d3f4000",loader:"m-302b9fb1",icon:"m-8d3afb97",group:"m-1a0f1b21"};const Y1={orientation:"horizontal"},o$=(t,{borderWidth:e})=>({group:{"--ai-border-width":F(e)}}),tw=le((t,e)=>{const n=Y("ActionIconGroup",Y1,t),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=Y("ActionIconGroup",Y1,t),p=Ce({name:"ActionIconGroup",props:n,classes:fp,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:o$,rootSelector:"group"});return S.createElement(oe,{...p("group"),ref:e,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});tw.classes=fp;tw.displayName="@mantine/core/ActionIconGroup";const s$={},a$=(t,{size:e,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=t.variantColorResolver({color:o||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":ut(e,"ai-size"),"--ai-radius":n===void 0?void 0:On(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},ko=Tn((t,e)=>{const n=Y("ActionIcon",s$,t),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:l,loading:u,loaderProps:c,size:d,color:f,radius:h,__staticSelector:p,gradient:g,vars:_,children:m,disabled:y,"data-disabled":E,autoContrast:v,mod:T,...b}=n,I=Ce({name:["ActionIcon",p],props:n,className:r,style:l,classes:fp,classNames:s,styles:a,unstyled:i,vars:_,varsResolver:a$});return S.createElement(Zr,{...I("root",{active:!y&&!u&&!E}),...b,unstyled:i,variant:o,size:d,disabled:y||u,ref:e,mod:[{loading:u,disabled:y||E},T]},S.createElement(oe,{component:"span",...I("loader"),"aria-hidden":!0},S.createElement(Us,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...c})),S.createElement(oe,{component:"span",mod:{loading:u},...I("icon")},m))});ko.classes=fp;ko.displayName="@mantine/core/ActionIcon";ko.Group=tw;const QR=w.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>S.createElement("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n},S.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})));QR.displayName="@mantine/core/CloseIcon";var YR={root:"m-86a44da5","root--subtle":"m-220c80f2"};const l$={variant:"subtle"},u$=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":ut(e,"cb-size"),"--cb-radius":n===void 0?void 0:On(n),"--cb-icon-size":F(r)}}),jc=Tn((t,e)=>{const n=Y("CloseButton",l$,t),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:l,style:u,styles:c,unstyled:d,"data-disabled":f,disabled:h,variant:p,icon:g,mod:_,...m}=n,y=Ce({name:"CloseButton",props:n,className:a,style:u,classes:YR,classNames:l,styles:c,unstyled:d,vars:o,varsResolver:u$});return S.createElement(Zr,{ref:e,...m,unstyled:d,variant:p,disabled:h,mod:[{disabled:h||f},_],...y("root",{variant:p,active:!0})},g||S.createElement(QR,null),i)});jc.classes=YR;jc.displayName="@mantine/core/CloseButton";var XR={root:"m-9814e45f"};const c$={zIndex:$s("modal")},d$=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&gn(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${F(i)})`:void 0,"--overlay-radius":o===void 0?void 0:On(o),"--overlay-z-index":s==null?void 0:s.toString()}}),nw=Tn((t,e)=>{const n=Y("Overlay",c$,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fixed:u,center:c,children:d,radius:f,zIndex:h,gradient:p,blur:g,color:_,backgroundOpacity:m,mod:y,...E}=n,v=Ce({name:"Overlay",props:n,classes:XR,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:d$});return S.createElement(oe,{ref:e,...v("root"),mod:[{center:c,fixed:u},y],...E},d)});nw.classes=XR;nw.displayName="@mantine/core/Overlay";const[f$,Vi]=ri("ModalBase component was not found in tree");function h$({opened:t,transitionDuration:e}){const[n,r]=w.useState(t),i=w.useRef(),s=YC()?0:e;return w.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[t,s]),n}function p$({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=xr(t),[l,u]=w.useState(!1),[c,d]=w.useState(!1),f=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,h=h$({opened:n,transitionDuration:f});return w2("keydown",p=>{!r&&p.key==="Escape"&&i&&o()}),qC({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:l,bodyMounted:c,shouldLockScroll:h,setTitleMounted:u,setBodyMounted:d}}const m$=w.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,trapFocus:o,closeOnEscape:s,returnFocus:a,closeOnClickOutside:l,withinPortal:u,portalProps:c,lockScroll:d,children:f,zIndex:h,shadow:p,padding:g,__vars:_,unstyled:m,removeScrollProps:y,...E},v)=>{const{_id:T,titleMounted:b,bodyMounted:I,shouldLockScroll:R,setTitleMounted:A,setBodyMounted:N}=p$({id:r,transitionProps:i,opened:e,trapFocus:o,closeOnEscape:s,onClose:n,returnFocus:a});return S.createElement(Fc,{...c,withinPortal:u},S.createElement(f$,{value:{opened:e,onClose:n,closeOnClickOutside:l,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${T}-title`,getBodyId:()=>`${T}-body`,titleMounted:b,bodyMounted:I,setTitleMounted:A,setBodyMounted:N,trapFocus:o,closeOnEscape:s,zIndex:h,unstyled:m}},S.createElement(WM,{enabled:R&&d,...y},S.createElement(oe,{ref:v,...E,__vars:{..._,"--mb-z-index":(h||$s("modal")).toString(),"--mb-shadow":x0(p),"--mb-padding":rh(g)}},f))))});function g$(){const t=Vi();return w.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var rl={title:"m-615af6c9",header:"m-b5489c3c",inner:"m-60c222c7",content:"m-fd1ab0aa",close:"m-606cb269",body:"m-5df29311"};const JR=w.forwardRef(({className:t,...e},n)=>{const r=g$(),i=Vi();return S.createElement(oe,{ref:n,...e,id:r,className:Mt({[rl.body]:!i.unstyled},t)})});JR.displayName="@mantine/core/ModalBaseBody";const ZR=w.forwardRef(({className:t,onClick:e,...n},r)=>{const i=Vi();return S.createElement(jc,{ref:r,...n,onClick:o=>{i.onClose(),e==null||e(o)},className:Mt({[rl.close]:!i.unstyled},t),unstyled:i.unstyled})});ZR.displayName="@mantine/core/ModalBaseCloseButton";const y$=w.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=Vi(),l=u=>{var d;((d=u.target)==null?void 0:d.getAttribute("data-mantine-stop-propagation"))!=="true"&&u.key==="Escape"&&a.closeOnEscape&&a.onClose(),r==null||r(u)};return S.createElement(Uc,{mounted:a.opened,transition:"pop",...a.transitionProps,...t},u=>S.createElement("div",{...n,className:Mt({[rl.inner]:!a.unstyled},n.className)},S.createElement(Z0,{active:a.opened&&a.trapFocus},S.createElement(lp,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,onKeyDown:l,ref:s,style:[i,u],className:Mt({[rl.content]:!a.unstyled},e),unstyled:a.unstyled},o.children))))}),eP=w.forwardRef(({className:t,...e},n)=>{const r=Vi();return S.createElement(oe,{component:"header",ref:n,className:Mt({[rl.header]:!r.unstyled},t),...e})});eP.displayName="@mantine/core/ModalBaseHeader";const v$={duration:200,timingFunction:"ease",transition:"fade"};function w$(t){const e=Vi();return{...v$,...e.transitionProps,...t}}const tP=w.forwardRef(({onClick:t,transitionProps:e,style:n,...r},i)=>{const o=Vi(),s=w$(e);return S.createElement(Uc,{mounted:o.opened,...s,transition:"fade"},a=>S.createElement(nw,{ref:i,fixed:!0,style:[n,a],zIndex:o.zIndex,unstyled:o.unstyled,onClick:l=>{t==null||t(l),o.closeOnClickOutside&&o.onClose()},...r}))});tP.displayName="@mantine/core/ModalBaseOverlay";function _$(){const t=Vi();return w.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const nP=w.forwardRef(({className:t,...e},n)=>{const r=_$(),i=Vi();return S.createElement(oe,{component:"h2",ref:n,className:Mt({[rl.title]:!i.unstyled},t),...e,id:r})});nP.displayName="@mantine/core/ModalBaseTitle";function E$({children:t}){return S.createElement(S.Fragment,null,t)}const[S$,Bc]=BC({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var fr={wrapper:"m-6c018570",input:"m-8fb7ebe7",section:"m-82577fc2",placeholder:"m-88bacfd0",root:"m-46b77525",label:"m-8fdc1311",required:"m-78a94662",error:"m-8f816625",description:"m-fe47ce59"};const X1={},T$=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${jn(e)} - ${F(2)})`}}),zc=le((t,e)=>{const n=Y("InputDescription",X1,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=Y("InputDescription",X1,n),p=Bc(),g=Ce({name:["InputWrapper",c],props:n,classes:fr,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:l,varsResolver:T$}),_=d&&(p==null?void 0:p.getStyles)||g;return S.createElement(oe,{component:"p",ref:e,variant:f,size:u,..._("description"),...h})});zc.classes=fr;zc.displayName="@mantine/core/InputDescription";const b$={},I$=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${jn(e)} - ${F(2)})`}}),hp=le((t,e)=>{const n=Y("InputError",b$,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,__staticSelector:c,__inheritStyles:d=!0,variant:f,...h}=n,p=Ce({name:["InputWrapper",c],props:n,classes:fr,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:l,varsResolver:I$}),g=Bc(),_=d&&(g==null?void 0:g.getStyles)||p;return S.createElement(oe,{component:"p",ref:e,variant:f,size:u,..._("error"),...h})});hp.classes=fr;hp.displayName="@mantine/core/InputError";const J1={labelElement:"label"},C$=(t,{size:e})=>({label:{"--input-label-size":jn(e),"--input-asterisk-color":void 0}}),Wc=le((t,e)=>{const n=Y("InputLabel",J1,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,labelElement:u,size:c,required:d,htmlFor:f,onMouseDown:h,children:p,__staticSelector:g,variant:_,mod:m,...y}=Y("InputLabel",J1,n),E=Ce({name:["InputWrapper",g],props:n,classes:fr,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:l,varsResolver:C$}),v=Bc(),T=(v==null?void 0:v.getStyles)||E;return S.createElement(oe,{...T("label"),component:u,variant:_,size:c,ref:e,htmlFor:u==="label"?f:void 0,mod:[{required:d},m],onMouseDown:b=>{h==null||h(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault()},...y},p,d&&S.createElement("span",{...T("required"),"aria-hidden":!0}," *"))});Wc.classes=fr;Wc.displayName="@mantine/core/InputLabel";const Z1={},rw=le((t,e)=>{const n=Y("InputPlaceholder",Z1,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,__staticSelector:u,variant:c,error:d,mod:f,...h}=Y("InputPlaceholder",Z1,n),p=Ce({name:["InputPlaceholder",u],props:n,classes:fr,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return S.createElement(oe,{...p("placeholder"),mod:[{error:!!d},f],component:"span",variant:c,ref:e,...h})});rw.classes=fr;rw.displayName="@mantine/core/InputPlaceholder";function R$(t,{hasDescription:e,hasError:n}){const r=t.findIndex(l=>l==="input"),i=t[r-1],o=t[r+1];return{offsetBottom:e&&o==="description"||n&&o==="error",offsetTop:e&&i==="description"||n&&i==="error"}}const P$={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},x$=(t,{size:e})=>({label:{"--input-label-size":jn(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${jn(e)} - ${F(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${jn(e)} - ${F(2)})`}}),iw=le((t,e)=>{const n=Y("InputWrapper",P$,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,size:u,variant:c,__staticSelector:d,inputContainer:f,inputWrapperOrder:h,label:p,error:g,description:_,labelProps:m,descriptionProps:y,errorProps:E,labelElement:v,children:T,withAsterisk:b,id:I,required:R,__stylesApiProps:A,mod:N,...V}=n,U=Ce({name:["InputWrapper",d],props:A||n,classes:fr,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:x$}),z={size:u,variant:c,__staticSelector:d},$=xr(I),W=typeof b=="boolean"?b:R,k=(E==null?void 0:E.id)||`${$}-error`,L=(y==null?void 0:y.id)||`${$}-description`,x=$,D=!!g&&typeof g!="boolean",B=!!_,Q=`${D?k:""} ${B?L:""}`,ee=Q.trim().length>0?Q.trim():void 0,Ve=(m==null?void 0:m.id)||`${$}-label`,we=p&&S.createElement(Wc,{key:"label",labelElement:v,id:Ve,htmlFor:x,required:W,...z,...m},p),We=B&&S.createElement(zc,{key:"description",...y,...z,size:(y==null?void 0:y.size)||z.size,id:(y==null?void 0:y.id)||L},_),Fe=S.createElement(S.Fragment,{key:"input"},f(T)),Me=D&&S.createElement(hp,{...E,...z,size:(E==null?void 0:E.size)||z.size,key:"error",id:(E==null?void 0:E.id)||k},g),nt=h.map(Pt=>{switch(Pt){case"label":return we;case"input":return Fe;case"description":return We;case"error":return Me;default:return null}});return S.createElement(S$,{value:{getStyles:U,describedBy:ee,inputId:x,labelId:Ve,...R$(h,{hasDescription:B,hasError:D})}},S.createElement(oe,{ref:e,variant:c,size:u,mod:[{error:!!g},N],...U("root"),...V},nt))});iw.classes=fr;iw.displayName="@mantine/core/InputWrapper";const A$={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},k$=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":ut(e.size,"input-height"),"--input-fz":jn(e.size),"--input-radius":e.radius===void 0?void 0:On(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?F(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?F(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?ut(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Lt=Tn((t,e)=>{const n=Y("Input",A$,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:l,__staticSelector:u,__stylesApiProps:c,size:d,wrapperProps:f,error:h,disabled:p,leftSection:g,leftSectionProps:_,leftSectionWidth:m,rightSection:y,rightSectionProps:E,rightSectionWidth:v,rightSectionPointerEvents:T,leftSectionPointerEvents:b,variant:I,vars:R,pointer:A,multiline:N,radius:V,id:U,withAria:z,withErrorStyles:$,mod:W,...k}=n,{styleProps:L,rest:x}=Vc(k),D=Bc(),B={offsetBottom:D==null?void 0:D.offsetBottom,offsetTop:D==null?void 0:D.offsetTop},Q=Ce({name:["Input",u],props:c||n,classes:fr,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:B,rootSelector:"wrapper",vars:R,varsResolver:k$}),ee=z?{required:l,disabled:p,"aria-invalid":!!h,"aria-describedby":D==null?void 0:D.describedBy,id:(D==null?void 0:D.inputId)||U}:{};return S.createElement(oe,{...Q("wrapper"),...L,...f,mod:[{error:!!h&&$,pointer:A,disabled:p,multiline:N,"data-with-right-section":!!y,"data-with-left-section":!!g},W],variant:I,size:d},g&&S.createElement("div",{..._,"data-position":"left",...Q("section",{className:_==null?void 0:_.className,style:_==null?void 0:_.style})},g),S.createElement(oe,{component:"input",...x,...ee,ref:e,required:l,mod:{disabled:p,error:!!h&&$},variant:I,...Q("input")}),y&&S.createElement("div",{...E,"data-position":"right",...Q("section",{className:E==null?void 0:E.className,style:E==null?void 0:E.style})},y))});Lt.classes=fr;Lt.Wrapper=iw;Lt.Label=Wc;Lt.Error=hp;Lt.Description=zc;Lt.Placeholder=rw;Lt.displayName="@mantine/core/Input";function N$(t,e,n){const r=Y(t,e,n),{label:i,description:o,error:s,required:a,classNames:l,styles:u,className:c,unstyled:d,__staticSelector:f,__stylesApiProps:h,errorProps:p,labelProps:g,descriptionProps:_,wrapperProps:m,id:y,size:E,style:v,inputContainer:T,inputWrapperOrder:b,withAsterisk:I,variant:R,vars:A,mod:N,...V}=r,{styleProps:U,rest:z}=Vc(V),$={label:i,description:o,error:s,required:a,classNames:l,className:c,__staticSelector:f,__stylesApiProps:h||r,errorProps:p,labelProps:g,descriptionProps:_,unstyled:d,styles:u,size:E,style:v,inputContainer:T,inputWrapperOrder:b,withAsterisk:I,variant:R,id:y,mod:N,...m};return{...z,classNames:l,styles:u,unstyled:d,wrapperProps:{...$,...U},inputProps:{required:a,classNames:l,styles:u,unstyled:d,size:E,__staticSelector:f,__stylesApiProps:h||r,error:s,variant:R,id:y}}}const D$={__staticSelector:"InputBase",withAria:!0},ii=Tn((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=N$("InputBase",D$,t);return S.createElement(Lt.Wrapper,{...r},S.createElement(Lt,{...n,...i,ref:e}))});ii.classes={...Lt.classes,...Lt.Wrapper.classes};ii.displayName="@mantine/core/InputBase";const O$={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var rP={root:"m-8bffd616"};const M$={},at=Tn((t,e)=>{const n=Y("Flex",M$,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:g,..._}=n,m=Ce({name:"Flex",classes:rP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l}),y=Ar(),E=oR(),v=iR({styleProps:{gap:u,rowGap:c,columnGap:d,align:f,justify:h,wrap:p,direction:g},theme:y,data:O$});return S.createElement(S.Fragment,null,v.hasResponsiveStyles&&S.createElement(nR,{selector:`.${E}`,styles:v.styles,media:v.media}),S.createElement(oe,{ref:e,...m("root",{className:E,style:rp(v.inlineStyles)}),..._}))});at.classes=rP;at.displayName="@mantine/core/Flex";var iP={root:"m-66836ed3",wrapper:"m-a5d60502",body:"m-667c2793",title:"m-6a03f287",label:"m-698f4f23",icon:"m-667f2a6a",message:"m-7fa78076",closeButton:"m-87f54839"};const L$={},V$=(t,{radius:e,color:n,variant:r,autoContrast:i})=>{const o=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:r||"light",autoContrast:i});return{root:{"--alert-radius":e===void 0?void 0:On(e),"--alert-bg":n||r?o.background:void 0,"--alert-color":o.color,"--alert-bd":n||r?o.border:void 0}}},ow=le((t,e)=>{const n=Y("Alert",L$,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,radius:u,color:c,title:d,children:f,id:h,icon:p,withCloseButton:g,onClose:_,closeButtonLabel:m,variant:y,autoContrast:E,...v}=n,T=Ce({name:"Alert",classes:iP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:V$}),b=xr(h),I=d&&`${b}-title`||void 0,R=`${b}-body`;return S.createElement(oe,{id:b,...T("root",{variant:y}),variant:y,ref:e,...v,role:"alert","aria-describedby":R,"aria-labelledby":I},S.createElement("div",{...T("wrapper")},p&&S.createElement("div",{...T("icon")},p),S.createElement("div",{...T("body")},d&&S.createElement("div",{...T("title"),"data-with-close-button":g||void 0},S.createElement("span",{id:I,...T("label")},d)),f&&S.createElement("div",{id:R,...T("message"),"data-variant":y},f)),g&&S.createElement(jc,{...T("closeButton"),onClick:_,variant:"transparent",size:16,iconSize:16,"aria-label":m,unstyled:a})))});ow.classes=iP;ow.displayName="@mantine/core/Alert";var oP={root:"m-b6d8b162"};function $$(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const F$={inherit:!1},U$=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":jn(i),"--text-lh":e2(i),"--text-gradient":e==="gradient"?Py(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?sn(o,t):void 0}}),js=Tn((t,e)=>{const n=Y("Text",F$,t),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:l,__staticSelector:u,vars:c,className:d,style:f,classNames:h,styles:p,unstyled:g,variant:_,mod:m,size:y,...E}=n,v=Ce({name:["Text",u],props:n,classes:oP,className:d,style:f,classNames:h,styles:p,unstyled:g,vars:c,varsResolver:U$});return S.createElement(oe,{...v("root",{focusable:!0}),ref:e,component:l?"span":"p",variant:_,mod:[{"data-truncate":$$(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},m],size:y,...E})});js.classes=oP;js.displayName="@mantine/core/Text";var sP={root:"m-849cf0da"};const j$={underline:"hover"},sw=Tn((t,e)=>{const{underline:n,className:r,unstyled:i,mod:o,...s}=Y("Anchor",j$,t);return S.createElement(js,{component:"a",ref:e,className:Mt({[sP.root]:!i},r),...s,mod:[{underline:n},o],__staticSelector:"Anchor",unstyled:i})});sw.classes=sP;sw.displayName="@mantine/core/Anchor";function aP(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>aP(e))}:t}function B$(t){return t?t.map(e=>aP(e)):[]}function lP(t){return t.reduce((e,n)=>"group"in n?{...e,...lP(n.items)}:(e[n.value]=n,e),{})}var Dn={dropdown:"m-88b62a41",options:"m-b2821a6e",option:"m-92253aa5",search:"m-985517d8",empty:"m-2530cd1d",header:"m-858f94bd",footer:"m-82b967cb",group:"m-254f3e4f",groupLabel:"m-2bb2e9e5",chevron:"m-2943220b",optionsDropdownOption:"m-390b5f4",optionsDropdownCheckIcon:"m-8ee53fc2"};const z$={error:null},W$=(t,{size:e})=>({chevron:{"--combobox-chevron-size":ut(e,"combobox-chevron-size")}}),aw=le((t,e)=>{const n=Y("ComboboxChevron",z$,t),{size:r,error:i,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,mod:d,...f}=n,h=Ce({name:"ComboboxChevron",classes:Dn,props:n,style:o,className:s,classNames:a,styles:l,unstyled:u,vars:c,varsResolver:W$,rootSelector:"chevron"});return S.createElement(oe,{component:"svg",...f,...h("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},d],ref:e},S.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))});aw.classes=Dn;aw.displayName="@mantine/core/ComboboxChevron";const[H$,hr]=ri("Combobox component was not found in tree"),uP=w.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:r,...i},o)=>S.createElement(jc,{ref:o,size:t||"sm",variant:"transparent",tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),e==null||e(s)},onClick:s=>{r(),n==null||n(s)}}));uP.displayName="@mantine/core/ComboboxClearButton";const q$={},lw=le((t,e)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=Y("ComboboxDropdown",q$,t),l=hr();return S.createElement(kr.Dropdown,{...a,ref:e,role:"presentation","data-hidden":s||void 0,...l.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});lw.classes=Dn;lw.displayName="@mantine/core/ComboboxDropdown";const K$={refProp:"ref"},cP=le((t,e)=>{const{children:n,refProp:r}=Y("ComboboxDropdownTarget",K$,t);if(hr(),!$o(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return S.createElement(kr.Target,{ref:e,refProp:r},n)});cP.displayName="@mantine/core/ComboboxDropdownTarget";const G$={},uw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Y("ComboboxEmpty",G$,t),l=hr();return S.createElement(oe,{ref:e,...l.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});uw.classes=Dn;uw.displayName="@mantine/core/ComboboxEmpty";function cw({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:r,targetType:i}){const o=hr(),[s,a]=w.useState(null),l=c=>{if(t==null||t(c),!o.readOnly&&e){if(c.nativeEvent.code==="ArrowDown"&&(c.preventDefault(),o.store.dropdownOpened?a(o.store.selectNextOption()):(o.store.openDropdown("keyboard"),a(o.store.selectActiveOption()))),c.nativeEvent.code==="ArrowUp"&&(c.preventDefault(),o.store.dropdownOpened?a(o.store.selectPreviousOption()):(o.store.openDropdown("keyboard"),a(o.store.selectActiveOption()))),c.nativeEvent.code==="Enter"||c.nativeEvent.code==="NumpadEnter"){const d=o.store.getSelectedOptionIndex();o.store.dropdownOpened&&d!==-1?(c.preventDefault(),o.store.clickSelectedOption()):i==="button"&&(c.preventDefault(),o.store.openDropdown("keyboard"))}c.nativeEvent.code==="Escape"&&o.store.closeDropdown("keyboard"),c.nativeEvent.code==="Space"&&i==="button"&&(c.preventDefault(),o.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(o.store.listId&&o.store.dropdownOpened)||void 0,"aria-controls":o.store.listId,"aria-activedescendant":o.store.dropdownOpened&&s||void 0,autoComplete:"off","data-expanded":o.store.dropdownOpened?!0:void 0}:{},onKeyDown:l}}const Q$={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},dP=le((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,...l}=Y("ComboboxEventsTarget",Q$,t);if(!$o(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=hr(),c=cw({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown});return w.cloneElement(n,{...c,...l,[r]:Qt(e,u.store.targetRef,n==null?void 0:n.ref)})});dP.displayName="@mantine/core/ComboboxEventsTarget";const Y$={},dw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Y("ComboboxFooter",Y$,t),l=hr();return S.createElement(oe,{ref:e,...l.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a})});dw.classes=Dn;dw.displayName="@mantine/core/ComboboxFooter";const X$={},fw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:l,...u}=Y("ComboboxGroup",X$,t),c=hr();return S.createElement(oe,{ref:e,...c.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u},l&&S.createElement("div",{...c.getStyles("groupLabel",{classNames:n,styles:o})},l),a)});fw.classes=Dn;fw.displayName="@mantine/core/ComboboxGroup";const J$={},hw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Y("ComboboxHeader",J$,t),l=hr();return S.createElement(oe,{ref:e,...l.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a})});hw.classes=Dn;hw.displayName="@mantine/core/ComboboxHeader";const Z$={},pw=le((t,e)=>{const n=Y("ComboboxOption",Z$,t),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:l,id:u,active:c,onMouseDown:d,onMouseOver:f,disabled:h,selected:p,mod:g,..._}=n,m=hr(),y=w.useId(),E=u||y;return S.createElement(oe,{...m.getStyles("option",{className:i,classNames:r,styles:s,style:o}),..._,ref:e,id:E,mod:["combobox-option",{"combobox-active":c,"combobox-disabled":h,"combobox-selected":p},g],role:"option",onClick:v=>{var T;h?v.preventDefault():((T=m.onOptionSubmit)==null||T.call(m,n.value,n),l==null||l(v))},onMouseDown:v=>{v.preventDefault(),d==null||d(v)},onMouseOver:v=>{m.resetSelectionOnOptionHover&&m.store.resetSelectedOption(),f==null||f(v)}})});pw.classes=Dn;pw.displayName="@mantine/core/ComboboxOption";const eF={},mw=le((t,e)=>{const n=Y("ComboboxOptions",eF,t),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:l,labelledBy:u,...c}=n,d=hr(),f=xr(a);return w.useEffect(()=>{d.store.setListId(f)},[f]),S.createElement(oe,{ref:e,...d.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...c,id:f,role:"listbox","aria-labelledby":u,onMouseDown:h=>{h.preventDefault(),l==null||l(h)}})});mw.classes=Dn;mw.displayName="@mantine/core/ComboboxOptions";const tF={withAriaAttributes:!0,withKeyboardNavigation:!0},gw=le((t,e)=>{const n=Y("ComboboxSearch",tF,t),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:l,withKeyboardNavigation:u,size:c,...d}=n,f=hr(),h=f.getStyles("search"),p=cw({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:l});return S.createElement(Lt,{ref:Qt(e,f.store.searchRef),classNames:[{input:h.className},r],styles:[{input:h.style},i],size:c||f.size,...p,...d,__staticSelector:"Combobox"})});gw.classes=Dn;gw.displayName="@mantine/core/ComboboxSearch";const nF={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1},fP=le((t,e)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,...l}=Y("ComboboxTarget",nF,t);if(!$o(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const u=hr(),c=cw({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown}),d=w.cloneElement(n,{...c,...l});return S.createElement(kr.Target,{ref:Qt(e,u.store.targetRef)},d)});fP.displayName="@mantine/core/ComboboxTarget";function rF(t,e,n){for(let r=t-1;r>=0;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=e.length-1;r>-1;r-=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function iF(t,e,n){for(let r=t+1;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<e.length;r+=1)if(!e[r].hasAttribute("data-combobox-disabled"))return r}return t}function oF(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function hP({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,l]=Pi({value:e,defaultValue:t,finalValue:!1,onChange:n}),u=w.useRef(null),c=w.useRef(-1),d=w.useRef(null),f=w.useRef(null),h=w.useRef(-1),p=w.useRef(-1),g=w.useRef(-1),_=w.useCallback((k="unknown")=>{a||(l(!0),i==null||i(k))},[l,i,a]),m=w.useCallback((k="unknown")=>{a&&(l(!1),r==null||r(k))},[l,r,a]),y=w.useCallback((k="unknown")=>{a?m(k):_(k)},[m,_,a]),E=w.useCallback(()=>{const k=document.querySelector(`#${u.current} [data-combobox-selected]`);k==null||k.removeAttribute("data-combobox-selected"),k==null||k.removeAttribute("aria-selected")},[]),v=w.useCallback(k=>{const L=document.getElementById(u.current),x=L==null?void 0:L.querySelectorAll("[data-combobox-option]");if(!x)return null;const D=k>=x.length?0:k<0?x.length-1:k;return c.current=D,x!=null&&x[D]&&!x[D].hasAttribute("data-combobox-disabled")?(E(),x[D].setAttribute("data-combobox-selected","true"),x[D].setAttribute("aria-selected","true"),x[D].scrollIntoView({block:"nearest",behavior:s}),x[D].id):null},[s,E]),T=w.useCallback(()=>{const k=document.querySelector(`#${u.current} [data-combobox-active]`);if(k){const L=document.querySelectorAll(`#${u.current} [data-combobox-option]`),x=Array.from(L).findIndex(D=>D===k);return v(x)}return v(0)},[v]),b=w.useCallback(()=>v(iF(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[v,o]),I=w.useCallback(()=>v(rF(c.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[v,o]),R=w.useCallback(()=>v(oF(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[v]),A=w.useCallback((k="selected")=>{g.current=window.setTimeout(()=>{const L=document.querySelectorAll(`#${u.current} [data-combobox-option]`),x=Array.from(L).findIndex(D=>D.hasAttribute(`data-combobox-${k}`));c.current=x},0)},[]),N=w.useCallback(()=>{c.current=-1,E()},[E]),V=w.useCallback(()=>{const k=document.querySelectorAll(`#${u.current} [data-combobox-option]`),L=k==null?void 0:k[c.current];L==null||L.click()},[]),U=w.useCallback(k=>{u.current=k},[]),z=w.useCallback(()=>{h.current=window.setTimeout(()=>d.current.focus(),0)},[]),$=w.useCallback(()=>{p.current=window.setTimeout(()=>f.current.focus(),0)},[]),W=w.useCallback(()=>c.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(h.current),window.clearTimeout(p.current),window.clearTimeout(g.current)},[]),{dropdownOpened:a,openDropdown:_,closeDropdown:m,toggleDropdown:y,selectedOptionIndex:c.current,getSelectedOptionIndex:W,selectOption:v,selectFirstOption:R,selectActiveOption:T,selectNextOption:b,selectPreviousOption:I,resetSelectedOption:N,updateSelectedOptionIndex:A,listId:u.current,setListId:U,clickSelectedOption:V,searchRef:d,focusSearchInput:z,targetRef:f,focusTarget:$}}const sF={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},aF=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":jn(e),"--combobox-option-padding":ut(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:F(n),"--combobox-option-fz":jn(e),"--combobox-option-padding":ut(e,"combobox-option-padding")}});function Qe(t){const e=Y("Combobox",sF,t),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:l,onClose:u,size:c,dropdownPadding:d,resetSelectionOnOptionHover:f,__staticSelector:h,readOnly:p,...g}=e,_=hP(),m=s||_,y=Ce({name:h||"Combobox",classes:Dn,props:e,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:aF}),E=()=>{u==null||u(),m.closeDropdown()};return S.createElement(H$,{value:{getStyles:y,store:m,onOptionSubmit:l,size:c,resetSelectionOnOptionHover:f,readOnly:p}},S.createElement(kr,{opened:m.dropdownOpened,...g,onClose:E,withRoles:!1,unstyled:i},o))}const lF=t=>t;Qe.extend=lF;Qe.classes=Dn;Qe.displayName="@mantine/core/Combobox";Qe.Target=fP;Qe.Dropdown=lw;Qe.Options=mw;Qe.Option=pw;Qe.Search=gw;Qe.Empty=uw;Qe.Chevron=aw;Qe.Footer=dw;Qe.Header=hw;Qe.EventsTarget=dP;Qe.DropdownTarget=cP;Qe.Group=fw;Qe.ClearButton=uP;var pP={root:"m-5f75b09e",body:"m-5f6e695e",labelWrapper:"m-d3ea56bb",label:"m-8ee546b8",description:"m-328f68c0",error:"m-8e8a99cc"};const uF=pP,yw=w.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:l,id:u,disabled:c,error:d,size:f,labelPosition:h="left",variant:p,style:g,vars:_,mod:m,...y},E)=>{const v=Ce({name:t,props:e,className:n,style:g,classes:pP,classNames:r,styles:i,unstyled:o});return S.createElement(oe,{...v("root"),ref:E,__vars:{"--label-fz":jn(f),"--label-lh":ut(f,"label-lh")},mod:[{"label-position":h},m],variant:p,size:f,...y},S.createElement("div",{...v("body")},s,S.createElement("div",{...v("labelWrapper"),"data-disabled":c||void 0},a&&S.createElement("label",{...v("label"),"data-disabled":c||void 0,htmlFor:u},a),l&&S.createElement(Lt.Description,{size:f,__inheritStyles:!1,...v("description")},l),d&&d!=="boolean"&&S.createElement(Lt.Error,{size:f,__inheritStyles:!1,...v("error")},d))))});yw.displayName="@mantine/core/InlineInput";const mP=w.createContext(null),cF=mP.Provider,dF=()=>w.useContext(mP);function gP({children:t,role:e}){const n=Bc();return n?S.createElement("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy},t):S.createElement(S.Fragment,null,t)}const fF={},vw=le((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:l,...u}=Y("CheckboxGroup",fF,t),[c,d]=Pi({value:n,defaultValue:r,finalValue:[],onChange:i}),f=h=>{const p=h.currentTarget.value;!l&&d(c.includes(p)?c.filter(g=>g!==p):[...c,p])};return S.createElement(cF,{value:{value:c,onChange:f,size:o}},S.createElement(Lt.Wrapper,{size:o,ref:e,...s,...u,labelElement:"div",__staticSelector:"CheckboxGroup"},S.createElement(gP,{role:"group"},a)))});vw.classes=Lt.Wrapper.classes;vw.displayName="@mantine/core/CheckboxGroup";function yP({size:t,style:e,...n}){const r=t!==void 0?{width:F(t),height:F(t),...e}:e;return S.createElement("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n},S.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function hF({indeterminate:t,...e}){return t?S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e},S.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):S.createElement(yP,{...e})}var vP={root:"m-bf2d988c",inner:"m-26062bec",input:"m-26063560",icon:"m-bf295423","input--outline":"m-215c4542"};const pF={labelPosition:"right",icon:hF},mF=(t,{radius:e,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Fo({color:n||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--checkbox-size":ut(r,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:On(e),"--checkbox-color":o==="outline"?l:sn(n,t),"--checkbox-icon-color":i?sn(i,t):V0(s,t)?sp({color:n,theme:t}):void 0}}},pp=le((t,e)=>{const n=Y("Checkbox",pF,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,label:c,id:d,size:f,radius:h,wrapperProps:p,children:g,checked:_,labelPosition:m,description:y,error:E,disabled:v,variant:T,indeterminate:b,icon:I,rootRef:R,iconColor:A,onChange:N,autoContrast:V,mod:U,...z}=n,$=dF(),W=f||($==null?void 0:$.size),k=I,L=Ce({name:"Checkbox",props:n,classes:vP,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:mF}),{styleProps:x,rest:D}=Vc(z),B=xr(d),Q=$?{checked:$.value.includes(D.value),onChange:ee=>{$.onChange(ee),N==null||N(ee)}}:{};return S.createElement(yw,{...L("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:B,size:W,labelPosition:m,label:c,description:y,error:E,disabled:v,classNames:r,styles:s,unstyled:a,"data-checked":Q.checked||_||void 0,variant:T,ref:R,mod:U,...x,...p},S.createElement(oe,{...L("inner"),mod:{"data-label-position":m}},S.createElement(oe,{component:"input",id:B,ref:e,checked:_,disabled:v,mod:{error:!!E,indeterminate:b},...L("input",{focusable:!0,variant:T}),onChange:N,...D,...Q,type:"checkbox"}),S.createElement(k,{indeterminate:b,...L("icon")})))});pp.classes={...vP,...uF};pp.displayName="@mantine/core/Checkbox";pp.Group=vw;function Hu(t){return"group"in t}function wP({options:t,search:e,limit:n}){const r=e.trim().toLowerCase(),i=[];for(let o=0;o<t.length;o+=1){const s=t[o];if(i.length===n)return i;Hu(s)&&i.push({group:s.group,items:wP({options:s.items,search:e,limit:n-i.length})}),Hu(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function gF(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function _P(t,e=new Set){if(Array.isArray(t))for(const n of t)if(Hu(n))_P(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function ag(t,e){return Array.isArray(t)?t.includes(e):t===e}function EP({data:t,withCheckIcon:e,value:n,checkIconPosition:r,unstyled:i}){if(!Hu(t)){const s=e&&ag(n,t.value)&&S.createElement(yP,{className:Dn.optionsDropdownCheckIcon});return S.createElement(Qe.Option,{value:t.value,disabled:t.disabled,className:Mt({[Dn.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":ag(n,t.value)||void 0,"aria-selected":ag(n,t.value)},r==="left"&&s,S.createElement("span",null,t.label),r==="right"&&s)}const o=t.items.map(s=>S.createElement(EP,{data:s,value:n,key:s.value,unstyled:i,withCheckIcon:e,checkIconPosition:r}));return S.createElement(Qe.Group,{label:t.group},o)}function yF({data:t,hidden:e,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:l=!0,withCheckIcon:u=!1,value:c,checkIconPosition:d,nothingFoundMessage:f,unstyled:h,labelId:p}){_P(t);const _=typeof i=="string"?(r||wP)({options:t,search:l?i:"",limit:o??1/0}):t,m=gF(_),y=_.map(E=>S.createElement(EP,{data:E,key:Hu(E)?E.group:E.value,withCheckIcon:u,value:c,checkIconPosition:d,unstyled:h}));return S.createElement(Qe.Dropdown,{hidden:e||n&&m},S.createElement(Qe.Options,{labelledBy:p},a?S.createElement(wl.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--_combobox-padding)",offsetScrollbars:"y"},y):y,m&&f&&S.createElement(Qe.Empty,null,f)))}var mp={root:"m-77c9d27d",inner:"m-80f1301b",loader:"m-a25b86ee",label:"m-811560b9",section:"m-a74036a",group:"m-80d6d844"};const eS={orientation:"horizontal"},vF=(t,{borderWidth:e})=>({group:{"--button-border-width":F(e)}}),ww=le((t,e)=>{const n=Y("ButtonGroup",eS,t),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:l,vars:u,borderWidth:c,variant:d,mod:f,...h}=Y("ButtonGroup",eS,t),p=Ce({name:"ButtonGroup",props:n,classes:mp,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:vF,rootSelector:"group"});return S.createElement(oe,{...p("group"),ref:e,variant:d,mod:[{"data-orientation":l},f],role:"group",...h})});ww.classes=mp;ww.displayName="@mantine/core/ButtonGroup";const wF={},_F=(t,{radius:e,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const l=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":ut(o,"button-height"),"--button-padding-x":ut(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?jn(o.replace("compact-","")):jn(o),"--button-radius":e===void 0?void 0:On(e),"--button-bg":n||i?l.background:void 0,"--button-hover":n||i?l.hover:void 0,"--button-color":l.color,"--button-bd":n||i?l.border:void 0,"--button-hover-color":n||i?l.hoverColor:void 0}}},wn=Tn((t,e)=>{const n=Y("Button",wF,t),{style:r,vars:i,className:o,color:s,disabled:a,children:l,leftSection:u,rightSection:c,fullWidth:d,variant:f,radius:h,loading:p,loaderProps:g,gradient:_,classNames:m,styles:y,unstyled:E,"data-disabled":v,autoContrast:T,mod:b,...I}=n,R=Ce({name:"Button",props:n,classes:mp,className:o,style:r,classNames:m,styles:y,unstyled:E,vars:i,varsResolver:_F}),A=!!u,N=!!c;return S.createElement(Zr,{ref:e,...R("root",{active:!a&&!p&&!v}),unstyled:E,variant:f,disabled:a||p,mod:[{disabled:a||v,loading:p,block:d,"with-left-section":A,"with-right-section":N},b],...I},S.createElement(oe,{component:"span",...R("loader"),"aria-hidden":!0},S.createElement(Us,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...g})),S.createElement("span",{...R("inner")},u&&S.createElement(oe,{component:"span",...R("section"),mod:{position:"left"}},u),S.createElement(oe,{component:"span",mod:{loading:p},...R("label")},l),c&&S.createElement(oe,{component:"span",...R("section"),mod:{position:"right"}},c)))});wn.classes=mp;wn.displayName="@mantine/core/Button";wn.Group=ww;const[EF,SF]=ri("Card component was not found in tree");var _w={root:"m-e615b15f",section:"m-599a2148"};const TF={},gp=Tn((t,e)=>{const n=Y("CardSection",TF,t),{classNames:r,className:i,style:o,styles:s,vars:a,withBorder:l,inheritPadding:u,mod:c,...d}=n,f=SF();return S.createElement(oe,{ref:e,mod:[{"with-border":l,"inherit-padding":u},c],...f.getStyles("section",{className:i,style:o,styles:s,classNames:r}),...d})});gp.classes=_w;gp.displayName="@mantine/core/CardSection";const bF={},IF=(t,{padding:e})=>({root:{"--card-padding":rh(e)}}),Cs=Tn((t,e)=>{const n=Y("Card",bF,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,padding:c,...d}=n,f=Ce({name:"Card",props:n,classes:_w,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:IF}),h=w.Children.toArray(u),p=h.map((g,_)=>typeof g=="object"&&g&&"type"in g&&g.type===gp?w.cloneElement(g,{"data-first-section":_===0||void 0,"data-last-section":_===h.length-1||void 0}):g);return S.createElement(EF,{value:{getStyles:f}},S.createElement(lp,{ref:e,unstyled:a,...f("root"),...d},p))});Cs.classes=_w;Cs.displayName="@mantine/core/Card";Cs.Section=gp;var SP={root:"m-4451eb3a"};const CF={},_o=Tn((t,e)=>{const n=Y("Center",CF,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,inline:u,mod:c,...d}=n,f=Ce({name:"Center",props:n,classes:SP,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l});return S.createElement(oe,{ref:e,mod:[{inline:u},c],...f("root"),...d})});_o.classes=SP;_o.displayName="@mantine/core/Center";var TP={root:"m-7485cace"};const RF={},PF=(t,{size:e,fluid:n})=>({root:{"--container-size":n?void 0:ut(e,"container-size")}}),Ew=le((t,e)=>{const n=Y("Container",RF,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,fluid:u,mod:c,...d}=n,f=Ce({name:"Container",classes:TP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:PF});return S.createElement(oe,{ref:e,mod:[{fluid:u},c],...f("root"),...d})});Ew.classes=TP;Ew.displayName="@mantine/core/Container";var bP={root:"m-3eebeb36",label:"m-9e365f20"};const xF={orientation:"horizontal"},AF=(t,{color:e,variant:n,size:r})=>({root:{"--divider-color":e?sn(e,t):void 0,"--divider-border-style":n,"--divider-size":ut(r,"divider-size")}}),El=le((t,e)=>{const n=Y("Divider",xF,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,color:u,orientation:c,label:d,labelPosition:f,mod:h,...p}=n,g=Ce({name:"Divider",classes:bP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:AF});return S.createElement(oe,{ref:e,mod:[{orientation:c,"with-label":!!d},h],...g("root"),...p,role:"separator"},d&&S.createElement(oe,{component:"span",mod:{position:f},...g("label")},d))});El.classes=bP;El.displayName="@mantine/core/Divider";function kF({open:t,close:e,openDelay:n,closeDelay:r}){const i=w.useRef(-1),o=w.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?t():i.current=window.setTimeout(t,n)},l=()=>{s(),r===0||r===void 0?e():o.current=window.setTimeout(e,r)};return w.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:l}}function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function NF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var DF=w.useLayoutEffect,OF=function(e){var n=w.useRef(e);return DF(function(){n.current=e}),n},tS=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},MF=function(e,n){var r=w.useRef();return w.useCallback(function(i){e.current=i,r.current&&tS(r.current,null),r.current=n,n&&tS(n,i)},[n])},nS={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},LF=function(e){Object.keys(nS).forEach(function(n){e.style.setProperty(n,nS[n],"important")})},rS=LF,fn=null,iS=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function VF(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),fn||(fn=document.createElement("textarea"),fn.setAttribute("tabindex","-1"),fn.setAttribute("aria-hidden","true"),rS(fn)),fn.parentNode===null&&document.body.appendChild(fn);var i=t.paddingSize,o=t.borderSize,s=t.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(f){var h=f;fn.style[h]=s[h]}),rS(fn),fn.value=e;var l=iS(fn,t);fn.value=e,l=iS(fn,t),fn.value="x";var u=fn.scrollHeight-i,c=u*n;a==="border-box"&&(c=c+i+o),l=Math.max(c,l);var d=u*r;return a==="border-box"&&(d=d+i+o),l=Math.min(d,l),[l,u]}var oS=function(){},$F=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},FF=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],UF=!!document.documentElement.currentStyle,jF=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=$F(FF,n),i=r.boxSizing;if(i==="")return null;UF&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},BF=jF;function IP(t,e,n){var r=OF(n);w.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var zF=function(e){IP(window,"resize",e)},WF=function(e){IP(document.fonts,"loadingdone",e)},HF=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],qF=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,o=e.minRows,s=e.onChange,a=s===void 0?oS:s,l=e.onHeightChange,u=l===void 0?oS:l,c=NF(e,HF),d=c.value!==void 0,f=w.useRef(null),h=MF(f,n),p=w.useRef(0),g=w.useRef(),_=function(){var E=f.current,v=r&&g.current?g.current:BF(E);if(v){g.current=v;var T=VF(v,E.value||E.placeholder||"x",o,i),b=T[0],I=T[1];p.current!==b&&(p.current=b,E.style.setProperty("height",b+"px","important"),u(b,{rowHeight:I}))}},m=function(E){d||_(),a(E)};return w.useLayoutEffect(_),zF(_),WF(_),w.createElement("textarea",Oy({},c,{onChange:m,ref:h}))},KF=w.forwardRef(qF);const GF={},Sw=le((t,e)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=Y("Textarea",GF,t),l=n&&r2()!=="test",u=l?{maxRows:r,minRows:i}:{};return S.createElement(ii,{component:l?KF:"textarea",ref:e,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});Sw.classes=ii.classes;Sw.displayName="@mantine/core/Textarea";const[QF,Hc]=ri("Menu component was not found in the tree");var Sl={dropdown:"m-dc9b7c9f",label:"m-9bfac126",divider:"m-efdf90cb",item:"m-99ac2aa1",itemLabel:"m-5476e0d3",itemSection:"m-8b75e504"};const YF={},Tw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Y("MenuDivider",YF,t),l=Hc();return S.createElement(oe,{ref:e,...l.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});Tw.classes=Sl;Tw.displayName="@mantine/core/MenuDivider";const XF={},bw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:l,children:u,...c}=Y("MenuDropdown",XF,t),d=w.useRef(null),f=Hc(),h=_=>{var m,y;(_.key==="ArrowUp"||_.key==="ArrowDown")&&(_.preventDefault(),(y=(m=d.current)==null?void 0:m.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||y.focus())},p=gi(a,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.openDropdown()),g=gi(l,()=>(f.trigger==="hover"||f.trigger==="click-hover")&&f.closeDropdown());return S.createElement(kr.Dropdown,{...c,onMouseEnter:p,onMouseLeave:g,role:"menu","aria-orientation":"vertical",ref:Qt(e,d),...f.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:h},S.createElement("div",{tabIndex:-1,"data-autofocus":!0}),u)});bw.classes=Sl;bw.displayName="@mantine/core/MenuDropdown";const JF={},Iw=Tn((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:l,leftSection:u,rightSection:c,children:d,disabled:f,...h}=Y("MenuItem",JF,t),p=Hc(),g=Ar(),{dir:_}=vl(),m=w.useRef(),y=p.getItemIndex(m.current),E=h,v=gi(E.onMouseLeave,()=>p.setHovered(-1)),T=gi(E.onMouseEnter,()=>p.setHovered(p.getItemIndex(m.current))),b=gi(E.onClick,()=>{typeof l=="boolean"?l&&p.closeDropdownImmediately():p.closeOnItemClick&&p.closeDropdownImmediately()}),I=gi(E.onFocus,()=>p.setHovered(p.getItemIndex(m.current))),R=a?g.variantColorResolver({color:a,theme:g,variant:"light"}):void 0,A=a?Fo({color:a,theme:g}):null;return S.createElement(Zr,{...h,unstyled:p.unstyled,tabIndex:p.menuItemTabIndex,onFocus:I,...p.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:Qt(m,e),role:"menuitem",disabled:f,"data-menu-item":!0,"data-disabled":f||void 0,"data-hovered":p.hovered===y?!0:void 0,onMouseEnter:T,onMouseLeave:v,onClick:b,onKeyDown:zC({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:p.loop,dir:_,orientation:"vertical",onKeyDown:E.onKeydown}),__vars:{"--menu-item-color":A!=null&&A.isThemeColor&&(A==null?void 0:A.shade)===void 0?`var(--mantine-color-${A.color}-6)`:R==null?void 0:R.color,"--menu-item-hover":R==null?void 0:R.hover}},u&&S.createElement("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left"},u),d&&S.createElement("div",{...p.getStyles("itemLabel",{styles:o,classNames:n})},d),c&&S.createElement("div",{...p.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right"},c))});Iw.classes=Sl;Iw.displayName="@mantine/core/MenuItem";const ZF={},Cw=le((t,e)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=Y("MenuLabel",ZF,t),l=Hc();return S.createElement(oe,{ref:e,...l.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});Cw.classes=Sl;Cw.displayName="@mantine/core/MenuLabel";const e4={refProp:"ref"},CP=w.forwardRef((t,e)=>{const{children:n,refProp:r,...i}=Y("MenuTarget",e4,t);if(!$o(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=Hc(),s=gi(n.props.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),a=gi(n.props.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),l=gi(n.props.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return S.createElement(kr.Target,{refProp:r,popupType:"menu",ref:e,...i},w.cloneElement(n,{onClick:s,onMouseEnter:a,onMouseLeave:l,"data-expanded":o.opened?!0:void 0}))});CP.displayName="@mantine/core/MenuTarget";const t4={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function Ne(t){const e=Y("Menu",t4,t),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:l,closeOnItemClick:u,loop:c,closeOnEscape:d,trigger:f,openDelay:h,closeDelay:p,classNames:g,styles:_,unstyled:m,variant:y,vars:E,menuItemTabIndex:v,...T}=e,b=Ce({name:"Menu",classes:Sl,props:e,classNames:g,styles:_,unstyled:m}),[I,{setHovered:R,resetHovered:A}]=n2(),[N,V]=Pi({value:o,defaultValue:s,finalValue:!1,onChange:l}),[U,z]=w.useState(!1),$=()=>{V(!1),z(!1),N&&(i==null||i())},W=()=>{V(!0),!N&&(r==null||r())},k=()=>{N?$():W()},{openDropdown:L,closeDropdown:x}=kF({open:W,close:$,closeDelay:p,openDelay:h}),D=ee=>t2("[data-menu-item]","[data-menu-dropdown]",ee),{resolvedClassNames:B,resolvedStyles:Q}=L0({classNames:g,styles:_,props:e});return Po(()=>{A()},[N]),S.createElement(QF,{value:{getStyles:b,opened:N,toggleDropdown:k,getItemIndex:D,hovered:I,setHovered:R,openedViaClick:U,setOpenedViaClick:z,closeOnItemClick:u,closeDropdown:f==="click"?$:x,openDropdown:f==="click"?W:L,closeDropdownImmediately:$,loop:c,trigger:f,unstyled:m,menuItemTabIndex:v}},S.createElement(kr,{...T,opened:N,onChange:k,defaultOpened:s,trapFocus:a,closeOnEscape:d,__staticSelector:"Menu",classNames:B,styles:Q,unstyled:m,variant:y},n))}Ne.extend=t=>t;Ne.classes=Sl;Ne.displayName="@mantine/core/Menu";Ne.Item=Iw;Ne.Label=Cw;Ne.Dropdown=bw;Ne.Target=CP;Ne.Divider=Tw;const[n4,Tl]=ri("Modal component was not found in tree");var $i={root:"m-9df02822",content:"m-54c44539",inner:"m-1f958f16",header:"m-d0e2b9cd"};const r4={},yp=le((t,e)=>{const n=Y("ModalBody",r4,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Tl();return S.createElement(JR,{ref:e,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...l})});yp.classes=$i;yp.displayName="@mantine/core/ModalBody";const i4={},vp=le((t,e)=>{const n=Y("ModalCloseButton",i4,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Tl();return S.createElement(ZR,{ref:e,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...l})});vp.classes=$i;vp.displayName="@mantine/core/ModalCloseButton";const o4={},wp=le((t,e)=>{const n=Y("ModalContent",o4,t),{classNames:r,className:i,style:o,styles:s,vars:a,children:l,...u}=n,c=Tl(),d=c.scrollAreaComponent||E$;return S.createElement(y$,{...c.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:c.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),ref:e,...u},S.createElement(d,{style:{maxHeight:`calc(100vh - (${F(c.yOffset)} * 2))`}},l))});wp.classes=$i;wp.displayName="@mantine/core/ModalContent";const s4={},_p=le((t,e)=>{const n=Y("ModalHeader",s4,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Tl();return S.createElement(eP,{ref:e,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...l})});_p.classes=$i;_p.displayName="@mantine/core/ModalHeader";const a4={},Ep=le((t,e)=>{const n=Y("ModalOverlay",a4,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Tl();return S.createElement(tP,{ref:e,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...l})});Ep.classes=$i;Ep.displayName="@mantine/core/ModalOverlay";const l4={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:$s("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},u4=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:On(e),"--modal-size":ut(n,"modal-size"),"--modal-y-offset":F(r),"--modal-x-offset":F(i)}}),Sp=le((t,e)=>{const n=Y("ModalRoot",l4,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,yOffset:u,scrollAreaComponent:c,radius:d,fullScreen:f,centered:h,xOffset:p,__staticSelector:g,..._}=n,m=Ce({name:g,classes:$i,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:u4});return S.createElement(n4,{value:{yOffset:u,scrollAreaComponent:c,getStyles:m}},S.createElement(m$,{ref:e,...m("root"),"data-full-screen":f||void 0,"data-centered":h||void 0,unstyled:a,..._}))});Sp.classes=$i;Sp.displayName="@mantine/core/ModalRoot";const c4={},Tp=le((t,e)=>{const n=Y("ModalTitle",c4,t),{classNames:r,className:i,style:o,styles:s,vars:a,...l}=n,u=Tl();return S.createElement(nP,{ref:e,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...l})});Tp.classes=$i;Tp.displayName="@mantine/core/ModalTitle";const d4={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:$s("modal"),transitionProps:{duration:200,transition:"pop"},withOverlay:!0,withCloseButton:!0},Kn=le((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:l,...u}=Y("Modal",d4,t),c=!!n||o;return S.createElement(Sp,{ref:e,radius:l,...u},r&&S.createElement(Ep,{...i}),S.createElement(wp,{radius:l},c&&S.createElement(_p,null,n&&S.createElement(Tp,null,n),o&&S.createElement(vp,{...s})),S.createElement(yp,null,a)))});Kn.classes=$i;Kn.displayName="@mantine/core/Modal";Kn.Root=Sp;Kn.Overlay=Ep;Kn.Content=wp;Kn.Body=yp;Kn.Header=_p;Kn.Title=Tp;Kn.CloseButton=vp;function RP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var qu;(function(t){t.event="event",t.props="prop"})(qu||(qu={}));function Yi(){}function f4(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(o,s){return o===e[s]})||(e=r,n=t.apply(void 0,r)),n}}function Ku(t){return!!(t||"").match(/\d/)}function ba(t){return t==null}function h4(t){return typeof t=="number"&&isNaN(t)}function PP(t){return ba(t)||h4(t)||typeof t=="number"&&!isFinite(t)}function xP(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function p4(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function m4(t,e,n){var r=p4(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function g4(t){var e=w.useRef(t);e.current=t;var n=w.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function Rw(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function y4(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function AP(t,e,n){for(var r="",i=n?"0":"",o=0;o<=e-1;o++)r+=t[o]||i;return r}function sS(t,e){return Array(e+1).join(t)}function kP(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+sS("0",Math.abs(s))+i:s>=a?i=i+sS("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function aS(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=Rw(t),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,l=parseFloat("0."+(s||"0")),u=s.length<=e?"0."+s:l.toFixed(e),c=u.split("."),d=o.split("").reverse().reduce(function(g,_,m){return g.length>m?(Number(g[0])+Number(_)).toString()+g.substring(1,g.length):_+g},c[0]),f=AP(c[1]||"",e,n),h=a?"-":"",p=r?".":"";return""+h+d+p+f}function Xo(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var NP=f4(function(t,e){for(var n=0,r=0,i=t.length,o=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}});function v4(t,e,n){return Math.min(Math.max(t,e),n)}function lg(t){return Math.max(t.selectionStart,t.selectionEnd)}function w4(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function _4(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function E4(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function S4(t,e,n,r,i,o,s){s===void 0&&(s=E4);var a=i.findIndex(function(v){return v}),l=t.slice(0,a);!e&&!n.startsWith(l)&&(e=l,n=l+n,r=r+l.length);for(var u=n.length,c=t.length,d={},f=new Array(u),h=0;h<u;h++){f[h]=-1;for(var p=0,g=c;p<g;p++){var _=s({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:h,formattedValueIndex:p});if(_&&d[p]!==!0){f[h]=p,d[p]=!0;break}}}for(var m=r;m<u&&(f[m]===-1||!o(n[m]));)m++;var y=m===u||f[m]===-1?c:f[m];for(m=r-1;m>0&&f[m]===-1;)m--;var E=m===-1||f[m]===-1?0:f[m]+1;return E>y?y:r-E<y-r?E:y}function lS(t,e,n,r){var i=t.length;if(e=v4(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function T4(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(Ku(t[n])||Ku(t[n-1]));return e}function DP(t,e,n,r,i,o){o===void 0&&(o=Yi);var s=g4(function(p,g){var _,m;return PP(p)?(m="",_=""):typeof p=="number"||g?(m=typeof p=="number"?kP(p):p,_=r(m)):(m=i(p,void 0),_=r(m)),{formattedValue:_,numAsString:m}}),a=w.useState(function(){return s(ba(t)?e:t,n)}),l=a[0],u=a[1],c=function(p,g){p.formattedValue!==l.formattedValue&&u({formattedValue:p.formattedValue,numAsString:p.value}),o(p,g)},d=t,f=n;ba(t)&&(d=l.numAsString,f=!0);var h=s(d,f);return w.useMemo(function(){u(h)},[h.formattedValue]),[l,c]}function b4(t){return t.replace(/[^0-9]/g,"")}function I4(t){return t}function C4(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,o=t.getInputRef,s=t.format;s===void 0&&(s=I4);var a=t.removeFormatting;a===void 0&&(a=b4);var l=t.defaultValue,u=t.valueIsNumericString,c=t.onValueChange,d=t.isAllowed,f=t.onChange;f===void 0&&(f=Yi);var h=t.onKeyDown;h===void 0&&(h=Yi);var p=t.onMouseUp;p===void 0&&(p=Yi);var g=t.onFocus;g===void 0&&(g=Yi);var _=t.onBlur;_===void 0&&(_=Yi);var m=t.value,y=t.getCaretBoundary;y===void 0&&(y=T4);var E=t.isValidInputCharacter;E===void 0&&(E=Ku);var v=t.isCharacterSame,T=RP(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),b=DP(m,l,!!u,s,a,c),I=b[0],R=I.formattedValue,A=I.numAsString,N=b[1],V=w.useRef({formattedValue:R,numAsString:A}),U=function(X,se){V.current={formattedValue:X.formattedValue,numAsString:X.value},N(X,se)},z=w.useState(!1),$=z[0],W=z[1],k=w.useRef(null),L=w.useRef({setCaretTimeout:null,focusTimeout:null});w.useEffect(function(){return W(!0),function(){clearTimeout(L.current.setCaretTimeout),clearTimeout(L.current.focusTimeout)}},[]);var x=s,D=function(X,se){var G=parseFloat(se);return{formattedValue:X,value:se,floatValue:isNaN(G)?void 0:G}},B=function(X,se,G){X.selectionStart===0&&X.selectionEnd===X.value.length||(Xo(X,se),L.current.setCaretTimeout=setTimeout(function(){X.value===G&&X.selectionStart!==X.selectionEnd&&Xo(X,se)},0))},Q=function(X,se,G){return lS(X,se,y(X),G)},ee=function(X,se,G){var fe=y(se),De=S4(se,R,X,G,fe,E,v);return De=lS(se,De,fe),De},Ve=function(X){var se=X.formattedValue;se===void 0&&(se="");var G=X.input,fe=X.setCaretPosition;fe===void 0&&(fe=!0);var De=X.source,Te=X.event,He=X.numAsString,be=X.caretPos;if(G){if(be===void 0&&fe){var At=X.inputValue||G.value,ji=lg(G);G.value=se,be=ee(At,se,ji)}G.value=se,fe&&be!==void 0&&B(G,be,se)}se!==R&&U(D(se,He),{event:Te,source:De})};w.useEffect(function(){var X=V.current,se=X.formattedValue,G=X.numAsString;R!==se&&(R!==A||se!==G)&&U(D(R,A),{event:void 0,source:qu.props})},[R,A]);var we=k.current?lg(k.current):void 0,We=typeof window<"u"?w.useLayoutEffect:w.useEffect;We(function(){var X=k.current;if(R!==V.current.formattedValue&&X){var se=ee(V.current.formattedValue,R,we);X.value=R,B(X,se,R)}},[R]);var Fe=function(X,se,G){var fe=NP(R,X),De=Object.assign(Object.assign({},fe),{lastValue:R}),Te=a(X,De),He=x(Te);if(Te=a(He,void 0),d&&!d(D(He,Te))){var be=se.target,At=lg(be),ji=ee(X,R,At);return be.value=R,B(be,ji,R),!1}return Ve({formattedValue:He,numAsString:Te,inputValue:X,event:se,source:G,setCaretPosition:!0,input:se.target}),!0},Me=function(X){var se=X.target,G=se.value,fe=Fe(G,X,qu.event);fe&&f(X)},nt=function(X){var se=X.target,G=X.key,fe=se.selectionStart,De=se.selectionEnd,Te=se.value;Te===void 0&&(Te="");var He;if(G==="ArrowLeft"||G==="Backspace"?He=Math.max(fe-1,0):G==="ArrowRight"?He=Math.min(fe+1,Te.length):G==="Delete"&&(He=fe),He===void 0||fe!==De){h(X);return}var be=He;if(G==="ArrowLeft"||G==="ArrowRight"){var At=G==="ArrowLeft"?"left":"right";be=Q(Te,He,At),be!==He&&X.preventDefault()}else G==="Delete"&&!E(Te[He])?be=Q(Te,He,"right"):G==="Backspace"&&!E(Te[He])&&(be=Q(Te,He,"left"));be!==He&&B(se,be,Te),X.isUnitTestRun&&B(se,be,Te),h(X)},Pt=function(X){var se=X.target,G=se.selectionStart,fe=se.selectionEnd,De=se.value;if(De===void 0&&(De=""),G===fe){var Te=Q(De,G);Te!==G&&B(se,Te,De)}p(X)},Et=function(X){X.persist&&X.persist();var se=X.target;k.current=se,L.current.focusTimeout=setTimeout(function(){var G=se.selectionStart,fe=se.selectionEnd,De=se.value;De===void 0&&(De="");var Te=Q(De,G);Te!==G&&!(G===0&&fe===De.length)&&B(se,Te,De),g(X)},0)},xt=function(X){k.current=null,clearTimeout(L.current.focusTimeout),clearTimeout(L.current.setCaretTimeout),_(X)},bn=$&&w4()?"numeric":void 0,Ae=Object.assign({inputMode:bn},T,{type:e,value:R,onChange:Me,onKeyDown:nt,onMouseUp:Pt,onFocus:Et,onBlur:xt});if(n==="text")return i?S.createElement(S.Fragment,null,i(R,T)||null):S.createElement("span",Object.assign({},T,{ref:o}),R);if(r){var Gn=r;return S.createElement(Gn,Object.assign({},Ae,{ref:o}))}return S.createElement("input",Object.assign({},Ae,{ref:o}))}function uS(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var o=e.suffix;o===void 0&&(o="");var s=e.allowNegative,a=e.thousandsGroupStyle;if(a===void 0&&(a="thousand"),t===""||t==="-")return t;var l=bp(e),u=l.thousandSeparator,c=l.decimalSeparator,d=n!==0&&t.indexOf(".")!==-1||n&&r,f=Rw(t,s),h=f.beforeDecimal,p=f.afterDecimal,g=f.addNegation;return n!==void 0&&(p=AP(p,n,!!r)),u&&(h=m4(h,u,a)),i&&(h=i+h),o&&(p=p+o),g&&(h="-"+h),t=h+(d&&c||"")+p,t}function bp(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function R4(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),o=r.test(t);return t=t.replace(/-/g,""),i&&!o&&e&&(t="-"+t),t}function P4(t,e){return new RegExp("(^-)|[0-9]|"+xP(t),e?"g":void 0)}function x4(t,e,n){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function A4(t,e,n){var r;e===void 0&&(e=_4(t));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,l=e.from,u=e.to,c=u.start,d=u.end,f=bp(n),h=f.allowedDecimalSeparators,p=f.decimalSeparator,g=t[d]===p;if(Ku(t)&&(t===o||t===s)&&e.lastValue==="")return t;if(d-c===1&&h.indexOf(t[c])!==-1){var _=a===0?"":p;t=t.substring(0,c)+_+t.substring(c+1,t.length)}var m=function(L,x,D){var B=!1,Q=!1;o.startsWith("-")?B=!1:L.startsWith("--")?(B=!1,Q=!0):s.startsWith("-")&&L.length===s.length?B=!1:L[0]==="-"&&(B=!0);var ee=B?1:0;return Q&&(ee=2),ee&&(L=L.substring(ee),x-=ee,D-=ee),{value:L,start:x,end:D,hasNegation:B}},y=m(t,c,d),E=y.hasNegation;r=y,t=r.value,c=r.start,d=r.end;var v=m(e.lastValue,l.start,l.end),T=v.start,b=v.end,I=v.value,R=t.substring(c,d);t.length&&I.length&&(T>I.length-s.length||b<o.length)&&!(R&&s.startsWith(R))&&(t=I);var A=0;t.startsWith(o)?A+=o.length:c<o.length&&(A=c),t=t.substring(A),d-=A;var N=t.length,V=t.length-s.length;t.endsWith(s)?N=V:(d>V||d>t.length-s.length)&&(N=d),t=t.substring(0,N),t=R4(E?"-"+t:t,i),t=(t.match(P4(p,!0))||[]).join("");var U=t.indexOf(p);t=t.replace(new RegExp(xP(p),"g"),function(L,x){return x===U?".":""});var z=Rw(t,i),$=z.beforeDecimal,W=z.afterDecimal,k=z.addNegation;return u.end-u.start<l.end-l.start&&$===""&&g&&!parseFloat(W)&&(t=k?"-":""),t}function k4(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),o=t[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=t.length;return i.fill(!1,s-r.length+1,s+1),i}function N4(t){var e=bp(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var o=t.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},t),{allowNegative:o})}function D4(t){t=N4(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=Yi);var o=t.onBlur;o===void 0&&(o=Yi);var s=t.thousandSeparator,a=t.decimalScale,l=t.fixedDecimalScale,u=t.prefix;u===void 0&&(u="");var c=t.defaultValue,d=t.value,f=t.valueIsNumericString,h=t.onValueChange,p=RP(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),g=bp(t),_=g.decimalSeparator,m=g.allowedDecimalSeparators,y=function(k){return uS(k,t)},E=function(k,L){return A4(k,L,t)},v=ba(d)?c:d,T=f??x4(v,u,e);ba(d)?ba(c)||(T=T||typeof c=="number"):T=T||typeof d=="number";var b=function(k){return PP(k)?k:(typeof k=="number"&&(k=kP(k)),T&&typeof a=="number"?aS(k,a,!!l):k)},I=DP(b(d),b(c),!!T,y,E,h),R=I[0],A=R.numAsString,N=R.formattedValue,V=I[1],U=function(k){var L=k.target,x=k.key,D=L.selectionStart,B=L.selectionEnd,Q=L.value;if(Q===void 0&&(Q=""),D!==B){i(k);return}x==="Backspace"&&Q[0]==="-"&&D===u.length+1&&n&&Xo(L,1),a&&l&&(x==="Backspace"&&Q[D-1]===_?(Xo(L,D-1),k.preventDefault()):x==="Delete"&&Q[D]===_&&k.preventDefault()),m!=null&&m.includes(x)&&Q[D]===_&&Xo(L,D+1);var ee=s===!0?",":s;x==="Backspace"&&Q[D-1]===ee&&Xo(L,D-1),x==="Delete"&&Q[D]===ee&&Xo(L,D+1),i(k)},z=function(k){var L=A;if(L.match(/\d/g)||(L=""),r||(L=y4(L)),l&&a&&(L=aS(L,a,l)),L!==A){var x=uS(L,t);V({formattedValue:x,value:L,floatValue:parseFloat(L)},{event:k,source:qu.event})}o(k)},$=function(k){return k===_?!0:Ku(k)},W=function(k){var L=k.currentValue,x=k.lastValue,D=k.formattedValue,B=k.currentValueIndex,Q=k.formattedValueIndex,ee=L[B],Ve=D[Q],we=NP(x,L),We=we.to;return B>=We.start&&B<We.end&&m&&m.includes(ee)&&Ve===_?!0:ee===Ve};return Object.assign(Object.assign({},p),{value:N,valueIsNumericString:!1,isValidInputCharacter:$,isCharacterSame:W,onValueChange:V,format:y,removeFormatting:E,getCaretBoundary:function(k){return k4(k,t)},onKeyDown:U,onBlur:z})}function O4(t){var e=D4(t);return S.createElement(C4,Object.assign({},e))}function cS({direction:t,style:e,...n}){return S.createElement("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n},S.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var My={root:"m-e2f5cd4e",controls:"m-95e17d22",control:"m-80b4b171"};const M4=/^-0(\.0*)?$/,L4=/^-?0\d+$/;function V4(t){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)}function $4({value:t,min:e,step:n=1,allowNegative:r}){const i=t-n;return e!==void 0&&i<e?e:!r&&i<0&&e===void 0?t:(e!==void 0&&e>=0&&i<=e,i)}function dS(t,e,n){if(t===void 0)return!0;const r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}const F4={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,startValue:0},U4=(t,{size:e})=>({controls:{"--ni-chevron-size":ut(e,"ni-chevron-size")}}),$n=le((t,e)=>{const n=Y("NumberInput",F4,t),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:l,onValueChange:u,value:c,defaultValue:d,max:f,min:h,step:p,hideControls:g,rightSection:_,isAllowed:m,clampBehavior:y,onBlur:E,allowDecimal:v,decimalScale:T,onKeyDown:b,handlersRef:I,startValue:R,disabled:A,rightSectionPointerEvents:N,allowNegative:V,readOnly:U,size:z,rightSectionWidth:$,stepHoldInterval:W,stepHoldDelay:k,allowLeadingZeros:L,...x}=n,D=Ce({name:"NumberInput",classes:My,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:U4}),{resolvedClassNames:B,resolvedStyles:Q}=L0({classNames:i,styles:o,props:n}),[ee,Ve]=Pi({value:c,defaultValue:d,onChange:l}),we=k!==void 0&&W!==void 0,We=w.useRef(null),Fe=w.useRef(null),Me=w.useRef(0),nt=(G,fe)=>{fe.source==="event"&&Ve(V4(G.floatValue)&&!M4.test(G.value)&&!(L&&L4.test(G.value))?G.floatValue:G.value),u==null||u(G,fe)},Pt=w.useRef();Pt.current=()=>{typeof ee!="number"||Number.isNaN(ee)?Ve(Ud(R,h,f)):Ve(f!==void 0?ee+p<=f?ee+p:f:ee+p)};const Et=w.useRef();Et.current=()=>{typeof ee!="number"||Number.isNaN(ee)?Ve(Ud(R,h,f)):Ve($4({value:ee,min:h,step:p,allowNegative:V}))};const xt=G=>{b==null||b(G),!U&&(G.key==="ArrowUp"&&(G.preventDefault(),Pt.current()),G.key==="ArrowDown"&&(G.preventDefault(),Et.current()))};A0(I,{increment:Pt.current,decrement:Et.current});const bn=G=>{G?Pt.current():Et.current(),Me.current+=1},Ae=G=>{if(bn(G),we){const fe=typeof W=="number"?W:W(Me.current);Fe.current=window.setTimeout(()=>Ae(G),fe)}},Gn=(G,fe)=>{var De;G.preventDefault(),(De=We.current)==null||De.focus(),bn(fe),we&&(Fe.current=window.setTimeout(()=>Ae(fe),k))},X=()=>{Fe.current&&window.clearTimeout(Fe.current),Fe.current=null,Me.current=0},se=S.createElement("div",{...D("controls")},S.createElement(Zr,{...D("control"),tabIndex:-1,"aria-hidden":!0,disabled:A||typeof ee=="number"&&f!==void 0&&ee>=f,mod:{direction:"up"},onMouseDown:G=>G.preventDefault(),onPointerDown:G=>{Gn(G,!0)},onPointerUp:X,onPointerLeave:X},S.createElement(cS,{direction:"up"})),S.createElement(Zr,{...D("control"),tabIndex:-1,"aria-hidden":!0,disabled:A||typeof ee=="number"&&h!==void 0&&ee<=h,mod:{direction:"down"},onMouseDown:G=>G.preventDefault(),onPointerDown:G=>{Gn(G,!1)},onPointerUp:X,onPointerLeave:X},S.createElement(cS,{direction:"down"})));return S.createElement(ii,{component:O4,allowNegative:V,className:Mt(My.root,r),size:z,...x,readOnly:U,disabled:A,value:ee,getInputRef:Qt(e,We),onValueChange:nt,rightSection:g||U?_:_||se,classNames:B,styles:Q,unstyled:s,__staticSelector:"NumberInput",decimalScale:v?T:0,onKeyDown:xt,rightSectionPointerEvents:N??(A?"none":void 0),rightSectionWidth:$??`var(--ni-right-section-width-${z||"sm"})`,allowLeadingZeros:L,onBlur:G=>{E==null||E(G),y==="blur"&&typeof ee=="number"&&Ud(ee,h,f)!==ee&&Ve(Ud(ee,h,f))},isAllowed:G=>y==="strict"?m?m(G)&&dS(G.floatValue,h,f):dS(G.floatValue,h,f):m?m(G):!0})});$n.classes={...ii.classes,...My};$n.displayName="@mantine/core/NumberInput";const[j4,B4]=BC(),z4={},Pw=le((t,e)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:l,readOnly:u,...c}=Y("RadioGroup",z4,t),d=xr(l),[f,h]=Pi({value:n,defaultValue:r,finalValue:"",onChange:i}),p=g=>!u&&h(g.currentTarget.value);return S.createElement(j4,{value:{value:f,onChange:p,size:o,name:d}},S.createElement(Lt.Wrapper,{size:o,ref:e,...s,...c,labelElement:"div",__staticSelector:"RadioGroup"},S.createElement(gP,{role:"radiogroup"},a)))});Pw.classes=Lt.Wrapper.classes;Pw.displayName="@mantine/core/RadioGroup";function W4({size:t,style:e,...n}){return S.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:F(t),height:F(t),...e},"aria-hidden":!0,...n},S.createElement("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"}))}var OP={root:"m-f3f1af94",inner:"m-89c4f5e4",icon:"m-f3ed6b2b",radio:"m-8a3dbb89","radio--outline":"m-1bfe9d39"};const H4={labelPosition:"right"},q4=(t,{size:e,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=Fo({color:r||t.primaryColor,theme:t}),l=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":ut(e,"radio-size"),"--radio-radius":n===void 0?void 0:On(n),"--radio-color":o==="outline"?l:sn(r,t),"--radio-icon-color":i?sn(i,t):V0(s,t)?sp({color:r,theme:t}):void 0,"--radio-icon-size":ut(e,"radio-icon-size")}}},rr=le((t,e)=>{const n=Y("Radio",H4,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,id:u,size:c,label:d,labelPosition:f,description:h,error:p,radius:g,color:_,variant:m,disabled:y,wrapperProps:E,icon:v=W4,rootRef:T,iconColor:b,onChange:I,mod:R,...A}=n,N=Ce({name:"Radio",classes:OP,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:q4}),V=B4(),U=(V==null?void 0:V.size)??c,z=n.size?c:U,{styleProps:$,rest:W}=Vc(A),k=xr(u),L=V?{checked:V.value===W.value,name:W.name??V.name,onChange:x=>{V.onChange(x),I==null||I(x)}}:{};return S.createElement(yw,{...N("root"),__staticSelector:"Radio",__stylesApiProps:n,id:k,size:z,labelPosition:f,label:d,description:h,error:p,disabled:y,classNames:r,styles:s,unstyled:a,"data-checked":L.checked||void 0,variant:m,ref:T,mod:R,...$,...E},S.createElement(oe,{...N("inner"),mod:{"label-position":f}},S.createElement(oe,{...N("radio",{focusable:!0,variant:m}),onChange:I,...W,...L,component:"input",mod:{error:!!p},ref:e,id:k,disabled:y,type:"radio"}),S.createElement(v,{...N("icon"),"aria-hidden":!0})))});rr.classes=OP;rr.displayName="@mantine/core/Radio";rr.Group=Pw;const K4={duration:100,transition:"fade"};function G4(t,e){return{...K4,...e,...t}}function Q4({offset:t,position:e}){const[n,r]=w.useState(!1),i=w.useRef(),{x:o,y:s,elements:a,refs:l,update:u,placement:c}=X0({placement:e,middleware:[q0({crossAxis:!0,padding:5,rootBoundary:"document"})]}),d=c.includes("right")?t:e.includes("left")?t*-1:0,f=c.includes("bottom")?t:e.includes("top")?t*-1:0,h=w.useCallback(({clientX:p,clientY:g})=>{l.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:p,y:g,left:p+d,top:g+f,right:p,bottom:g}}})},[a.reference]);return w.useEffect(()=>{if(l.floating.current){const p=i.current;p.addEventListener("mousemove",h);const g=Ei(l.floating.current);return g.forEach(_=>{_.addEventListener("scroll",u)}),()=>{p.removeEventListener("mousemove",h),g.forEach(_=>{_.removeEventListener("scroll",u)})}}},[a.reference,l.floating.current,u,h,n]),{handleMouseMove:h,x:o,y:s,opened:n,setOpened:r,boundaryRef:i,floating:l.setFloating}}var Ip={tooltip:"m-1b3c8819",arrow:"m-f898399f"};const Y4={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:$s("popover")},X4=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:On(e),"--tooltip-bg":n?sn(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),xw=le((t,e)=>{const n=Y("TooltipFloating",Y4,t),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:l,styles:u,unstyled:c,radius:d,color:f,label:h,offset:p,position:g,multiline:_,zIndex:m,disabled:y,variant:E,vars:v,portalProps:T,...b}=n,I=Ar(),R=Ce({name:"TooltipFloating",props:n,classes:Ip,className:a,style:s,classNames:l,styles:u,unstyled:c,rootSelector:"tooltip",vars:v,varsResolver:X4}),{handleMouseMove:A,x:N,y:V,opened:U,boundaryRef:z,floating:$,setOpened:W}=Q4({offset:p,position:g});if(!$o(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const k=Qt(z,r.ref,e),L=D=>{var B,Q;(Q=(B=r.props).onMouseEnter)==null||Q.call(B,D),A(D),W(!0)},x=D=>{var B,Q;(Q=(B=r.props).onMouseLeave)==null||Q.call(B,D),W(!1)};return S.createElement(S.Fragment,null,S.createElement(Fc,{...T,withinPortal:o},S.createElement(oe,{...b,...R("tooltip",{style:{...sR(s,I),zIndex:m,display:!y&&U?"block":"none",top:(V&&Math.round(V))??"",left:(N&&Math.round(N))??""}}),variant:E,ref:$},h)),w.cloneElement(r,{...r.props,[i]:k,onMouseEnter:L,onMouseLeave:x}))});xw.classes=Ip;xw.displayName="@mantine/core/TooltipFloating";const MP=w.createContext(!1),J4=MP.Provider,Z4=()=>w.useContext(MP),e9={openDelay:0,closeDelay:0};function LP(t){const{openDelay:e,closeDelay:n,children:r}=Y("TooltipGroup",e9,t);return S.createElement(J4,{value:!0},S.createElement(PV,{delay:{open:e,close:n}},r))}LP.displayName="@mantine/core/TooltipGroup";function t9(t){var b,I,R;const[e,n]=w.useState(!1),i=typeof t.opened=="boolean"?t.opened:e,o=Z4(),s=xr(),{delay:a,currentId:l,setCurrentId:u}=jR(),c=w.useCallback(A=>{n(A),A&&u(s)},[u,s]),{x:d,y:f,context:h,refs:p,update:g,placement:_,middlewareData:{arrow:{x:m,y}={}}}=X0({placement:t.position,open:i,onOpenChange:c,middleware:[IR(t.offset),q0({padding:8}),SR(),DR({element:t.arrowRef,padding:t.arrowOffset}),...t.inline?[bR()]:[]]}),{getReferenceProps:E,getFloatingProps:v}=FV([RV(h,{enabled:(b=t.events)==null?void 0:b.hover,delay:o?a:{open:t.openDelay,close:t.closeDelay},mouseOnly:!((I=t.events)!=null&&I.touch)}),$V(h,{enabled:(R=t.events)==null?void 0:R.focus,keyboardOnly:!0}),UV(h,{role:"tooltip"}),VV(h,{enabled:typeof t.opened>"u"}),xV(h,{id:s})]);KR({opened:i,position:t.position,positionDependencies:t.positionDependencies,floating:{refs:p,update:g}}),Po(()=>{var A;(A=t.onPositionChange)==null||A.call(t,_)},[_]);const T=i&&l&&l!==s;return{x:d,y:f,arrowX:m,arrowY:y,reference:p.setReference,floating:p.setFloating,getFloatingProps:v,getReferenceProps:E,isGroupPhase:T,opened:i,placement:_}}const fS={position:"top",refProp:"ref",withinPortal:!0,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:$s("popover"),positionDependencies:[]},n9=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:On(e),"--tooltip-bg":n?sn(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),qc=le((t,e)=>{const n=Y("Tooltip",fS,t),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:l,onPositionChange:u,opened:c,withinPortal:d,radius:f,color:h,classNames:p,styles:g,unstyled:_,style:m,className:y,withArrow:E,arrowSize:v,arrowOffset:T,arrowRadius:b,arrowPosition:I,offset:R,transitionProps:A,multiline:N,events:V,zIndex:U,disabled:z,positionDependencies:$,onClick:W,onMouseEnter:k,onMouseLeave:L,inline:x,variant:D,keepMounted:B,vars:Q,portalProps:ee,mod:Ve,...we}=Y("Tooltip",fS,n),{dir:We}=vl(),Fe=w.useRef(null),Me=t9({position:BR(We,i),closeDelay:l,openDelay:a,onPositionChange:u,opened:c,events:V,arrowRef:Fe,arrowOffset:T,offset:typeof R=="number"?R+(E?v/2:0):R,positionDependencies:[...$,r],inline:x}),nt=Ce({name:"Tooltip",props:n,classes:Ip,className:y,style:m,classNames:p,styles:g,unstyled:_,rootSelector:"tooltip",vars:Q,varsResolver:n9});if(!$o(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const Pt=Qt(Me.reference,r.ref,e),Et=G4(A,{duration:100,transition:"fade"});return S.createElement(S.Fragment,null,S.createElement(Fc,{...ee,withinPortal:d},S.createElement(Uc,{...Et,keepMounted:B,mounted:!z&&!!Me.opened,duration:Me.isGroupPhase?10:Et.duration},xt=>S.createElement(oe,{...we,variant:D,mod:[{multiline:N},Ve],...Me.getFloatingProps({ref:Me.floating,className:nt("tooltip").className,style:{...nt("tooltip").style,...xt,zIndex:U,top:Me.y??0,left:Me.x??0}})},s,S.createElement(J0,{ref:Fe,arrowX:Me.arrowX,arrowY:Me.arrowY,visible:E,position:Me.placement,arrowSize:v,arrowOffset:T,arrowRadius:b,arrowPosition:I,...nt("arrow")})))),w.cloneElement(r,Me.getReferenceProps({onClick:W,onMouseEnter:k,onMouseLeave:L,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[o]:Pt,className:Mt(y,r.props.className),...r.props})))});qc.classes=Ip;qc.displayName="@mantine/core/Tooltip";qc.Floating=xw;qc.Group=LP;const r9={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},Aw=le((t,e)=>{const n=Y("Select",r9,t),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:l,onDropdownClose:u,onDropdownOpen:c,onFocus:d,onBlur:f,onClick:h,onChange:p,data:g,value:_,defaultValue:m,selectFirstOptionOnChange:y,onOptionSubmit:E,comboboxProps:v,readOnly:T,disabled:b,filter:I,limit:R,withScrollArea:A,maxDropdownHeight:N,size:V,searchable:U,rightSection:z,checkIconPosition:$,withCheckIcon:W,nothingFoundMessage:k,name:L,form:x,searchValue:D,defaultSearchValue:B,onSearchChange:Q,allowDeselect:ee,error:Ve,rightSectionPointerEvents:we,id:We,clearable:Fe,clearButtonProps:Me,hiddenInputProps:nt,...Pt}=n,Et=w.useMemo(()=>B$(g),[g]),xt=w.useMemo(()=>lP(Et),[Et]),bn=xr(We),[Ae,Gn]=Pi({value:_,defaultValue:m,finalValue:null,onChange:p}),X=typeof Ae=="string"?xt[Ae]:void 0,[se,G]=Pi({value:D,defaultValue:B,finalValue:X?X.label:"",onChange:Q}),fe=hP({opened:a,defaultOpened:l,onDropdownOpen:c,onDropdownClose:()=>{u==null||u(),fe.resetSelectedOption()}}),{resolvedClassNames:De,resolvedStyles:Te}=L0({props:n,styles:i,classNames:r});w.useEffect(()=>{y&&fe.selectFirstOption()},[y,Ae]),w.useEffect(()=>{_===null&&G(""),typeof _=="string"&&X&&G(X.label)},[_,X]);const He=Fe&&!!Ae&&!b&&!T&&S.createElement(Qe.ClearButton,{size:V,...Me,onClear:()=>{Gn(null,null),G("")}});return S.createElement(S.Fragment,null,S.createElement(Qe,{store:fe,__staticSelector:"Select",classNames:De,styles:Te,unstyled:o,readOnly:T,onOptionSubmit:be=>{E==null||E(be);const At=ee&&xt[be].value===Ae?null:xt[be],ji=At?At.value:null;Gn(ji,At),G(typeof ji=="string"&&(At==null?void 0:At.label)||""),fe.closeDropdown()},size:V,...v},S.createElement(Qe.Target,{targetType:U?"input":"button"},S.createElement(ii,{id:bn,ref:e,rightSection:z||He||S.createElement(Qe.Chevron,{size:V,error:Ve,unstyled:o}),rightSectionPointerEvents:we||(He?"all":"none"),...Pt,size:V,__staticSelector:"Select",disabled:b,readOnly:T||!U,value:se,onChange:be=>{G(be.currentTarget.value),fe.openDropdown(),y&&fe.selectFirstOption()},onFocus:be=>{U&&fe.openDropdown(),d==null||d(be)},onBlur:be=>{var At;U&&fe.closeDropdown(),G(Ae!=null&&((At=xt[Ae])==null?void 0:At.label)||""),f==null||f(be)},onClick:be=>{U?fe.openDropdown():fe.toggleDropdown(),h==null||h(be)},classNames:De,styles:Te,unstyled:o,pointer:!U,error:Ve})),S.createElement(yF,{data:Et,hidden:T||b,filter:I,search:se,limit:R,hiddenWhenEmpty:!U||!k,withScrollArea:A,maxDropdownHeight:N,filterOptions:U&&(X==null?void 0:X.label)!==se,value:Ae,checkIconPosition:$,withCheckIcon:W,nothingFoundMessage:k,unstyled:o,labelId:`${bn}-label`})),S.createElement("input",{type:"hidden",name:L,value:Ae||"",form:x,disabled:b,...nt}))});Aw.classes={...ii.classes,...Qe.classes};Aw.displayName="@mantine/core/Select";const[i9,o9]=ri("Table component was not found in the tree");var Kc={table:"m-b23fa0ef",th:"m-4e7aa4f3",tr:"m-4e7aa4fd",td:"m-4e7aa4ef",tbody:"m-b2404537",thead:"m-b242d975",caption:"m-9e5a3ac7",scrollContainer:"m-a100c15",scrollContainerInner:"m-62259741"};function s9(t,e){if(!e)return;const n={};return e.columnBorder&&t.withColumnBorders&&(n["data-with-column-border"]=!0),e.rowBorder&&t.withRowBorders&&(n["data-with-row-border"]=!0),e.striped&&t.striped&&(n["data-striped"]=t.striped),e.highlightOnHover&&t.highlightOnHover&&(n["data-hover"]=!0),e.captionSide&&t.captionSide&&(n["data-side"]=t.captionSide),e.stickyHeader&&t.stickyHeader&&(n["data-sticky"]=!0),n}function Bs(t,e){const n=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,r=le((i,o)=>{const s=Y(n,{},i),{classNames:a,className:l,style:u,styles:c,...d}=s,f=o9();return S.createElement(oe,{component:t,ref:o,...s9(f,e),...f.getStyles(t,{className:l,classNames:a,style:u,styles:c,props:s}),...d})});return r.displayName=`@mantine/core/${n}`,r.classes=Kc,r}const Ly=Bs("th",{columnBorder:!0}),VP=Bs("td",{columnBorder:!0}),Ef=Bs("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),$P=Bs("thead",{stickyHeader:!0}),FP=Bs("tbody"),UP=Bs("tfoot"),jP=Bs("caption",{captionSide:!0});function kw({data:t}){return S.createElement(S.Fragment,null,t.caption&&S.createElement(jP,null,t.caption),t.head&&S.createElement($P,null,S.createElement(Ef,null,t.head.map((e,n)=>S.createElement(Ly,{key:n},e)))),t.body&&S.createElement(FP,null,t.body.map((e,n)=>S.createElement(Ef,{key:n},e.map((r,i)=>S.createElement(VP,{key:i},r))))),t.foot&&S.createElement(UP,null,S.createElement(Ef,null,t.foot.map((e,n)=>S.createElement(Ly,{key:n},e)))))}kw.displayName="@mantine/core/TableDataRenderer";const a9={type:"scrollarea"},l9=(t,{minWidth:e,type:n})=>({scrollContainer:{"--table-min-width":F(e),"--table-overflow":n==="native"?"auto":void 0}}),Nw=le((t,e)=>{const n=Y("TableScrollContainer",a9,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,children:u,minWidth:c,type:d,...f}=n,h=Ce({name:"TableScrollContainer",classes:Kc,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:l,varsResolver:l9,rootSelector:"scrollContainer"});return S.createElement(oe,{component:d==="scrollarea"?wl:"div",...d==="scrollarea"?{offsetScrollbars:"x"}:{},ref:e,...h("scrollContainer"),...f},S.createElement("div",{...h("scrollContainerInner")},u))});Nw.classes=Kc;Nw.displayName="@mantine/core/TableScrollContainer";const u9={withRowBorders:!0,verticalSpacing:7},c9=(t,{layout:e,captionSide:n,horizontalSpacing:r,verticalSpacing:i,borderColor:o,stripedColor:s,highlightOnHoverColor:a,striped:l,highlightOnHover:u,stickyHeaderOffset:c,stickyHeader:d})=>({table:{"--table-layout":e,"--table-caption-side":n,"--table-horizontal-spacing":rh(r),"--table-vertical-spacing":rh(i),"--table-border-color":o?sn(o,t):void 0,"--table-striped-color":l&&s?sn(s,t):void 0,"--table-highlight-on-hover-color":u&&a?sn(a,t):void 0,"--table-sticky-header-offset":d?F(c):void 0}}),Ue=le((t,e)=>{const n=Y("Table",u9,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:l,horizontalSpacing:u,verticalSpacing:c,captionSide:d,stripedColor:f,highlightOnHoverColor:h,striped:p,highlightOnHover:g,withColumnBorders:_,withRowBorders:m,withTableBorder:y,borderColor:E,layout:v,variant:T,data:b,children:I,stickyHeader:R,stickyHeaderOffset:A,mod:N,...V}=n,U=Ce({name:"Table",props:n,className:i,style:o,classes:Kc,classNames:r,styles:s,unstyled:a,rootSelector:"table",vars:l,varsResolver:c9});return S.createElement(i9,{value:{getStyles:U,stickyHeader:R,striped:p===!0?"odd":p||void 0,highlightOnHover:g,withColumnBorders:_,withRowBorders:m,captionSide:d||"bottom"}},S.createElement(oe,{component:"table",variant:T,ref:e,mod:[{"data-with-table-border":y},N],...U("table"),...V},I||!!b&&S.createElement(kw,{data:b})))});Ue.classes=Kc;Ue.displayName="@mantine/core/Table";Ue.Td=VP;Ue.Th=Ly;Ue.Tr=Ef;Ue.Thead=$P;Ue.Tbody=FP;Ue.Tfoot=UP;Ue.Caption=jP;Ue.ScrollContainer=Nw;Ue.DataRenderer=kw;const[d9,Dw]=ri("Tabs component was not found in the tree");var Gc={root:"m-89d60db1","list--default":"m-576c9d4",list:"m-89d33d6d",panel:"m-b0c91715",tab:"m-4ec4dce6",tabSection:"m-fc420b1f","tab--default":"m-539e827b","list--outline":"m-6772fbd5","tab--outline":"m-b59ab47c","tab--pills":"m-c3381914"};const f9={},Ow=le((t,e)=>{const n=Y("TabsList",f9,t),{children:r,className:i,grow:o,justify:s,classNames:a,styles:l,style:u,mod:c,...d}=n,f=Dw();return S.createElement(oe,{...d,...f.getStyles("list",{className:i,style:u,classNames:a,styles:l,props:n,variant:f.variant}),ref:e,role:"tablist",variant:f.variant,mod:[{grow:o,orientation:f.orientation,placement:f.orientation==="vertical"&&f.placement,inverted:f.inverted},c],"aria-orientation":f.orientation,__vars:{"--tabs-justify":s}},r)});Ow.classes=Gc;Ow.displayName="@mantine/core/TabsList";const h9={},Mw=le((t,e)=>{const n=Y("TabsPanel",h9,t),{children:r,className:i,value:o,classNames:s,styles:a,style:l,mod:u,...c}=n,d=Dw(),f=d.value===o,h=d.keepMounted||n.keepMounted||f?r:null;return S.createElement(oe,{...c,...d.getStyles("panel",{className:i,classNames:s,styles:a,style:[l,f?void 0:{display:"none"}],props:n}),ref:e,mod:[{orientation:d.orientation},u],role:"tabpanel",id:d.getPanelId(o),"aria-labelledby":d.getTabId(o)},h)});Mw.classes=Gc;Mw.displayName="@mantine/core/TabsPanel";const p9={},Lw=le((t,e)=>{const n=Y("TabsTab",p9,t),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:l,onKeyDown:u,disabled:c,color:d,style:f,classNames:h,styles:p,vars:g,mod:_,...m}=n,y=Ar(),{dir:E}=vl(),v=Dw(),T=a===v.value,b=R=>{v.onChange(v.allowTabDeactivation&&a===v.value?null:a),l==null||l(R)},I={classNames:h,styles:p,props:n};return S.createElement(Zr,{...m,...v.getStyles("tab",{className:r,style:f,variant:v.variant,...I}),disabled:c,unstyled:v.unstyled,variant:v.variant,mod:[{active:T,disabled:c,orientation:v.orientation,inverted:v.inverted,placement:v.orientation==="vertical"&&v.placement},_],ref:e,role:"tab",id:v.getTabId(a),"aria-selected":T,tabIndex:T||v.value===null?0:-1,"aria-controls":v.getPanelId(a),onClick:b,__vars:{"--tabs-color":d?sn(d,y):void 0},onKeyDown:zC({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:v.activateTabWithKeyboard,loop:v.loop,orientation:v.orientation||"horizontal",dir:E,onKeyDown:u})},s&&S.createElement("span",{...v.getStyles("tabSection",I),"data-position":"left"},s),i&&S.createElement("span",{...v.getStyles("tabLabel",I)},i),o&&S.createElement("span",{...v.getStyles("tabSection",I),"data-position":"right"},o))});Lw.classes=Gc;Lw.displayName="@mantine/core/TabsTab";const hS="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",m9={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},g9=(t,{radius:e,color:n,autoContrast:r})=>({root:{"--tabs-radius":On(e),"--tabs-color":sn(n,t),"--tabs-text-color":V0(r,t)?sp({color:n,theme:t}):void 0}}),Ur=le((t,e)=>{const n=Y("Tabs",m9,t),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:l,id:u,activateTabWithKeyboard:c,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:g,placement:_,keepMounted:m,classNames:y,styles:E,unstyled:v,className:T,style:b,vars:I,autoContrast:R,mod:A,...N}=n,V=xr(u),[U,z]=Pi({value:i,defaultValue:r,finalValue:null,onChange:o}),$=Ce({name:"Tabs",props:n,classes:Gc,className:T,style:b,classNames:y,styles:E,unstyled:v,vars:I,varsResolver:g9});return S.createElement(d9,{value:{placement:_,value:U,orientation:s,id:V,loop:l,activateTabWithKeyboard:c,getTabId:b1(`${V}-tab`,hS),getPanelId:b1(`${V}-panel`,hS),onChange:z,allowTabDeactivation:d,variant:f,color:h,radius:p,inverted:g,keepMounted:m,unstyled:v,getStyles:$}},S.createElement(oe,{ref:e,id:V,variant:f,mod:[{orientation:s,inverted:s==="horizontal"&&g,placement:s==="vertical"&&_},A],...$("root"),...N},a))});Ur.classes=Gc;Ur.displayName="@mantine/core/Tabs";Ur.Tab=Lw;Ur.Panel=Mw;Ur.List=Ow;const y9={},Cp=le((t,e)=>{const n=Y("TextInput",y9,t);return S.createElement(ii,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});Cp.classes=ii.classes;Cp.displayName="@mantine/core/TextInput";const v9=["h1","h2","h3","h4","h5","h6"];function w9(t,e){const n=e!==void 0?e:`h${t}`;return v9.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:F(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var BP={root:"m-8a5d1357"};const _9={order:1},E9=(t,{order:e,size:n,lineClamp:r,textWrap:i})=>{const o=w9(e,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},sr=le((t,e)=>{const n=Y("Title",_9,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:l,vars:u,size:c,variant:d,lineClamp:f,textWrap:h,mod:p,...g}=n,_=Ce({name:"Title",props:n,classes:BP,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:E9});return[1,2,3,4,5,6].includes(l)?S.createElement(oe,{..._("root"),component:`h${l}`,variant:d,ref:e,mod:[{order:l,"data-line-clamp":typeof f=="number"},p],size:c,...g}):null});sr.classes=BP;sr.displayName="@mantine/core/Title";var bl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},il=typeof window>"u"||"Deno"in window;function Zn(){}function S9(t,e){return typeof t=="function"?t(e):t}function Vy(t){return typeof t=="number"&&t>=0&&t!==1/0}function zP(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==Vw(s,e.options))return!1}else if(!Qu(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof i<"u"&&i!==e.state.fetchStatus||o&&!o(e))}function mS(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Gu(e.options.mutationKey)!==Gu(o))return!1}else if(!Qu(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Vw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gu)(t)}function Gu(t){return JSON.stringify(t,(e,n)=>$y(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Qu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Qu(t[n],e[n])):!1}function WP(t,e){if(t===e)return t;const n=gS(t)&&gS(e);if(n||$y(t)&&$y(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),o=i.length,s=n?[]:{};let a=0;for(let l=0;l<o;l++){const u=n?l:i[l];s[u]=WP(t[u],e[u]),s[u]===t[u]&&a++}return r===o&&a===r?t:s}return e}function ch(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function gS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $y(t){if(!yS(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!yS(n)||!n.hasOwnProperty("isPrototypeOf"))}function yS(t){return Object.prototype.toString.call(t)==="[object Object]"}function HP(t){return new Promise(e=>{setTimeout(e,t)})}function vS(t){HP(0).then(t)}function Fy(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?WP(t,e):e}function T9(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function b9(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var ss,Zi,ka,ub,I9=(ub=class extends bl{constructor(){super();ie(this,ss,void 0);ie(this,Zi,void 0);ie(this,ka,void 0);J(this,ka,e=>{if(!il&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){P(this,Zi)||this.setEventListener(P(this,ka))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,Zi))==null||e.call(this),J(this,Zi,void 0))}setEventListener(e){var n;J(this,ka,e),(n=P(this,Zi))==null||n.call(this),J(this,Zi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){P(this,ss)!==e&&(J(this,ss,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof P(this,ss)=="boolean"?P(this,ss):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ss=new WeakMap,Zi=new WeakMap,ka=new WeakMap,ub),dh=new I9,Na,eo,Da,cb,C9=(cb=class extends bl{constructor(){super();ie(this,Na,!0);ie(this,eo,void 0);ie(this,Da,void 0);J(this,Da,e=>{if(!il&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){P(this,eo)||this.setEventListener(P(this,Da))}onUnsubscribe(){var e;this.hasListeners()||((e=P(this,eo))==null||e.call(this),J(this,eo,void 0))}setEventListener(e){var n;J(this,Da,e),(n=P(this,eo))==null||n.call(this),J(this,eo,e(this.setOnline.bind(this)))}setOnline(e){P(this,Na)!==e&&(J(this,Na,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return P(this,Na)}},Na=new WeakMap,eo=new WeakMap,Da=new WeakMap,cb),fh=new C9;function R9(t){return Math.min(1e3*2**t,3e4)}function Rp(t){return(t??"online")==="online"?fh.isOnline():!0}var qP=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ug(t){return t instanceof qP}function KP(t){let e=!1,n=0,r=!1,i,o,s;const a=new Promise((_,m)=>{o=_,s=m}),l=_=>{var m;r||(h(new qP(_)),(m=t.abort)==null||m.call(t))},u=()=>{e=!0},c=()=>{e=!1},d=()=>!dh.isFocused()||t.networkMode!=="always"&&!fh.isOnline(),f=_=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,_),i==null||i(),o(_))},h=_=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,_),i==null||i(),s(_))},p=()=>new Promise(_=>{var m;i=y=>{const E=r||!d();return E&&_(y),E},(m=t.onPause)==null||m.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),g=()=>{if(r)return;let _;try{_=t.fn()}catch(m){_=Promise.reject(m)}Promise.resolve(_).then(f).catch(m=>{var b;if(r)return;const y=t.retry??(il?0:3),E=t.retryDelay??R9,v=typeof E=="function"?E(n,m):E,T=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,m);if(e||!T){h(m);return}n++,(b=t.onFail)==null||b.call(t,n,m),HP(v).then(()=>{if(d())return p()}).then(()=>{e?h(m):g()})})};return Rp(t.networkMode)?g():p().then(g),{promise:a,cancel:l,continue:()=>(i==null?void 0:i())?a:Promise.resolve(),cancelRetry:u,continueRetry:c}}function P9(){let t=[],e=0,n=c=>{c()},r=c=>{c()};const i=c=>{let d;e++;try{d=c()}finally{e--,e||a()}return d},o=c=>{e?t.push(c):vS(()=>{n(c)})},s=c=>(...d)=>{o(()=>{c(...d)})},a=()=>{const c=t;t=[],c.length&&vS(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:i,batchCalls:s,schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c}}}var It=P9(),as,db,GP=(db=class{constructor(){ie(this,as,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Vy(this.gcTime)&&J(this,as,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(il?1/0:5*60*1e3))}clearGcTimeout(){P(this,as)&&(clearTimeout(P(this,as)),J(this,as,void 0))}},as=new WeakMap,db),Oa,Ma,Qn,to,Yn,kt,vc,ls,La,Sf,yr,li,fb,x9=(fb=class extends GP{constructor(n){super();ie(this,La);ie(this,yr);ie(this,Oa,void 0);ie(this,Ma,void 0);ie(this,Qn,void 0);ie(this,to,void 0);ie(this,Yn,void 0);ie(this,kt,void 0);ie(this,vc,void 0);ie(this,ls,void 0);J(this,ls,!1),J(this,vc,n.defaultOptions),_e(this,La,Sf).call(this,n.options),J(this,kt,[]),J(this,Qn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,J(this,Oa,n.state||A9(this.options)),this.state=P(this,Oa),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!P(this,kt).length&&this.state.fetchStatus==="idle"&&P(this,Qn).remove(this)}setData(n,r){const i=Fy(this.state.data,n,this.options);return _e(this,yr,li).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){_e(this,yr,li).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i;const r=P(this,to);return(i=P(this,Yn))==null||i.cancel(n),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(P(this,Oa))}isActive(){return P(this,kt).some(n=>n.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||P(this,kt).some(n=>n.getCurrentResult().isStale)}isStaleByTime(n=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!zP(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=P(this,kt).find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=P(this,Yn))==null||r.continue()}onOnline(){var r;const n=P(this,kt).find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=P(this,Yn))==null||r.continue()}addObserver(n){P(this,kt).includes(n)||(P(this,kt).push(n),this.clearGcTimeout(),P(this,Qn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){P(this,kt).includes(n)&&(J(this,kt,P(this,kt).filter(r=>r!==n)),P(this,kt).length||(P(this,Yn)&&(P(this,ls)?P(this,Yn).cancel({revert:!0}):P(this,Yn).cancelRetry()),this.scheduleGc()),P(this,Qn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return P(this,kt).length}invalidate(){this.state.isInvalidated||_e(this,yr,li).call(this,{type:"invalidate"})}fetch(n,r){var c,d,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(P(this,to))return(c=P(this,Yn))==null||c.continueRetry(),P(this,to)}if(n&&_e(this,La,Sf).call(this,n),!this.options.queryFn){const p=P(this,kt).find(g=>g.options.queryFn);p&&_e(this,La,Sf).call(this,p.options)}const i=new AbortController,o={queryKey:this.queryKey,meta:this.meta},s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(J(this,ls,!0),i.signal)})};s(o);const a=()=>this.options.queryFn?(J(this,ls,!1),this.options.persister?this.options.persister(this.options.queryFn,o,this):this.options.queryFn(o)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),(d=this.options.behavior)==null||d.onFetch(l,this),J(this,Ma,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&_e(this,yr,li).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const u=p=>{var g,_,m,y;ug(p)&&p.silent||_e(this,yr,li).call(this,{type:"error",error:p}),ug(p)||((_=(g=P(this,Qn).config).onError)==null||_.call(g,p,this),(y=(m=P(this,Qn).config).onSettled)==null||y.call(m,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return J(this,Yn,KP({fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:p=>{var g,_,m,y;if(typeof p>"u"){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(_=(g=P(this,Qn).config).onSuccess)==null||_.call(g,p,this),(y=(m=P(this,Qn).config).onSettled)==null||y.call(m,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(p,g)=>{_e(this,yr,li).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{_e(this,yr,li).call(this,{type:"pause"})},onContinue:()=>{_e(this,yr,li).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode})),J(this,to,P(this,Yn).promise),P(this,to)}},Oa=new WeakMap,Ma=new WeakMap,Qn=new WeakMap,to=new WeakMap,Yn=new WeakMap,kt=new WeakMap,vc=new WeakMap,ls=new WeakMap,La=new WeakSet,Sf=function(n){this.options={...P(this,vc),...n},this.updateGcTime(this.options.gcTime)},yr=new WeakSet,li=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:n.meta??null,fetchStatus:Rp(this.options.networkMode)?"fetching":"paused",...!i.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=n.error;return ug(o)&&o.revert&&P(this,Ma)?{...P(this,Ma),fetchStatus:"idle"}:{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),It.batch(()=>{P(this,kt).forEach(i=>{i.onQueryUpdate()}),P(this,Qn).notify({query:this,type:"updated",action:n})})},fb);function A9(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Or,hb,k9=(hb=class extends bl{constructor(e={}){super();ie(this,Or,void 0);this.config=e,J(this,Or,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??Vw(i,n);let s=this.get(o);return s||(s=new x9({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){P(this,Or).has(e.queryHash)||(P(this,Or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=P(this,Or).get(e.queryHash);n&&(e.destroy(),n===e&&P(this,Or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){It.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return P(this,Or).get(e)}getAll(){return[...P(this,Or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>pS(e,r)):n}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){It.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){It.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=new WeakMap,hb),Mr,wc,Mn,Va,Lr,Hi,pb,N9=(pb=class extends GP{constructor(n){super();ie(this,Lr);ie(this,Mr,void 0);ie(this,wc,void 0);ie(this,Mn,void 0);ie(this,Va,void 0);this.mutationId=n.mutationId,J(this,wc,n.defaultOptions),J(this,Mn,n.mutationCache),J(this,Mr,[]),this.state=n.state||QP(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options={...P(this,wc),...n},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){P(this,Mr).includes(n)||(P(this,Mr).push(n),this.clearGcTimeout(),P(this,Mn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){J(this,Mr,P(this,Mr).filter(r=>r!==n)),this.scheduleGc(),P(this,Mn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){P(this,Mr).length||(this.state.status==="pending"?this.scheduleGc():P(this,Mn).remove(this))}continue(){var n;return((n=P(this,Va))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,s,a,l,u,c,d,f,h,p,g,_,m,y,E,v,T,b,I,R;const r=()=>(J(this,Va,KP({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,N)=>{_e(this,Lr,Hi).call(this,{type:"failed",failureCount:A,error:N})},onPause:()=>{_e(this,Lr,Hi).call(this,{type:"pause"})},onContinue:()=>{_e(this,Lr,Hi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),P(this,Va).promise),i=this.state.status==="pending";try{if(!i){_e(this,Lr,Hi).call(this,{type:"pending",variables:n}),await((s=(o=P(this,Mn).config).onMutate)==null?void 0:s.call(o,n,this));const N=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,n));N!==this.state.context&&_e(this,Lr,Hi).call(this,{type:"pending",context:N,variables:n})}const A=await r();return await((c=(u=P(this,Mn).config).onSuccess)==null?void 0:c.call(u,A,n,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,n,this.state.context)),await((p=(h=P(this,Mn).config).onSettled)==null?void 0:p.call(h,A,null,this.state.variables,this.state.context,this)),await((_=(g=this.options).onSettled)==null?void 0:_.call(g,A,null,n,this.state.context)),_e(this,Lr,Hi).call(this,{type:"success",data:A}),A}catch(A){try{throw await((y=(m=P(this,Mn).config).onError)==null?void 0:y.call(m,A,n,this.state.context,this)),await((v=(E=this.options).onError)==null?void 0:v.call(E,A,n,this.state.context)),await((b=(T=P(this,Mn).config).onSettled)==null?void 0:b.call(T,void 0,A,this.state.variables,this.state.context,this)),await((R=(I=this.options).onSettled)==null?void 0:R.call(I,void 0,A,n,this.state.context)),A}finally{_e(this,Lr,Hi).call(this,{type:"error",error:A})}}}},Mr=new WeakMap,wc=new WeakMap,Mn=new WeakMap,Va=new WeakMap,Lr=new WeakSet,Hi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Rp(this.options.networkMode),status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),It.batch(()=>{P(this,Mr).forEach(i=>{i.onMutationUpdate(n)}),P(this,Mn).notify({mutation:this,type:"updated",action:n})})},pb);function QP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xn,_c,us,mb,D9=(mb=class extends bl{constructor(e={}){super();ie(this,Xn,void 0);ie(this,_c,void 0);ie(this,us,void 0);this.config=e,J(this,Xn,[]),J(this,_c,0)}build(e,n,r){const i=new N9({mutationCache:this,mutationId:++_d(this,_c)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){P(this,Xn).push(e),this.notify({type:"added",mutation:e})}remove(e){J(this,Xn,P(this,Xn).filter(n=>n!==e)),this.notify({type:"removed",mutation:e})}clear(){It.batch(()=>{P(this,Xn).forEach(e=>{this.remove(e)})})}getAll(){return P(this,Xn)}find(e){const n={exact:!0,...e};return P(this,Xn).find(r=>mS(n,r))}findAll(e={}){return P(this,Xn).filter(n=>mS(e,n))}notify(e){It.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){return J(this,us,(P(this,us)??Promise.resolve()).then(()=>{const e=P(this,Xn).filter(n=>n.state.isPaused);return It.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch(Zn)),Promise.resolve()))}).then(()=>{J(this,us,void 0)})),P(this,us)}},Xn=new WeakMap,_c=new WeakMap,us=new WeakMap,mb);function O9(t){return{onFetch:(e,n)=>{const r=async()=>{var p,g,_,m,y;const i=e.options,o=(_=(g=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:_.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],a=((y=e.state.data)==null?void 0:y.pageParams)||[],l={pages:[],pageParams:[]};let u=!1;const c=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?u=!0:e.signal.addEventListener("abort",()=>{u=!0}),e.signal)})},d=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),f=async(E,v,T)=>{if(u)return Promise.reject();if(v==null&&E.pages.length)return Promise.resolve(E);const b={queryKey:e.queryKey,pageParam:v,direction:T?"backward":"forward",meta:e.options.meta};c(b);const I=await d(b),{maxPages:R}=e.options,A=T?b9:T9;return{pages:A(E.pages,I,R),pageParams:A(E.pageParams,v,R)}};let h;if(o&&s.length){const E=o==="backward",v=E?M9:wS,T={pages:s,pageParams:a},b=v(i,T);h=await f(T,b,E)}else{h=await f(l,a[0]??i.initialPageParam);const E=t??s.length;for(let v=1;v<E;v++){const T=wS(i,h);h=await f(h,T)}}return h};e.options.persister?e.fetchFn=()=>{var i,o;return(o=(i=e.options).persister)==null?void 0:o.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function wS(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function M9(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var Tt,no,ro,$a,Fa,io,Ua,ja,gb,L9=(gb=class{constructor(t={}){ie(this,Tt,void 0);ie(this,no,void 0);ie(this,ro,void 0);ie(this,$a,void 0);ie(this,Fa,void 0);ie(this,io,void 0);ie(this,Ua,void 0);ie(this,ja,void 0);J(this,Tt,t.queryCache||new k9),J(this,no,t.mutationCache||new D9),J(this,ro,t.defaultOptions||{}),J(this,$a,new Map),J(this,Fa,new Map),J(this,io,0)}mount(){_d(this,io)._++,P(this,io)===1&&(J(this,Ua,dh.subscribe(()=>{dh.isFocused()&&(this.resumePausedMutations(),P(this,Tt).onFocus())})),J(this,ja,fh.subscribe(()=>{fh.isOnline()&&(this.resumePausedMutations(),P(this,Tt).onOnline())})))}unmount(){var t,e;_d(this,io)._--,P(this,io)===0&&((t=P(this,Ua))==null||t.call(this),J(this,Ua,void 0),(e=P(this,ja))==null||e.call(this),J(this,ja,void 0))}isFetching(t){return P(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return P(this,no).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=P(this,Tt).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=P(this,Tt).find({queryKey:t}),i=r==null?void 0:r.state.data,o=S9(e,i);if(typeof o>"u")return;const s=this.defaultQueryOptions({queryKey:t});return P(this,Tt).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return It.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;return(e=P(this,Tt).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=P(this,Tt);It.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=P(this,Tt),r={type:"active",...t};return It.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=It.batch(()=>P(this,Tt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(t={},e={}){return It.batch(()=>{if(P(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=It.batch(()=>P(this,Tt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Zn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const n=P(this,Tt).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=O9(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}resumePausedMutations(){return P(this,no).resumePausedMutations()}getQueryCache(){return P(this,Tt)}getMutationCache(){return P(this,no)}getDefaultOptions(){return P(this,ro)}setDefaultOptions(t){J(this,ro,t)}setQueryDefaults(t,e){P(this,$a).set(Gu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...P(this,$a).values()];let n={};return e.forEach(r=>{Qu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){P(this,Fa).set(Gu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...P(this,Fa).values()];let n={};return e.forEach(r=>{Qu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...P(this,ro).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Vw(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...P(this,ro).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){P(this,Tt).clear(),P(this,no).clear()}},Tt=new WeakMap,no=new WeakMap,ro=new WeakMap,$a=new WeakMap,Fa=new WeakMap,io=new WeakMap,Ua=new WeakMap,ja=new WeakMap,gb),In,Ke,Ba,en,cs,za,Vr,Ec,Wa,Ha,ds,fs,oo,hs,ps,su,Sc,Uy,Tc,jy,bc,By,Ic,zy,Cc,Wy,Rc,Hy,Pc,qy,Fh,YP,yb,V9=(yb=class extends bl{constructor(e,n){super();ie(this,ps);ie(this,Sc);ie(this,Tc);ie(this,bc);ie(this,Ic);ie(this,Cc);ie(this,Rc);ie(this,Pc);ie(this,Fh);ie(this,In,void 0);ie(this,Ke,void 0);ie(this,Ba,void 0);ie(this,en,void 0);ie(this,cs,void 0);ie(this,za,void 0);ie(this,Vr,void 0);ie(this,Ec,void 0);ie(this,Wa,void 0);ie(this,Ha,void 0);ie(this,ds,void 0);ie(this,fs,void 0);ie(this,oo,void 0);ie(this,hs,void 0);J(this,Ke,void 0),J(this,Ba,void 0),J(this,en,void 0),J(this,hs,new Set),J(this,In,e),this.options=n,J(this,Vr,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(P(this,Ke).addObserver(this),_S(P(this,Ke),this.options)?_e(this,ps,su).call(this):this.updateResult(),_e(this,Ic,zy).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ky(P(this,Ke),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ky(P(this,Ke),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,Cc,Wy).call(this),_e(this,Rc,Hy).call(this),P(this,Ke).removeObserver(this)}setOptions(e,n){const r=this.options,i=P(this,Ke);if(this.options=P(this,In).defaultQueryOptions(e),ch(r,this.options)||P(this,In).getQueryCache().notify({type:"observerOptionsUpdated",query:P(this,Ke),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),_e(this,Pc,qy).call(this);const o=this.hasListeners();o&&ES(P(this,Ke),i,this.options,r)&&_e(this,ps,su).call(this),this.updateResult(n),o&&(P(this,Ke)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&_e(this,Sc,Uy).call(this);const s=_e(this,Tc,jy).call(this);o&&(P(this,Ke)!==i||this.options.enabled!==r.enabled||s!==P(this,oo))&&_e(this,bc,By).call(this,s)}getOptimisticResult(e){const n=P(this,In).getQueryCache().build(P(this,In),e),r=this.createResult(n,e);return F9(this,r)&&(J(this,en,r),J(this,za,this.options),J(this,cs,P(this,Ke).state)),r}getCurrentResult(){return P(this,en)}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(P(this,hs).add(r),e[r])})}),n}getCurrentQuery(){return P(this,Ke)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=P(this,In).defaultQueryOptions(e),r=P(this,In).getQueryCache().build(P(this,In),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return _e(this,ps,su).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),P(this,en)))}createResult(e,n){var b;const r=P(this,Ke),i=this.options,o=P(this,en),s=P(this,cs),a=P(this,za),u=e!==r?e.state:P(this,Ba),{state:c}=e;let{error:d,errorUpdatedAt:f,fetchStatus:h,status:p}=c,g=!1,_;if(n._optimisticResults){const I=this.hasListeners(),R=!I&&_S(e,n),A=I&&ES(e,r,n,i);(R||A)&&(h=Rp(e.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(p="pending")),n._optimisticResults==="isRestoring"&&(h="idle")}if(n.select&&typeof c.data<"u")if(o&&c.data===(s==null?void 0:s.data)&&n.select===P(this,Ec))_=P(this,Wa);else try{J(this,Ec,n.select),_=n.select(c.data),_=Fy(o==null?void 0:o.data,_,n),J(this,Wa,_),J(this,Vr,null)}catch(I){J(this,Vr,I)}else _=c.data;if(typeof n.placeholderData<"u"&&typeof _>"u"&&p==="pending"){let I;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))I=o.data;else if(I=typeof n.placeholderData=="function"?n.placeholderData((b=P(this,Ha))==null?void 0:b.state.data,P(this,Ha)):n.placeholderData,n.select&&typeof I<"u")try{I=n.select(I),J(this,Vr,null)}catch(R){J(this,Vr,R)}typeof I<"u"&&(p="success",_=Fy(o==null?void 0:o.data,I,n),g=!0)}P(this,Vr)&&(d=P(this,Vr),_=P(this,Wa),f=Date.now(),p="error");const m=h==="fetching",y=p==="pending",E=p==="error",v=y&&m;return{status:p,fetchStatus:h,isPending:y,isSuccess:p==="success",isError:E,isInitialLoading:v,isLoading:v,data:_,dataUpdatedAt:c.dataUpdatedAt,error:d,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>u.dataUpdateCount||c.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!y,isLoadingError:E&&c.dataUpdatedAt===0,isPaused:h==="paused",isPlaceholderData:g,isRefetchError:E&&c.dataUpdatedAt!==0,isStale:$w(e,n),refetch:this.refetch}}updateResult(e){const n=P(this,en),r=this.createResult(P(this,Ke),this.options);if(J(this,cs,P(this,Ke).state),J(this,za,this.options),P(this,cs).data!==void 0&&J(this,Ha,P(this,Ke)),ch(r,n))return;J(this,en,r);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!P(this,hs).size)return!0;const l=new Set(a??P(this,hs));return this.options.throwOnError&&l.add("error"),Object.keys(P(this,en)).some(u=>{const c=u;return P(this,en)[c]!==n[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&o()&&(i.listeners=!0),_e(this,Fh,YP).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,Ic,zy).call(this)}},In=new WeakMap,Ke=new WeakMap,Ba=new WeakMap,en=new WeakMap,cs=new WeakMap,za=new WeakMap,Vr=new WeakMap,Ec=new WeakMap,Wa=new WeakMap,Ha=new WeakMap,ds=new WeakMap,fs=new WeakMap,oo=new WeakMap,hs=new WeakMap,ps=new WeakSet,su=function(e){_e(this,Pc,qy).call(this);let n=P(this,Ke).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zn)),n},Sc=new WeakSet,Uy=function(){if(_e(this,Cc,Wy).call(this),il||P(this,en).isStale||!Vy(this.options.staleTime))return;const n=zP(P(this,en).dataUpdatedAt,this.options.staleTime)+1;J(this,ds,setTimeout(()=>{P(this,en).isStale||this.updateResult()},n))},Tc=new WeakSet,jy=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(P(this,Ke)):this.options.refetchInterval)??!1},bc=new WeakSet,By=function(e){_e(this,Rc,Hy).call(this),J(this,oo,e),!(il||this.options.enabled===!1||!Vy(P(this,oo))||P(this,oo)===0)&&J(this,fs,setInterval(()=>{(this.options.refetchIntervalInBackground||dh.isFocused())&&_e(this,ps,su).call(this)},P(this,oo)))},Ic=new WeakSet,zy=function(){_e(this,Sc,Uy).call(this),_e(this,bc,By).call(this,_e(this,Tc,jy).call(this))},Cc=new WeakSet,Wy=function(){P(this,ds)&&(clearTimeout(P(this,ds)),J(this,ds,void 0))},Rc=new WeakSet,Hy=function(){P(this,fs)&&(clearInterval(P(this,fs)),J(this,fs,void 0))},Pc=new WeakSet,qy=function(){const e=P(this,In).getQueryCache().build(P(this,In),this.options);if(e===P(this,Ke))return;const n=P(this,Ke);J(this,Ke,e),J(this,Ba,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Fh=new WeakSet,YP=function(e){It.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(P(this,en))}),P(this,In).getQueryCache().notify({query:P(this,Ke),type:"observerResultsUpdated"})})},yb);function $9(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function _S(t,e){return $9(t,e)||t.state.dataUpdatedAt>0&&Ky(t,e,e.refetchOnMount)}function Ky(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&$w(t,e)}return!1}function ES(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&$w(t,n)}function $w(t,e){return t.isStaleByTime(e.staleTime)}function F9(t,e){return!ch(t.getCurrentResult(),e)}var so,hn,Jn,di,qa,Tf,xc,Gy,vb,U9=(vb=class extends bl{constructor(n,r){super();ie(this,qa);ie(this,xc);ie(this,so,void 0);ie(this,hn,void 0);ie(this,Jn,void 0);ie(this,di,void 0);J(this,hn,void 0),J(this,so,n),this.setOptions(r),this.bindMethods(),_e(this,qa,Tf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=P(this,so).defaultMutationOptions(n),ch(r,this.options)||P(this,so).getMutationCache().notify({type:"observerOptionsUpdated",mutation:P(this,Jn),observer:this}),(i=P(this,Jn))==null||i.setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=P(this,Jn))==null||n.removeObserver(this)}onMutationUpdate(n){_e(this,qa,Tf).call(this),_e(this,xc,Gy).call(this,n)}getCurrentResult(){return P(this,hn)}reset(){J(this,Jn,void 0),_e(this,qa,Tf).call(this),_e(this,xc,Gy).call(this)}mutate(n,r){var i;return J(this,di,r),(i=P(this,Jn))==null||i.removeObserver(this),J(this,Jn,P(this,so).getMutationCache().build(P(this,so),this.options)),P(this,Jn).addObserver(this),P(this,Jn).execute(n)}},so=new WeakMap,hn=new WeakMap,Jn=new WeakMap,di=new WeakMap,qa=new WeakSet,Tf=function(){var r;const n=((r=P(this,Jn))==null?void 0:r.state)??QP();J(this,hn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},xc=new WeakSet,Gy=function(n){It.batch(()=>{var r,i,o,s,a,l,u,c;P(this,di)&&this.hasListeners()&&((n==null?void 0:n.type)==="success"?((i=(r=P(this,di)).onSuccess)==null||i.call(r,n.data,P(this,hn).variables,P(this,hn).context),(s=(o=P(this,di)).onSettled)==null||s.call(o,n.data,null,P(this,hn).variables,P(this,hn).context)):(n==null?void 0:n.type)==="error"&&((l=(a=P(this,di)).onError)==null||l.call(a,n.error,P(this,hn).variables,P(this,hn).context),(c=(u=P(this,di)).onSettled)==null||c.call(u,void 0,n.error,P(this,hn).variables,P(this,hn).context))),this.listeners.forEach(d=>{d(P(this,hn))})})},vb),XP=w.createContext(void 0),Pp=t=>{const e=w.useContext(XP);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},j9=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),w.createElement(XP.Provider,{value:t},e)),JP=w.createContext(!1),B9=()=>w.useContext(JP);JP.Provider;function z9(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var W9=w.createContext(z9()),H9=()=>w.useContext(W9);function ZP(t,e){return typeof t=="function"?t(...e):!!t}var q9=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},K9=t=>{w.useEffect(()=>{t.clearReset()},[t])},G9=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&ZP(n,[t.error,r]),Q9=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Y9=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,X9=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function J9(t,e,n){const r=Pp(n),i=B9(),o=H9(),s=r.defaultQueryOptions(t);s._optimisticResults=i?"isRestoring":"optimistic",Q9(s),q9(s,o),K9(o);const[a]=w.useState(()=>new e(r,s)),l=a.getOptimisticResult(s);if(w.useSyncExternalStore(w.useCallback(u=>{const c=i?()=>{}:a.subscribe(It.batchCalls(u));return a.updateResult(),c},[a,i]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),w.useEffect(()=>{a.setOptions(s,{listeners:!1})},[s,a]),Y9(s,l))throw X9(s,a,o);if(G9({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:a.getCurrentQuery()}))throw l.error;return s.notifyOnChangeProps?l:a.trackResult(l)}function Z9(t,e){return J9(t,V9,e)}function ex(t,e){const n=Pp(e),[r]=w.useState(()=>new U9(n,t));w.useEffect(()=>{r.setOptions(t)},[r,t]);const i=w.useSyncExternalStore(w.useCallback(s=>r.subscribe(It.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=w.useCallback((s,a)=>{r.mutate(s,a).catch(eU)},[r]);if(i.error&&ZP(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function eU(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(f=64)),r.push(n[c],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new nU;const f=o<<2|a>>4;if(r.push(f),u!==64){const h=a<<4&240|u>>2;if(r.push(h),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rU=function(t){const e=tx(t);return nx.encodeByteArray(e,!0)},hh=function(t){return rU(t).replace(/\./g,"")},rx=function(t){try{return nx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=()=>iU().__FIREBASE_DEFAULTS__,sU=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rx(t[1]);return e&&JSON.parse(e)},Fw=()=>{try{return oU()||sU()||aU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ix=t=>{var e,n;return(n=(e=Fw())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lU=t=>{const e=ix(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ox=()=>{var t;return(t=Fw())===null||t===void 0?void 0:t.config},sx=t=>{var e;return(e=Fw())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[hh(JSON.stringify(n)),hh(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function fU(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pU(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mU(){try{return typeof indexedDB=="object"}catch{return!1}}function gU(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="FirebaseError";class Fi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yU,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Fi(i,a,r)}}function vU(t,e){return t.replace(wU,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const wU=/\{\$([^}]+)}/g;function _U(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(SS(o)&&SS(s)){if(!ph(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function SS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function EU(t,e){const n=new SU(t,e);return n.subscribe.bind(n)}class SU{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cg),i.error===void 0&&(i.error=cg),i.complete===void 0&&(i.complete=cg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TU(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Rs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uU;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CU(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IU(t){return t===Qo?void 0:t}function CU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xe||(xe={}));const PU={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},xU=xe.INFO,AU={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},kU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=AU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uw{constructor(e){this.name=e,this._logLevel=xU,this._logHandler=kU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const NU=(t,e)=>e.some(n=>t instanceof n);let TS,bS;function DU(){return TS||(TS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OU(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ax=new WeakMap,Qy=new WeakMap,lx=new WeakMap,dg=new WeakMap,jw=new WeakMap;function MU(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Eo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&ax.set(n,t)}).catch(()=>{}),jw.set(e,t),e}function LU(t){if(Qy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qy.set(t,e)}let Yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VU(t){Yy=t(Yy)}function $U(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fg(this),e,...n);return lx.set(r,e.sort?e.sort():[e]),Eo(r)}:OU().includes(t)?function(...e){return t.apply(fg(this),e),Eo(ax.get(this))}:function(...e){return Eo(t.apply(fg(this),e))}}function FU(t){return typeof t=="function"?$U(t):(t instanceof IDBTransaction&&LU(t),NU(t,DU())?new Proxy(t,Yy):t)}function Eo(t){if(t instanceof IDBRequest)return MU(t);if(dg.has(t))return dg.get(t);const e=FU(t);return e!==t&&(dg.set(t,e),jw.set(e,t)),e}const fg=t=>jw.get(t);function UU(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Eo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Eo(s.result),l.oldVersion,l.newVersion,Eo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const jU=["get","getKey","getAll","getAllKeys","count"],BU=["put","add","delete","clear"],hg=new Map;function IS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hg.get(e))return hg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jU.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return hg.set(e,o),o}VU(t=>({...t,get:(e,n,r)=>IS(e,n)||t.get(e,n,r),has:(e,n)=>!!IS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xy="@firebase/app",CS="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Uw("@firebase/app"),HU="@firebase/app-compat",qU="@firebase/analytics-compat",KU="@firebase/analytics",GU="@firebase/app-check-compat",QU="@firebase/app-check",YU="@firebase/auth",XU="@firebase/auth-compat",JU="@firebase/database",ZU="@firebase/database-compat",e3="@firebase/functions",t3="@firebase/functions-compat",n3="@firebase/installations",r3="@firebase/installations-compat",i3="@firebase/messaging",o3="@firebase/messaging-compat",s3="@firebase/performance",a3="@firebase/performance-compat",l3="@firebase/remote-config",u3="@firebase/remote-config-compat",c3="@firebase/storage",d3="@firebase/storage-compat",f3="@firebase/firestore",h3="@firebase/firestore-compat",p3="firebase",m3="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="[DEFAULT]",g3={[Xy]:"fire-core",[HU]:"fire-core-compat",[KU]:"fire-analytics",[qU]:"fire-analytics-compat",[QU]:"fire-app-check",[GU]:"fire-app-check-compat",[YU]:"fire-auth",[XU]:"fire-auth-compat",[JU]:"fire-rtdb",[ZU]:"fire-rtdb-compat",[e3]:"fire-fn",[t3]:"fire-fn-compat",[n3]:"fire-iid",[r3]:"fire-iid-compat",[i3]:"fire-fcm",[o3]:"fire-fcm-compat",[s3]:"fire-perf",[a3]:"fire-perf-compat",[l3]:"fire-rc",[u3]:"fire-rc-compat",[c3]:"fire-gcs",[d3]:"fire-gcs-compat",[f3]:"fire-fst",[h3]:"fire-fst-compat","fire-js":"fire-js",[p3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,Zy=new Map;function y3(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ol(t){const e=t.name;if(Zy.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;Zy.set(e,t);for(const n of mh.values())y3(n,t);return!0}function Bw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},So=new Qc("app","Firebase",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=m3;function ux(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=ox()),!n)throw So.create("no-options");const o=mh.get(i);if(o){if(ph(n,o.options)&&ph(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}const s=new RU(i);for(const l of Zy.values())s.addComponent(l);const a=new w3(n,r,s);return mh.set(i,a),a}function zw(t=Jy){const e=mh.get(t);if(!e&&t===Jy&&ox())return ux();if(!e)throw So.create("no-app",{appName:t});return e}function To(t,e,n){var r;let i=(r=g3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(a.join(" "));return}ol(new Rs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="firebase-heartbeat-database",E3=1,Yu="firebase-heartbeat-store";let pg=null;function cx(){return pg||(pg=UU(_3,E3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yu)}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),pg}async function S3(t){try{return await(await cx()).transaction(Yu).objectStore(Yu).get(dx(t))}catch(e){if(e instanceof Fi)Ps.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function RS(t,e){try{const r=(await cx()).transaction(Yu,"readwrite");await r.objectStore(Yu).put(e,dx(t)),await r.done}catch(n){if(n instanceof Fi)Ps.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=1024,b3=30*24*60*60*1e3;class I3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new R3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=b3}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PS(),{heartbeatsToSend:r,unsentEntries:i}=C3(this._heartbeatsCache.heartbeats),o=hh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function PS(){return new Date().toISOString().substring(0,10)}function C3(t,e=T3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class R3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mU()?gU().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await S3(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return RS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xS(t){return hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t){ol(new Rs("platform-logger",e=>new zU(e),"PRIVATE")),ol(new Rs("heartbeat",e=>new I3(e),"PRIVATE")),To(Xy,CS,t),To(Xy,CS,"esm2017"),To("fire-js","")}P3("");var x3="firebase",A3="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(x3,A3,"app");function fx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k3=fx,hx=new Qc("auth","Firebase",fx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Uw("@firebase/auth");function N3(t,...e){gh.logLevel<=xe.WARN&&gh.warn(`Auth (${Il}): ${t}`,...e)}function bf(t,...e){gh.logLevel<=xe.ERROR&&gh.error(`Auth (${Il}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t,...e){throw Ww(t,...e)}function Gr(t,...e){return Ww(t,...e)}function px(t,e,n){const r=Object.assign(Object.assign({},k3()),{[e]:n});return new Qc("auth","Firebase",r).create(e,{appName:t.name})}function D3(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ti(t,"argument-error"),px(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ww(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hx.create(t,...e)}function ve(t,e,...n){if(!t)throw Ww(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bf(e),new Error(e)}function ki(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function O3(){return AS()==="http:"||AS()==="https:"}function AS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O3()||fU()||"connection"in navigator)?navigator.onLine:!0}function L3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=dU()||hU()}get(){return M3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=new Xc(3e4,6e4);function qw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cl(t,e,n,r,i={}){return gx(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Yc(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),mx.fetch()(yx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function gx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V3),e);try{const i=new U3(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Wd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Wd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Wd(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw px(t,c,u);ti(t,c)}}catch(i){if(i instanceof Fi)throw i;ti(t,"network-request-failed",{message:String(i)})}}async function F3(t,e,n,r,i={}){const o=await Cl(t,e,n,r,i);return"mfaPendingCredential"in o&&ti(t,"multi-factor-auth-required",{_serverResponse:o}),o}function yx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hw(t.config,i):`${t.config.apiScheme}://${i}`}class U3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),$3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(t,e){return Cl(t,"POST","/v1/accounts:delete",e)}async function B3(t,e){return Cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function z3(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=Kw(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_u(mg(i.auth_time)),issuedAtTime:_u(mg(i.iat)),expirationTime:_u(mg(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function mg(t){return Number(t)*1e3}function Kw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const i=rx(n);return i?JSON.parse(i):(bf("Failed to decode base64 JWT payload"),null)}catch(i){return bf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W3(t){const e=Kw(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Fi&&H3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function H3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xu(t,B3(n,{idToken:r}));ve(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Q3(o.providerUserInfo):[],a=G3(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new vx(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function K3(t){const e=_n(t);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function G3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q3(t){return t.map(e=>{var{providerId:n}=e,r=Mc(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3(t,e){const n=await gx(t,{},async()=>{const r=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yx(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",mx.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X3(t,e){return Cl(t,"POST","/v2/accounts:revokeToken",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ve(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Y3(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ju;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Mc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new q3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return z3(this,e)}reload(){return K3(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Xu(this,j3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:v,isAnonymous:T,providerData:b,stsTokenManager:I}=n;ve(E&&I,e,"internal-error");const R=Ju.fromJSON(this.name,I);ve(typeof E=="string",e,"internal-error"),Wi(d,e.name),Wi(f,e.name),ve(typeof v=="boolean",e,"internal-error"),ve(typeof T=="boolean",e,"internal-error"),Wi(h,e.name),Wi(p,e.name),Wi(g,e.name),Wi(_,e.name),Wi(m,e.name),Wi(y,e.name);const A=new vs({uid:E,auth:e,email:f,emailVerified:v,displayName:d,isAnonymous:T,photoURL:p,phoneNumber:h,tenantId:g,stsTokenManager:R,createdAt:m,lastLoginAt:y});return b&&Array.isArray(b)&&(A.providerData=b.map(N=>Object.assign({},N))),_&&(A._redirectEventId=_),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ju;i.updateFromServerResponse(n);const o=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await yh(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=new Map;function vi(t){ki(t instanceof Function,"Expected a class definition");let e=kS.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wx.type="NONE";const NS=wx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(t,e,n){return`firebase:${t}:${e}:${n}`}class Ia{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=If(this.userKey,i.apiKey,o),this.fullPersistenceKey=If("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ia(vi(NS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||vi(NS);const s=If(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=vs._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Ia(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Ia(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bx(e))return"Blackberry";if(Ix(e))return"Webos";if(Gw(e))return"Safari";if((e.includes("chrome/")||Ex(e))&&!e.includes("edge/"))return"Chrome";if(Tx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function _x(t=cn()){return/firefox\//i.test(t)}function Gw(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ex(t=cn()){return/crios\//i.test(t)}function Sx(t=cn()){return/iemobile/i.test(t)}function Tx(t=cn()){return/android/i.test(t)}function bx(t=cn()){return/blackberry/i.test(t)}function Ix(t=cn()){return/webos/i.test(t)}function xp(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function J3(t=cn()){var e;return xp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Z3(){return pU()&&document.documentMode===10}function Cx(t=cn()){return xp(t)||Tx(t)||Ix(t)||bx(t)||/windows phone/i.test(t)||Sx(t)}function ej(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(t,e=[]){let n;switch(t){case"Browser":n=DS(cn());break;case"Worker":n=`${DS(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",qw(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=6;class ij{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:rj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new OS(this),this.idTokenSubscription=new OS(this),this.beforeStateQueue=new tj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ia.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nj(this),n=new ij(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ia.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&N3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ap(t){return _n(t)}class OS{constructor(e){this.auth=e,this.observer=null,this.addObserver=EU(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function aj(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",sj().appendChild(r)})}function lj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t,e){const n=Bw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ph(o,e??{}))return i;ti(i,"already-initialized")}return n.initialize({options:e})}function cj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dj(t,e,n){const r=Ap(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Px(e),{host:s,port:a}=fj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||hj()}function Px(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fj(t){const e=Px(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:MS(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:MS(s)}}}function MS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t,e){return F3(t,"POST","/v1/accounts:signInWithIdp",qw(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="http://localhost";class xs extends xx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Mc(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new xs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ca(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ca(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ca(e,n)}buildRequest(){const e={requestUri:pj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Qw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Jc{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Jc{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hi.credential(e.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Jc{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vs._fromIdTokenResponse(e,r,i),s=LS(r);return new sl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=LS(r);return new sl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function LS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Fi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vh(e,n,r,i)}}function Ax(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,o,e,r):o})}async function mj(t,e,n=!1){const r=await Xu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return sl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Xu(t,Ax(r,i,e,t),n);ve(o.idToken,r,"internal-error");const s=Kw(o.idToken);ve(s,r,"internal-error");const{sub:a}=s;return ve(t.uid===a,r,"user-mismatch"),sl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ti(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e,n=!1){const r="signIn",i=await Ax(t,r,e),o=await sl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function vj(t,e,n,r){return _n(t).onIdTokenChanged(e,n,r)}function wj(t,e,n){return _n(t).beforeAuthStateChanged(e,n)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(){const t=cn();return Gw(t)||xp(t)}const Ej=1e3,Sj=10;class Nx extends kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_j()&&ej(),this.fallbackToPolling=Cx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Z3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Sj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Ej)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nx.type="LOCAL";const Tj=Nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Dx.type="SESSION";const Ox=Dx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await bj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Yw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function Cj(t){Qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function Rj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xj(){return Mx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="firebaseLocalStorageDb",Aj=1,_h="firebaseLocalStorage",Vx="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Np(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function kj(){const t=indexedDB.deleteDatabase(Lx);return new Zc(t).toPromise()}function tv(){const t=indexedDB.open(Lx,Aj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:Vx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await kj(),e(await tv()))})})}async function VS(t,e,n){const r=Np(t,!0).put({[Vx]:e,value:n});return new Zc(r).toPromise()}async function Nj(t,e){const n=Np(t,!1).get(e),r=await new Zc(n).toPromise();return r===void 0?null:r.value}function $S(t,e){const n=Np(t,!0).delete(e);return new Zc(n).toPromise()}const Dj=800,Oj=3;class $x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kp._getInstance(xj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Rj(),!this.activeServiceWorker)return;this.sender=new Ij(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tv();return await VS(e,wh,"1"),await $S(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Nj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$S(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Np(i,!1).getAll();return new Zc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$x.type="LOCAL";const Mj=$x;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e){return e?vi(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends xx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ca(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ca(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ca(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Lj(t){return yj(t.auth,new Xw(t),t.bypassAuthState)}function Vj(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),gj(n,new Xw(t),t.bypassAuthState)}async function $j(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),mj(n,new Xw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lj;case"linkViaPopup":case"linkViaRedirect":return $j;case"reauthViaPopup":case"reauthViaRedirect":return Vj;default:ti(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=new Xc(2e3,1e4);async function jx(t,e,n){const r=Ap(t);D3(t,e,Qw);const i=Fx(r,n);return new ts(r,"signInViaPopup",e,i).executeNotNull()}class ts extends Ux{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Yw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fj.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="pendingRedirect",Cf=new Map;class jj extends Ux{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cf.get(this.auth._key());if(!e){try{const r=await Bj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cf.set(this.auth._key(),e)}return this.bypassAuthState||Cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bj(t,e){const n=Hj(e),r=Wj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zj(t,e){Cf.set(t._key(),e)}function Wj(t){return vi(t._redirectPersistence)}function Hj(t){return If(Uj,t.config.apiKey,t.name)}async function qj(t,e,n=!1){const r=Ap(t),i=Fx(r,e),s=await new jj(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=10*60*1e3;class Gj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Qj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Bx(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Kj&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(e))}saveEventToCache(e){this.cachedEventUids.add(FS(e)),this.lastProcessedEventTime=Date.now()}}function FS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Bx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Qj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(t,e={}){return Cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jj=/^https?/;async function Zj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Yj(t);for(const n of e)try{if(e5(n))return}catch{}ti(t,"unauthorized-domain")}function e5(t){const e=ev(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Jj.test(n))return!1;if(Xj.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new Xc(3e4,6e4);function US(){const t=Qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function n5(t){return new Promise((e,n)=>{var r,i,o;function s(){US(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{US(),n(Gr(t,"network-request-failed"))},timeout:t5.get()})}if(!((i=(r=Qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Qr().gapi)===null||o===void 0)&&o.load)s();else{const a=lj("iframefcb");return Qr()[a]=()=>{gapi.load?s():n(Gr(t,"network-request-failed"))},aj(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function r5(t){return Rf=Rf||n5(t),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5=new Xc(5e3,15e3),o5="__/auth/iframe",s5="emulator/auth/iframe",a5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u5(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hw(e,s5):`https://${t.config.authDomain}/${o5}`,r={apiKey:e.apiKey,appName:t.name,v:Il},i=l5.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Yc(r).slice(1)}`}async function c5(t){const e=await r5(t),n=Qr().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:u5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a5,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Gr(t,"network-request-failed"),a=Qr().setTimeout(()=>{o(s)},i5.get());function l(){Qr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f5=500,h5=600,p5="_blank",m5="http://localhost";class jS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g5(t,e,n,r=f5,i=h5){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},d5),{width:r.toString(),height:i.toString(),top:o,left:s}),u=cn().toLowerCase();n&&(a=Ex(u)?p5:n),_x(u)&&(e=e||m5,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(J3(u)&&a!=="_self")return y5(e||"",a),new jS(null);const d=window.open(e||"",a,c);ve(d,t,"popup-blocked");try{d.focus()}catch{}return new jS(d)}function y5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="__/auth/handler",w5="emulator/auth/handler",_5=encodeURIComponent("fac");async function BS(t,e,n,r,i,o){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Il,eventId:i};if(e instanceof Qw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_U(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof Jc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${_5}=${encodeURIComponent(l)}`:"";return`${E5(t)}?${Yc(a).slice(1)}${u}`}function E5({config:t}){return t.emulator?Hw(t,w5):`https://${t.authDomain}/${v5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="webStorageSupport";class S5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ox,this._completeRedirectFn=qj,this._overrideRedirectResult=zj}async _openPopup(e,n,r,i){var o;ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await BS(e,n,r,ev(),i);return g5(e,s,Yw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await BS(e,n,r,ev(),i);return Cj(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await c5(e),r=new Gj(e);return n.register("authEvent",i=>(ve(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gg,{type:gg},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[gg];s!==void 0&&n(!!s),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Cx()||Gw()||xp()}}const T5=S5;var zS="@firebase/auth",WS="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function C5(t){ol(new Rs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rx(t)},u=new oj(r,i,o,l);return cj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ol(new Rs("auth-internal",e=>{const n=Ap(e.getProvider("auth").getImmediate());return(r=>new b5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(zS,WS,I5(t)),To(zS,WS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R5=5*60,P5=sx("authIdTokenMaxAge")||R5;let HS=null;const x5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>P5)return;const i=n==null?void 0:n.token;HS!==i&&(HS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Zu(t=zw()){const e=Bw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uj(t,{popupRedirectResolver:T5,persistence:[Mj,Tj,Ox]}),r=sx("authTokenSyncURL");if(r){const o=x5(r);wj(n,o,()=>o(n.currentUser)),vj(n,s=>o(s))}const i=ix("auth");return i&&dj(n,`http://${i}`),n}C5("Browser");var A5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Z,Jw=Jw||{},me=A5||self;function Dp(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ed(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function k5(t){return Object.prototype.hasOwnProperty.call(t,yg)&&t[yg]||(t[yg]=++N5)}var yg="closure_uid_"+(1e9*Math.random()>>>0),N5=0;function D5(t,e,n){return t.call.apply(t.bind,arguments)}function O5(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=D5:an=O5,an.apply(null,arguments)}function Hd(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function $t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function Uo(){this.s=this.s,this.o=this.o}var M5=0;Uo.prototype.s=!1;Uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),M5!=0)&&k5(this)};Uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Zw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qS(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dp(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var L5=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function ec(t){return/^[\s\xa0]*$/.test(t)}function Op(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function jr(t){return Op().indexOf(t)!=-1}function e_(t){return e_[" "](t),t}e_[" "]=function(){};function V5(t,e){var n=x6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var $5=jr("Opera"),al=jr("Trident")||jr("MSIE"),Wx=jr("Edge"),nv=Wx||al,Hx=jr("Gecko")&&!(Op().toLowerCase().indexOf("webkit")!=-1&&!jr("Edge"))&&!(jr("Trident")||jr("MSIE"))&&!jr("Edge"),F5=Op().toLowerCase().indexOf("webkit")!=-1&&!jr("Edge");function qx(){var t=me.document;return t?t.documentMode:void 0}var rv;e:{var vg="",wg=function(){var t=Op();if(Hx)return/rv:([^\);]+)(\)|;)/.exec(t);if(Wx)return/Edge\/([\d\.]+)/.exec(t);if(al)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(F5)return/WebKit\/(\S+)/.exec(t);if($5)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wg&&(vg=wg?wg[1]:""),al){var _g=qx();if(_g!=null&&_g>parseFloat(vg)){rv=String(_g);break e}}rv=vg}var iv;if(me.document&&al){var KS=qx();iv=KS||parseInt(rv,10)||void 0}else iv=void 0;var U5=iv;function tc(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Hx){e:{try{e_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:j5[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&tc.$.h.call(this)}}$t(tc,ln);var j5={2:"touch",3:"pen",4:"mouse"};tc.prototype.h=function(){tc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),B5=0;function z5(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++B5,this.fa=this.ia=!1}function Mp(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function t_(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function W5(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Kx(t){const e={};for(const n in t)e[n]=t[n];return e}const GS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gx(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<GS.length;o++)n=GS[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lp(t){this.src=t,this.g={},this.h=0}Lp.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=sv(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new z5(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function ov(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=zx(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Mp(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sv(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var n_="closure_lm_"+(1e6*Math.random()|0),Eg={};function Qx(t,e,n,r,i){if(r&&r.once)return Xx(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Qx(t,e[o],n,r,i);return null}return n=o_(n),t&&t[td]?t.O(e,n,ed(r)?!!r.capture:!!r,i):Yx(t,e,n,!1,r,i)}function Yx(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=ed(i)?!!i.capture:!!i,a=i_(t);if(a||(t[n_]=a=new Lp(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=H5(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)L5||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zx(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function H5(){function t(n){return e.call(t.src,t.listener,n)}const e=q5;return t}function Xx(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Xx(t,e[o],n,r,i);return null}return n=o_(n),t&&t[td]?t.P(e,n,ed(r)?!!r.capture:!!r,i):Yx(t,e,n,!0,r,i)}function Jx(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Jx(t,e[o],n,r,i);else r=ed(r)?!!r.capture:!!r,n=o_(n),t&&t[td]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sv(o,n,r,i),-1<n&&(Mp(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=i_(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sv(e,n,r,i)),(n=-1<t?e[t]:null)&&r_(n))}function r_(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[td])ov(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zx(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=i_(e))?(ov(n,t),n.h==0&&(n.src=null,e[n_]=null)):Mp(t)}}}function Zx(t){return t in Eg?Eg[t]:Eg[t]="on"+t}function q5(t,e){if(t.fa)t=!0;else{e=new tc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&r_(t),t=n.call(r,e)}return t}function i_(t){return t=t[n_],t instanceof Lp?t:null}var Sg="__closure_events_fn_"+(1e9*Math.random()>>>0);function o_(t){return typeof t=="function"?t:(t[Sg]||(t[Sg]=function(e){return t.handleEvent(e)}),t[Sg])}function Vt(){Uo.call(this),this.i=new Lp(this),this.S=this,this.J=null}$t(Vt,Uo);Vt.prototype[td]=!0;Vt.prototype.removeEventListener=function(t,e,n,r){Jx(this,t,e,n,r)};function qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var i=e;e=new ln(r,t),Gx(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=qd(s,r,!0,e)&&i}if(s=e.g=t,i=qd(s,r,!0,e)&&i,i=qd(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=qd(s,r,!1,e)&&i}Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mp(n[r]);delete t.g[e],t.h--}}this.J=null};Vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function qd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&ov(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var s_=me.JSON.stringify;class K5{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function G5(){var t=a_;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Q5{constructor(){this.h=this.g=null}add(e,n){const r=eA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var eA=new K5(()=>new Y5,t=>t.reset());class Y5{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function X5(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function J5(t){me.setTimeout(()=>{throw t},0)}let nc,rc=!1,a_=new Q5,tA=()=>{const t=me.Promise.resolve(void 0);nc=()=>{t.then(Z5)}};var Z5=()=>{for(var t;t=G5();){try{t.h.call(t.g)}catch(n){J5(n)}var e=eA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rc=!1};function Vp(t,e){Vt.call(this),this.h=t||1,this.g=e||me,this.j=an(this.qb,this),this.l=Date.now()}$t(Vp,Vt);Z=Vp.prototype;Z.ga=!1;Z.T=null;Z.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),qt(this,"tick"),this.ga&&(l_(this),this.start()))}};Z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function l_(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Z.N=function(){Vp.$.N.call(this),l_(this),delete this.g};function u_(t,e,n){if(typeof t=="function")n&&(t=an(t,n));else if(t&&typeof t.handleEvent=="function")t=an(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function nA(t){t.g=u_(()=>{t.g=null,t.i&&(t.i=!1,nA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class e6 extends Uo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nA(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(t){Uo.call(this),this.h=t,this.g={}}$t(ic,Uo);var QS=[];function rA(t,e,n,r){Array.isArray(n)||(n&&(QS[0]=n.toString()),n=QS);for(var i=0;i<n.length;i++){var o=Qx(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function iA(t){t_(t.g,function(e,n){this.g.hasOwnProperty(n)&&r_(e)},t),t.g={}}ic.prototype.N=function(){ic.$.N.call(this),iA(this)};ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $p(){this.g=!0}$p.prototype.Ea=function(){this.g=!1};function t6(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function n6(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function pa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+i6(t,n)+(r?" "+r:"")})}function r6(t,e){t.info(function(){return"TIMEOUT: "+e})}$p.prototype.info=function(){};function i6(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return s_(n)}catch{return e}}var zs={},YS=null;function Fp(){return YS=YS||new Vt}zs.Ta="serverreachability";function oA(t){ln.call(this,zs.Ta,t)}$t(oA,ln);function oc(t){const e=Fp();qt(e,new oA(e))}zs.STAT_EVENT="statevent";function sA(t,e){ln.call(this,zs.STAT_EVENT,t),this.stat=e}$t(sA,ln);function yn(t){const e=Fp();qt(e,new sA(e,t))}zs.Ua="timingevent";function aA(t,e){ln.call(this,zs.Ua,t),this.size=e}$t(aA,ln);function nd(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Up={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function c_(){}c_.prototype.h=null;function XS(t){return t.h||(t.h=t.i())}function uA(){}var rd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function d_(){ln.call(this,"d")}$t(d_,ln);function f_(){ln.call(this,"c")}$t(f_,ln);var av;function jp(){}$t(jp,c_);jp.prototype.g=function(){return new XMLHttpRequest};jp.prototype.i=function(){return{}};av=new jp;function id(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ic(this),this.P=o6,t=nv?125:void 0,this.V=new Vp(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new cA}function cA(){this.i=null,this.g="",this.h=!1}var o6=45e3,lv={},Eh={};Z=id.prototype;Z.setTimeout=function(t){this.P=t};function uv(t,e,n){t.L=1,t.v=zp(Ni(e)),t.s=n,t.S=!0,dA(t,null)}function dA(t,e){t.G=Date.now(),od(t),t.A=Ni(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),wA(n.i,"t",r),t.C=0,n=t.l.J,t.h=new cA,t.g=UA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new e6(an(t.Pa,t,t.g),t.O)),rA(t.U,t.g,"readystatechange",t.nb),e=t.I?Kx(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),oc(),t6(t.j,t.u,t.A,t.m,t.W,t.s)}Z.nb=function(t){t=t.target;const e=this.M;e&&zr(t)==3?e.l():this.Pa(t)};Z.Pa=function(t){try{if(t==this.g)e:{const c=zr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||nv||this.g&&(this.h.h||this.g.ja()||tT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?oc(3):oc(2)),Bp(this);var n=this.g.da();this.ca=n;t:if(fA(this)){var r=tT(this.g);t="";var i=r.length,o=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ns(this),Eu(this);var s="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,n6(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ec(a)){var u=a;break t}}u=null}if(n=u)pa(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cv(this,n);else{this.i=!1,this.o=3,yn(12),ns(this),Eu(this);break e}}this.S?(hA(this,c,s),nv&&this.i&&c==3&&(rA(this.U,this.V,"tick",this.mb),this.V.start())):(pa(this.j,this.m,s,null),cv(this,s)),c==4&&ns(this),this.i&&!this.J&&(c==4?LA(this.l,this):(this.i=!1,od(this)))}else C6(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,yn(12)):(this.o=0,yn(13)),ns(this),Eu(this)}}}catch{}finally{}};function fA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function hA(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=s6(t,n),i==Eh){e==4&&(t.o=4,yn(14),r=!1),pa(t.j,t.m,null,"[Incomplete Response]");break}else if(i==lv){t.o=4,yn(15),pa(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else pa(t.j,t.m,i,null),cv(t,i);fA(t)&&i!=Eh&&i!=lv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,yn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),v_(e),e.M=!0,yn(11))):(pa(t.j,t.m,n,"[Invalid Chunked Response]"),ns(t),Eu(t))}Z.mb=function(){if(this.g){var t=zr(this.g),e=this.g.ja();this.C<e.length&&(Bp(this),hA(this,t,e),this.i&&t!=4&&od(this))}};function s6(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Eh:(n=Number(e.substring(n,r)),isNaN(n)?lv:(r+=1,r+n>e.length?Eh:(e=e.slice(r,r+n),t.C=r+n,e)))}Z.cancel=function(){this.J=!0,ns(this)};function od(t){t.Y=Date.now()+t.P,pA(t,t.P)}function pA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=nd(an(t.lb,t),e)}function Bp(t){t.B&&(me.clearTimeout(t.B),t.B=null)}Z.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(r6(this.j,this.A),this.L!=2&&(oc(),yn(17)),ns(this),this.o=2,Eu(this)):pA(this,this.Y-t)};function Eu(t){t.l.H==0||t.J||LA(t.l,t)}function ns(t){Bp(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,l_(t.V),iA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cv(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||dv(n.i,t))){if(!t.K&&dv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)bh(n),qp(n);else break e;y_(n),yn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=nd(an(n.ib,n),6e3));if(1>=SA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else rs(n,11)}else if((t.K||n.g==t)&&bh(n),!ec(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const p=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=r.i;o.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(h_(o,o.h),o.h=null))}if(r.F){const g=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Xe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=FA(r,r.J?r.pa:null,r.Y),s.K){TA(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Bp(a),od(a)),r.g=s}else OA(r);0<n.j.length&&Kp(n)}else u[0]!="stop"&&u[0]!="close"||rs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?rs(n,7):g_(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}oc(4)}catch{}}function a6(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Dp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function l6(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dp(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function mA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Dp(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=l6(t),r=a6(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var gA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function u6(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ws(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ws){this.h=t.h,Sh(this,t.j),this.s=t.s,this.g=t.g,Th(this,t.m),this.l=t.l;var e=t.i,n=new sc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),JS(this,n),this.o=t.o}else t&&(e=String(t).match(gA))?(this.h=!1,Sh(this,e[1]||"",!0),this.s=au(e[2]||""),this.g=au(e[3]||"",!0),Th(this,e[4]),this.l=au(e[5]||"",!0),JS(this,e[6]||"",!0),this.o=au(e[7]||"")):(this.h=!1,this.i=new sc(null,this.h))}ws.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lu(e,ZS,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(lu(e,ZS,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(lu(n,n.charAt(0)=="/"?f6:d6,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lu(n,p6)),t.join("")};function Ni(t){return new ws(t)}function Sh(t,e,n){t.j=n?au(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Th(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function JS(t,e,n){e instanceof sc?(t.i=e,m6(t.i,t.h)):(n||(e=lu(e,h6)),t.i=new sc(e,t.h))}function Xe(t,e,n){t.i.set(e,n)}function zp(t){return Xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function au(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,c6),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function c6(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ZS=/[#\/\?@]/g,d6=/[#\?:]/g,f6=/[#\?]/g,h6=/[#\?@]/g,p6=/#/g;function sc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jo(t){t.g||(t.g=new Map,t.h=0,t.i&&u6(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Z=sc.prototype;Z.add=function(t,e){jo(this),this.i=null,t=Rl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function yA(t,e){jo(t),e=Rl(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function vA(t,e){return jo(t),e=Rl(t,e),t.g.has(e)}Z.forEach=function(t,e){jo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Z.ta=function(){jo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Z.Z=function(t){jo(this);let e=[];if(typeof t=="string")vA(this,t)&&(e=e.concat(this.g.get(Rl(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Z.set=function(t,e){return jo(this),this.i=null,t=Rl(this,t),vA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Z.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function wA(t,e,n){yA(t,e),0<n.length&&(t.i=null,t.g.set(Rl(t,e),Zw(n)),t.h+=n.length)}Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Rl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function m6(t,e){e&&!t.j&&(jo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(yA(this,r),wA(this,i,n))},t)),t.j=e}var g6=class{constructor(t,e){this.g=t,this.map=e}};function _A(t){this.l=t||y6,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var y6=10;function EA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function SA(t){return t.h?1:t.g?t.g.size:0}function dv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function h_(t,e){t.g?t.g.add(e):t.h=e}function TA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}_A.prototype.cancel=function(){if(this.i=bA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function bA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Zw(t.i)}var v6=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function w6(){this.g=new v6}function _6(t,e,n){const r=n||"";try{mA(t,function(i,o){let s=i;ed(i)&&(s=s_(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function E6(t,e){const n=new $p;if(me.Image){const r=new Image;r.onload=Hd(Kd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hd(Kd,n,r,"TestLoadImage: error",!1,e),r.onabort=Hd(Kd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hd(Kd,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Kd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function sd(t){this.l=t.ec||null,this.j=t.ob||!1}$t(sd,c_);sd.prototype.g=function(){return new Wp(this.l,this.j)};sd.prototype.i=function(t){return function(){return t}}({});function Wp(t,e){Vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=p_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$t(Wp,Vt);var p_=0;Z=Wp.prototype;Z.open=function(t,e){if(this.readyState!=p_)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ac(this)};Z.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ad(this)),this.readyState=p_};Z.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ac(this)),this.g&&(this.readyState=3,ac(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function IA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Z.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ad(this):ac(this),this.readyState==3&&IA(this)}};Z.Za=function(t){this.g&&(this.response=this.responseText=t,ad(this))};Z.Ya=function(t){this.g&&(this.response=t,ad(this))};Z.ka=function(){this.g&&ad(this)};function ad(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ac(t)}Z.setRequestHeader=function(t,e){this.v.append(t,e)};Z.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Z.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ac(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var S6=me.JSON.parse;function ft(t){Vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=CA,this.L=this.M=!1}$t(ft,Vt);var CA="",T6=/^https?$/i,b6=["POST","PUT"];Z=ft.prototype;Z.Oa=function(t){this.M=t};Z.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():av.g(),this.C=this.u?XS(this.u):XS(av),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){eT(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=me.FormData&&t instanceof me.FormData,!(0<=zx(b6,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xA(this),0<this.B&&((this.L=I6(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=u_(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){eT(this,o)}};function I6(t){return al&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Z.ua=function(){typeof Jw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qt(this,"timeout"),this.abort(8))};function eT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,RA(t),Hp(t)}function RA(t){t.F||(t.F=!0,qt(t,"complete"),qt(t,"error"))}Z.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qt(this,"complete"),qt(this,"abort"),Hp(this))};Z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hp(this,!0)),ft.$.N.call(this)};Z.La=function(){this.s||(this.G||this.v||this.l?PA(this):this.kb())};Z.kb=function(){PA(this)};function PA(t){if(t.h&&typeof Jw<"u"&&(!t.C[1]||zr(t)!=4||t.da()!=2)){if(t.v&&zr(t)==4)u_(t.La,0,t);else if(qt(t,"readystatechange"),zr(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(gA)[1]||null;!i&&me.self&&me.self.location&&(i=me.self.location.protocol.slice(0,-1)),r=!T6.test(i?i.toLowerCase():"")}n=r}if(n)qt(t,"complete"),qt(t,"success");else{t.m=6;try{var o=2<zr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",RA(t)}}finally{Hp(t)}}}}function Hp(t,e){if(t.g){xA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function xA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}Z.isActive=function(){return!!this.g};function zr(t){return t.g?t.g.readyState:0}Z.da=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}};Z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Z.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),S6(e)}};function tT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case CA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function C6(t){const e={};t=(t.g&&2<=zr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ec(t[r]))continue;var n=X5(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}W5(e,function(r){return r.join(", ")})}Z.Ia=function(){return this.m};Z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function AA(t){let e="";return t_(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function m_(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=AA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Xe(t,e,n))}function Ql(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kA(t){this.Ga=0,this.j=[],this.l=new $p,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ql("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ql("baseRetryDelayMs",5e3,t),this.hb=Ql("retryDelaySeedMs",1e4,t),this.eb=Ql("forwardChannelMaxRetries",2,t),this.xa=Ql("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new _A(t&&t.concurrentRequestLimit),this.Ja=new w6,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Z=kA.prototype;Z.ra=8;Z.H=1;function g_(t){if(NA(t),t.H==3){var e=t.W++,n=Ni(t.I);if(Xe(n,"SID",t.K),Xe(n,"RID",e),Xe(n,"TYPE","terminate"),ld(t,n),e=new id(t,t.l,e),e.L=2,e.v=zp(Ni(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=UA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),od(e)}$A(t)}function qp(t){t.g&&(v_(t),t.g.cancel(),t.g=null)}function NA(t){qp(t),t.u&&(me.clearTimeout(t.u),t.u=null),bh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Kp(t){if(!EA(t.i)&&!t.m){t.m=!0;var e=t.Na;nc||tA(),rc||(nc(),rc=!0),a_.add(e,t),t.C=0}}function R6(t,e){return SA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=nd(an(t.Na,t,e),VA(t,t.C)),t.C++,!0)}Z.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new id(this,this.l,t);let o=this.s;if(this.U&&(o?(o=Kx(o),Gx(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=DA(this,i,e),n=Ni(this.I),Xe(n,"RID",t),Xe(n,"CVER",22),this.F&&Xe(n,"X-HTTP-Session-Id",this.F),ld(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(AA(o)))+"&"+e:this.o&&m_(n,this.o,o)),h_(this.i,i),this.bb&&Xe(n,"TYPE","init"),this.P?(Xe(n,"$req",e),Xe(n,"SID","null"),i.aa=!0,uv(i,n,null)):uv(i,n,e),this.H=2}}else this.H==3&&(t?nT(this,t):this.j.length==0||EA(this.i)||nT(this))};function nT(t,e){var n;e?n=e.m:n=t.W++;const r=Ni(t.I);Xe(r,"SID",t.K),Xe(r,"RID",n),Xe(r,"AID",t.V),ld(t,r),t.o&&t.s&&m_(r,t.o,t.s),n=new id(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=DA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),h_(t.i,n),uv(n,r,e)}function ld(t,e){t.na&&t_(t.na,function(n,r){Xe(e,r,n)}),t.h&&mA({},function(n,r){Xe(e,r,n)})}function DA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?an(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{_6(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function OA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;nc||tA(),rc||(nc(),rc=!0),a_.add(e,t),t.A=0}}function y_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=nd(an(t.Ma,t),VA(t,t.A)),t.A++,!0)}Z.Ma=function(){if(this.u=null,MA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=nd(an(this.jb,this),t)}};Z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yn(10),qp(this),MA(this))};function v_(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function MA(t){t.g=new id(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ni(t.wa);Xe(e,"RID","rpc"),Xe(e,"SID",t.K),Xe(e,"AID",t.V),Xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Xe(e,"TO",t.qa),Xe(e,"TYPE","xmlhttp"),ld(t,e),t.o&&t.s&&m_(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=zp(Ni(e)),n.s=null,n.S=!0,dA(n,t)}Z.ib=function(){this.v!=null&&(this.v=null,qp(this),y_(this),yn(19))};function bh(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function LA(t,e){var n=null;if(t.g==e){bh(t),v_(t),t.g=null;var r=2}else if(dv(t.i,e))n=e.F,TA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Fp(),qt(r,new aA(r,n)),Kp(t)}else OA(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&R6(t,e)||r==2&&y_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:rs(t,5);break;case 4:rs(t,10);break;case 3:rs(t,6);break;default:rs(t,2)}}}function VA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function rs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=an(t.pb,t);n||(n=new ws("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||Sh(n,"https"),zp(n)),E6(n.toString(),r)}else yn(2);t.H=0,t.h&&t.h.za(e),$A(t),NA(t)}Z.pb=function(t){t?(this.l.info("Successfully pinged google.com"),yn(2)):(this.l.info("Failed to ping google.com"),yn(1))};function $A(t){if(t.H=0,t.ma=[],t.h){const e=bA(t.i);(e.length!=0||t.j.length!=0)&&(qS(t.ma,e),qS(t.ma,t.j),t.i.i.length=0,Zw(t.j),t.j.length=0),t.h.ya()}}function FA(t,e,n){var r=n instanceof ws?Ni(n):new ws(n);if(r.g!="")e&&(r.g=e+"."+r.g),Th(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new ws(null);r&&Sh(o,r),e&&(o.g=e),i&&Th(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&Xe(r,n,e),Xe(r,"VER",t.ra),ld(t,r),r}function UA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ft(new sd({ob:!0})):new ft(t.va),e.Oa(t.J),e}Z.isActive=function(){return!!this.h&&this.h.isActive(this)};function jA(){}Z=jA.prototype;Z.Ba=function(){};Z.Aa=function(){};Z.za=function(){};Z.ya=function(){};Z.isActive=function(){return!0};Z.Va=function(){};function Ih(){if(al&&!(10<=Number(U5)))throw Error("Environmental error: no available transport.")}Ih.prototype.g=function(t,e){return new Wn(t,e)};function Wn(t,e){Vt.call(this),this.g=new kA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ec(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ec(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Pl(this)}$t(Wn,Vt);Wn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;yn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=FA(t,null,t.Y),Kp(t)};Wn.prototype.close=function(){g_(this.g)};Wn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=s_(t),t=n);e.j.push(new g6(e.fb++,t)),e.H==3&&Kp(e)};Wn.prototype.N=function(){this.g.h=null,delete this.j,g_(this.g),delete this.g,Wn.$.N.call(this)};function BA(t){d_.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}$t(BA,d_);function zA(){f_.call(this),this.status=1}$t(zA,f_);function Pl(t){this.g=t}$t(Pl,jA);Pl.prototype.Ba=function(){qt(this.g,"a")};Pl.prototype.Aa=function(t){qt(this.g,new BA(t))};Pl.prototype.za=function(t){qt(this.g,new zA)};Pl.prototype.ya=function(){qt(this.g,"b")};function P6(){this.blockSize=-1}function Rr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}$t(Rr,P6);Rr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Tg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}Rr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Tg(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Tg(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Tg(this,r),i=0;break}}this.h=i,this.i+=e};Rr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Be(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var x6={};function w_(t){return-128<=t&&128>t?V5(t,function(e){return new Be([e|0],0>e?-1:0)}):new Be([t|0],0>t?-1:0)}function Wr(t){if(isNaN(t)||!isFinite(t))return Ra;if(0>t)return zt(Wr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=fv;return new Be(e,0)}function WA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return zt(WA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wr(Math.pow(e,8)),r=Ra,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Wr(Math.pow(e,o)),r=r.R(o).add(Wr(s))):(r=r.R(n),r=r.add(Wr(s)))}return r}var fv=4294967296,Ra=w_(0),hv=w_(1),rT=w_(16777216);Z=Be.prototype;Z.ea=function(){if(ir(this))return-zt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:fv+r)*e,e*=fv}return t};Z.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(wi(this))return"0";if(ir(this))return"-"+zt(this).toString(t);for(var e=Wr(Math.pow(t,6)),n=this,r="";;){var i=Rh(n,e).g;n=Ch(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,wi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Z.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function wi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function ir(t){return t.h==-1}Z.X=function(t){return t=Ch(this,t),ir(t)?-1:wi(t)?0:1};function zt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Be(n,~t.h).add(hv)}Z.abs=function(){return ir(this)?zt(this):this};Z.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Be(n,n[n.length-1]&-2147483648?-1:0)};function Ch(t,e){return t.add(zt(e))}Z.R=function(t){if(wi(this)||wi(t))return Ra;if(ir(this))return ir(t)?zt(this).R(zt(t)):zt(zt(this).R(t));if(ir(t))return zt(this.R(zt(t)));if(0>this.X(rT)&&0>t.X(rT))return Wr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Gd(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Gd(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Gd(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Gd(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Be(n,0)};function Gd(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Yl(t,e){this.g=t,this.h=e}function Rh(t,e){if(wi(e))throw Error("division by zero");if(wi(t))return new Yl(Ra,Ra);if(ir(t))return e=Rh(zt(t),e),new Yl(zt(e.g),zt(e.h));if(ir(e))return e=Rh(t,zt(e)),new Yl(zt(e.g),e.h);if(30<t.g.length){if(ir(t)||ir(e))throw Error("slowDivide_ only works with positive integers.");for(var n=hv,r=e;0>=r.X(t);)n=iT(n),r=iT(r);var i=Xs(n,1),o=Xs(r,1);for(r=Xs(r,2),n=Xs(n,2);!wi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Xs(r,1),n=Xs(n,1)}return e=Ch(t,i.R(e)),new Yl(i,e)}for(i=Ra;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Wr(n),s=o.R(e);ir(s)||0<s.X(t);)n-=r,o=Wr(n),s=o.R(e);wi(o)&&(o=hv),i=i.add(o),t=Ch(t,s)}return new Yl(i,t)}Z.gb=function(t){return Rh(this,t).h};Z.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Be(n,this.h&t.h)};Z.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Be(n,this.h|t.h)};Z.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Be(n,this.h^t.h)};function iT(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Be(n,t.h)}function Xs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Be(i,t.h)}Ih.prototype.createWebChannel=Ih.prototype.g;Wn.prototype.send=Wn.prototype.u;Wn.prototype.open=Wn.prototype.m;Wn.prototype.close=Wn.prototype.close;Up.NO_ERROR=0;Up.TIMEOUT=8;Up.HTTP_ERROR=6;lA.COMPLETE="complete";uA.EventType=rd;rd.OPEN="a";rd.CLOSE="b";rd.ERROR="c";rd.MESSAGE="d";Vt.prototype.listen=Vt.prototype.O;ft.prototype.listenOnce=ft.prototype.P;ft.prototype.getLastError=ft.prototype.Sa;ft.prototype.getLastErrorCode=ft.prototype.Ia;ft.prototype.getStatus=ft.prototype.da;ft.prototype.getResponseJson=ft.prototype.Wa;ft.prototype.getResponseText=ft.prototype.ja;ft.prototype.send=ft.prototype.ha;ft.prototype.setWithCredentials=ft.prototype.Oa;Rr.prototype.digest=Rr.prototype.l;Rr.prototype.reset=Rr.prototype.reset;Rr.prototype.update=Rr.prototype.j;Be.prototype.add=Be.prototype.add;Be.prototype.multiply=Be.prototype.R;Be.prototype.modulo=Be.prototype.gb;Be.prototype.compare=Be.prototype.X;Be.prototype.toNumber=Be.prototype.ea;Be.prototype.toString=Be.prototype.toString;Be.prototype.getBits=Be.prototype.D;Be.fromNumber=Wr;Be.fromString=WA;var A6=function(){return new Ih},k6=function(){return Fp()},bg=Up,N6=lA,D6=zs,oT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},O6=sd,Qd=uA,M6=ft,L6=Rr,Pa=Be;const sT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Uw("@firebase/firestore");function Xl(){return As.logLevel}function ae(t,...e){if(As.logLevel<=xe.DEBUG){const n=e.map(__);As.debug(`Firestore (${xl}): ${t}`,...n)}}function Di(t,...e){if(As.logLevel<=xe.ERROR){const n=e.map(__);As.error(`Firestore (${xl}): ${t}`,...n)}}function ll(t,...e){if(As.logLevel<=xe.WARN){const n=e.map(__);As.warn(`Firestore (${xl}): ${t}`,...n)}}function __(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+t;throw Di(e),new Error(e)}function et(t,e){t||he()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class $6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F6{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bo,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bo)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new HA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new tn(e)}}class U6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class j6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new U6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ae("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new B6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=W6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function ul(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Rt(0,0))}static max(){return new ye(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Je extends lc{construct(e,n,r){return new Je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const H6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends lc{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return H6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new re(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new re(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Je.fromString(e))}static fromName(e){return new ue(Je.fromString(e).popFirst(5))}static empty(){return new ue(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Je(e.slice()))}}function q6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new No(i,ue.empty(),e)}function K6(t){return new No(t.readTime,t.key,-1)}class No{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new No(ye.min(),ue.empty(),-1)}static max(){return new No(ye.max(),ue.empty(),-1)}}function G6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==Q6)throw t;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new q((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function cd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}E_._e=-1;function Gp(t){return t==null}function Ph(t){return t===0&&1/t==-1/0}function X6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ph(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function KA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yd(this.root,e,this.comparator,!0)}}class Yd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=i??Bt.EMPTY,this.right=o??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Bt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lT(this.data.getIterator())}getIteratorFrom(e){return new lT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class lT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Fn([])}unionWith(e){let n=new Kt(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ul(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new GA("Invalid base64 string: "+o):o}}(e);return new dn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const J6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(et(!!t),typeof t=="string"){let e=0;const n=J6.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ks(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function T_(t){const e=t.mapValue.fields.__previous_value__;return S_(e)?T_(e):e}function uc(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class cc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S_(t)?4:eB(t)?9007199254740991:10:he()}function ni(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ks(i.bytesValue).isEqual(ks(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return vt(i.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(i.geoPointValue.longitude)===vt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return vt(i.integerValue)===vt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=vt(i.doubleValue),a=vt(o.doubleValue);return s===a?Ph(s)===Ph(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ul(t.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(aT(s)!==aT(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ni(s[l],a[l])))return!1;return!0}(t,e);default:return he()}}function dc(t,e){return(t.values||[]).find(n=>ni(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=vt(o.integerValue||o.doubleValue),l=vt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return uT(t.timestampValue,e.timestampValue);case 4:return uT(uc(t),uc(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ks(o),l=ks(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=$e(a[u],l[u]);if(c!==0)return c}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=$e(vt(o.latitude),vt(s.latitude));return a!==0?a:$e(vt(o.longitude),vt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=cl(a[u],l[u]);if(c)return c}return $e(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Xd.mapValue&&s===Xd.mapValue)return 0;if(o===Xd.mapValue)return 1;if(s===Xd.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=$e(l[d],c[d]);if(f!==0)return f;const h=cl(a[l[d]],u[c[d]]);if(h!==0)return h}return $e(l.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function uT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=Do(t),r=Do(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function dl(t){return pv(t)}function pv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${pv(n.fields[s])}`;return i+"}"}(t.mapValue):he()}function cT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mv(t){return!!t&&"integerValue"in t}function b_(t){return!!t&&"arrayValue"in t}function dT(t){return!!t&&"nullValue"in t}function fT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pf(t){return!!t&&"mapValue"in t}function Su(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Su(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Su(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Su(n)}setAll(e){let n=Wt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Su(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ws(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(Su(this.value))}}function QA(t){const e=[];return Ws(t.fields,(n,r)=>{const i=new Wt([n]);if(Pf(r)){const o=QA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new on(e,0,ye.min(),ye.min(),ye.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,ye.min(),ye.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,ye.min(),ye.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function hT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=cl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function pT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ni(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function tB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{}class _t extends YA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rB(e,n,r):n==="array-contains"?new sB(e,r):n==="in"?new aB(e,r):n==="not-in"?new lB(e,r):n==="array-contains-any"?new uB(e,r):new _t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iB(e,r):new oB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(cl(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends YA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Pr(e,n)}matches(e){return XA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function XA(t){return t.op==="and"}function JA(t){return nB(t)&&XA(t)}function nB(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function gv(t){if(t instanceof _t)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(JA(t))return t.filters.map(e=>gv(e)).join(",");{const e=t.filters.map(n=>gv(n)).join(",");return`${t.op}(${e})`}}function ZA(t,e){return t instanceof _t?function(r,i){return i instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&ni(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ZA(s,i.filters[a]),!0):!1}(t,e):void he()}function ek(t){return t instanceof _t?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(ek).join(" ,")+"}"}(t):"Filter"}class rB extends _t{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class iB extends _t{constructor(e,n){super(e,"in",n),this.keys=tk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oB extends _t{constructor(e,n){super(e,"not-in",n),this.keys=tk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class sB extends _t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b_(n)&&dc(n.arrayValue,this.value)}}class aB extends _t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dc(this.value.arrayValue,n)}}class lB extends _t{constructor(e,n){super(e,"not-in",n)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dc(this.value.arrayValue,n)}}class uB extends _t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function mT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cB(t,e,n,r,i,o,s)}function I_(t){const e=Se(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Gp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.ce=n}return e.ce}function C_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pT(t.startAt,e.startAt)&&pT(t.endAt,e.endAt)}function yv(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function dB(t,e,n,r,i,o,s,a){return new Al(t,e,n,r,i,o,s,a)}function nk(t){return new Al(t)}function gT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rk(t){return t.collectionGroup!==null}function Tu(t){const e=Se(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Kt(Wt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new fc(o,r))}),n.has(Wt.keyField().canonicalString())||e.le.push(new fc(Wt.keyField(),r))}return e.le}function Yr(t){const e=Se(t);return e.he||(e.he=fB(e,Tu(t))),e.he}function fB(t,e){if(t.limitType==="F")return mT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new fc(i.field,o)});const n=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;return mT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vv(t,e){const n=t.filters.concat([e]);return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ah(t,e,n){return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qp(t,e){return C_(Yr(t),Yr(e))&&t.limitType===e.limitType}function ik(t){return`${I_(Yr(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ek(i)).join(", ")}]`),Gp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(Yr(t))}; limitType=${t.limitType})`}function Yp(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Tu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=hT(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Tu(r),i)||r.endAt&&!function(s,a,l){const u=hT(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Tu(r),i))}(t,e)}function hB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ok(t){return(e,n)=>{let r=!1;for(const i of Tu(t)){const o=pB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function pB(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?cl(l,u):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return KA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new ct(ue.comparator);function Oi(){return mB}const sk=new ct(ue.comparator);function uu(...t){let e=sk;for(const n of t)e=e.insert(n.key,n);return e}function ak(t){let e=sk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return bu()}function lk(){return bu()}function bu(){return new kl(t=>t.toString(),(t,e)=>t.isEqual(e))}const gB=new ct(ue.comparator),yB=new Kt(ue.comparator);function Re(...t){let e=yB;for(const n of t)e=e.add(n);return e}const vB=new Kt($e);function wB(){return vB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function ck(t){return{integerValue:""+t}}function _B(t,e){return X6(e)?ck(e):uk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(){this._=void 0}}function EB(t,e,n){return t instanceof kh?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&S_(o)&&(o=T_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof hc?fk(t,e):t instanceof pc?hk(t,e):function(i,o){const s=dk(i,o),a=yT(s)+yT(i.Ie);return mv(s)&&mv(i.Ie)?ck(a):uk(i.serializer,a)}(t,e)}function SB(t,e,n){return t instanceof hc?fk(t,e):t instanceof pc?hk(t,e):n}function dk(t,e){return t instanceof Nh?function(r){return mv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class kh extends Xp{}class hc extends Xp{constructor(e){super(),this.elements=e}}function fk(t,e){const n=pk(e);for(const r of t.elements)n.some(i=>ni(i,r))||n.push(r);return{arrayValue:{values:n}}}class pc extends Xp{constructor(e){super(),this.elements=e}}function hk(t,e){let n=pk(e);for(const r of t.elements)n=n.filter(i=>!ni(i,r));return{arrayValue:{values:n}}}class Nh extends Xp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yT(t){return vt(t.integerValue||t.doubleValue)}function pk(t){return b_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hc&&i instanceof hc||r instanceof pc&&i instanceof pc?ul(r.elements,i.elements,ni):r instanceof Nh&&i instanceof Nh?ni(r.Ie,i.Ie):r instanceof kh&&i instanceof kh}(t.transform,e.transform)}class bB{constructor(e,n){this.version=e,this.transformResults=n}}class Xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xr}static exists(e){return new Xr(void 0,e)}static updateTime(e){return new Xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jp{}function mk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yk(t.key,Xr.none()):new dd(t.key,t.data,Xr.none());{const n=t.data,r=Rn.empty();let i=new Kt(Wt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bo(t.key,r,new Fn(i.toArray()),Xr.none())}}function IB(t,e,n){t instanceof dd?function(i,o,s){const a=i.value.clone(),l=wT(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bo?function(i,o,s){if(!xf(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=wT(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(gk(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Iu(t,e,n,r){return t instanceof dd?function(o,s,a,l){if(!xf(o.precondition,s))return a;const u=o.value.clone(),c=_T(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bo?function(o,s,a,l){if(!xf(o.precondition,s))return a;const u=_T(o.fieldTransforms,l,s),c=s.data;return c.setAll(gk(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return xf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function CB(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=dk(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function vT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ul(r,i,(o,s)=>TB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dd extends Jp{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bo extends Jp{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wT(t,e,n){const r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,SB(s,a,n[i]))}return r}function _T(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,EB(o,s,e))}return r}class yk extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RB extends Jp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&IB(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Iu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lk();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=mk(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&ul(this.mutations,e.mutations,(n,r)=>vT(n,r))&&ul(this.baseMutations,e.baseMutations,(n,r)=>vT(n,r))}}class R_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return gB}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new R_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,ke;function kB(t){switch(t){default:return he();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function vk(t){if(t===void 0)return Di("GRPC error has no .code"),j.UNKNOWN;switch(t){case gt.OK:return j.OK;case gt.CANCELLED:return j.CANCELLED;case gt.UNKNOWN:return j.UNKNOWN;case gt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case gt.INTERNAL:return j.INTERNAL;case gt.UNAVAILABLE:return j.UNAVAILABLE;case gt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case gt.NOT_FOUND:return j.NOT_FOUND;case gt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case gt.ABORTED:return j.ABORTED;case gt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case gt.DATA_LOSS:return j.DATA_LOSS;default:return he()}}(ke=gt||(gt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB=new Pa([4294967295,4294967295],0);function ET(t){const e=NB().encode(t),n=new L6;return n.update(e),new Uint8Array(n.digest())}function ST(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([i,o],0)]}class P_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(r<0)throw new cu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Pa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Pa.fromNumber(r)));return i.compare(DB)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ET(e),[r,i]=ST(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new P_(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=ET(e),[r,i]=ST(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zp(ye.min(),i,new ct($e),Oi(),Re())}}class fd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fd(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class wk{constructor(e,n){this.targetId=e,this.fe=n}}class _k{constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class TT{constructor(){this.ge=0,this.pe=IT(),this.ye=dn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Re(),n=Re(),r=Re();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new fd(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=IT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class OB{constructor(e){this.Le=e,this.ke=new Map,this.qe=Oi(),this.Qe=bT(),this.Ke=new ct($e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(yv(o))if(r===0){const s=new ue(o.path);this.We(n,s,on.newNoDocument(s,ye.min()))}else et(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ks(r).toUint8Array()}catch(l){if(l instanceof GA)return ll("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new P_(s,i,o)}catch(l){return ll(l instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&yv(a.target)){const l=new ue(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,on.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Re();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Zp(e,n,this.Ke,this.qe,r);return this.qe=Oi(),this.Qe=bT(),this.Ke=new ct($e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new TT,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Kt($e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new TT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function bT(){return new ct(ue.comparator)}function IT(){return new ct(ue.comparator)}const MB=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),LB=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),VB=(()=>({and:"AND",or:"OR"}))();class $B{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wv(t,e){return t.useProto3Json||Gp(e)?e:{value:e}}function Dh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ek(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FB(t,e){return Dh(t,e.toTimestamp())}function Jr(t){return et(!!t),ye.fromTimestamp(function(n){const r=Do(n);return new Rt(r.seconds,r.nanos)}(t))}function x_(t,e){return function(r){return new Je(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Sk(t){const e=Je.fromString(t);return et(Ck(e)),e}function _v(t,e){return x_(t.databaseId,e.path)}function Ig(t,e){const n=Sk(e);if(n.get(1)!==t.databaseId.projectId)throw new re(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(Tk(n))}function Ev(t,e){return x_(t.databaseId,e)}function UB(t){const e=Sk(t);return e.length===4?Je.emptyPath():Tk(e)}function Sv(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tk(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CT(t,e,n){return{name:_v(t,e),fields:n.value.mapValue.fields}}function jB(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(et(c===void 0||typeof c=="string"),dn.fromBase64String(c||"")):(et(c===void 0||c instanceof Uint8Array),dn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?j.UNKNOWN:vk(u.code);return new re(c,u.message||"")}(s);n=new _k(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ig(t,r.document.name),o=Jr(r.document.updateTime),s=r.document.createTime?Jr(r.document.createTime):ye.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Af(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ig(t,r.document),o=r.readTime?Jr(r.readTime):ye.min(),s=on.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Af([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ig(t,r.document),o=r.removedTargetIds||[];n=new Af([],o,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new AB(i,o),a=r.targetId;n=new wk(a,s)}}return n}function BB(t,e){let n;if(e instanceof dd)n={update:CT(t,e.key,e.value)};else if(e instanceof yk)n={delete:_v(t,e.key)};else if(e instanceof Bo)n={update:CT(t,e.key,e.data),updateMask:XB(e.fieldMask)};else{if(!(e instanceof RB))return he();n={verify:_v(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof kh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nh)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:he()}(t,e.precondition)),n}function zB(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jr(i.updateTime):Jr(o);return s.isEqual(ye.min())&&(s=Jr(o)),new bB(s,i.transformResults||[])}(n,e))):[]}function WB(t,e){return{documents:[Ev(t,e.path)]}}function HB(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ev(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ev(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Ik(Pr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Zs(d.field),direction:GB(d.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=wv(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function qB(t){let e=UB(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){et(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=bk(d);return f instanceof Pr&&JA(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(p){return new fc(ea(p.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Gp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new xh(h,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,h=d.values||[];return new xh(h,f)}(n.endAt)),dB(e,i,s,o,a,"F",l,u)}function KB(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bk(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ea(n.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ea(n.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ea(n.unaryFilter.field);return _t.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ea(n.unaryFilter.field);return _t.create(s,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return _t.create(ea(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>bk(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function GB(t){return MB[t]}function QB(t){return LB[t]}function YB(t){return VB[t]}function Zs(t){return{fieldPath:t.canonicalString()}}function ea(t){return Wt.fromServerFormat(t.fieldPath)}function Ik(t){return t instanceof _t?function(n){if(n.op==="=="){if(fT(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NAN"}};if(dT(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(fT(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NAN"}};if(dT(n.value))return{unaryFilter:{field:Zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(n.field),op:QB(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>Ik(i));return r.length===1?r[0]:{compositeFilter:{op:YB(n.op),filters:r}}}(t):he()}function XB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ck(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,o=ye.min(),s=ye.min(),a=dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.ut=e}}function ZB(t){const e=qB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ah(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(){this.on=new tz}addToCollectionParentIndex(e,n){return this.on.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(No.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(No.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class tz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(Je.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new fl(0)}static Nn(){return new fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.changes=new kl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Iu(r.mutation,i,Fn.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=uu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Oi();const s=bu(),a=function(){return bu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Bo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Iu(c.mutation,u,c.mutation.getFieldMask(),Rt.now())):s.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new rz(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=bu();let i=new ct((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Fn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=lk();c.forEach(f=>{if(!o.has(f)){const h=mk(n.get(f),r.get(f));h!==null&&d.set(f,h),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return q.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):q.resolve(is());let a=-1,l=o;return s.next(u=>q.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?q.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Re())).next(c=>({batchId:a,changes:ak(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=uu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=uu();return this.indexManager.getCollectionParents(e,o).next(a=>q.forEach(a,l=>{const u=function(d,f){return new Al(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,on.newInvalidDocument(c)))});let a=uu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Iu(c.mutation,u,Fn.empty(),Rt.now()),Yp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return q.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jr(i.createTime)}}(n)),q.resolve()}getNamedQuery(e,n){return q.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:ZB(i.bundledQuery),readTime:Jr(i.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(){this.overlays=new ct(ue.comparator),this.lr=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return q.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.lt(e,n,o)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=is(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ct((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=is(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=is(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return q.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xB(n,r));let o=this.lr.get(n);o===void 0&&(o=Re(),this.lr.set(n,o)),this.lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.hr=new Kt(Nt.Pr),this.Ir=new Kt(Nt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Nt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ue(new Je([])),r=new Nt(n,e),i=new Nt(n,e+1),o=[];return this.Ir.forEachInRange([r,i],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ue(new Je([])),r=new Nt(n,e),i=new Nt(n,e+1);let o=Re();return this.Ir.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Nt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ue.comparator(e.key,n.key)||$e(e.gr,n.gr)}static Tr(e,n){return $e(e.gr,n.gr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Kt(Nt.Pr)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PB(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new Nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(s)}lookupMutationBatch(e,n){return q.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),o=i<0?0:i;return q.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([r,i],s=>{const a=this.wr(s.gr);o.push(a)}),q.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt($e);return n.forEach(i=>{const o=new Nt(i,0),s=new Nt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{r=r.add(a.gr)})}),q.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new Nt(new ue(o),0);let a=new Kt($e);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.gr)),!0)},s),q.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return q.forEach(n.mutations,i=>{const o=new Nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.yr.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.Cr=e,this.docs=function(){return new ct(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Oi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():on.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Oi();const s=n.path,a=new ue(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||G6(K6(c),r)<=0||(i.has(c.key)||Yp(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return q.resolve(o)}getAllFromCollectionGroup(e,n,r,i){he()}vr(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uz(this)}getSize(e){return q.resolve(this.size)}}class uz extends nz{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.persistence=e,this.Fr=new kl(n=>I_(n),C_),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Mr=0,this.Or=new A_,this.targetCount=0,this.Nr=fl.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),q.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.kn(n),q.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(o).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),q.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n){this.Br={},this.overlays={},this.Lr=new E_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new cz(this),this.indexManager=new ez,this.remoteDocumentCache=function(i){return new lz(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new JB(n),this.Kr=new oz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new az(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new fz(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(o=>this.referenceDelegate.Ur(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Wr(e,n){return q.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class fz extends Y6{constructor(e){super(),this.currentSequenceNumber=e}}class k_{constructor(e){this.persistence=e,this.Gr=new A_,this.zr=null}static jr(e){return new k_(e)}get Hr(){if(this.zr)return this.zr;throw he()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),q.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Hr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Hr,r=>{const i=ue.fromPath(r);return this.Jr(e,i).next(o=>{o||n.removeEntry(i,ye.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return q.or([()=>q.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new N_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.zi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hz;return this.Hi(e,n,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,n,s,a.size)})}).next(()=>o.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Xl()<=xe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),q.resolve()):(Xl()<=xe.DEBUG&&ae("QueryEngine","Query:",Js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Xl()<=xe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yr(n))):q.resolve())}zi(e,n){if(gT(n))return q.resolve(null);let r=Yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ah(n,null,"F"),r=Yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Yi(n,a);return this.Zi(n,u,s,l.readTime)?this.zi(e,Ah(n,null,"F")):this.Xi(e,u,n,l)}))})))}ji(e,n,r,i){return gT(n)||i.isEqual(ye.min())?q.resolve(null):this.Gi.getDocuments(e,r).next(o=>{const s=this.Yi(n,o);return this.Zi(n,s,r,i)?q.resolve(null):(Xl()<=xe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Js(n)),this.Xi(e,s,n,q6(i,-1)).next(a=>a))})}Yi(e,n){let r=new Kt(ok(e));return n.forEach((i,o)=>{Yp(e,o)&&(r=r.add(o))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Hi(e,n,r){return Xl()<=xe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Js(n)),this.Gi.getDocumentsMatchingQuery(e,n,No.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new ct($e),this.ns=new kl(o=>I_(o),C_),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iz(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function gz(t,e,n,r){return new mz(t,e,n,r)}async function Rk(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({_s:u,removedBatchIds:s,addedBatchIds:a}))})})}function yz(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let h=q.resolve();return f.forEach(p=>{h=h.next(()=>c.getEntry(l,p)).next(g=>{const _=u.docVersions.get(p);et(_!==null),g.version.compareTo(_)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Pk(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function vz(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(o,c.addedDocuments,d)));let h=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(dn.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):c.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(c.resumeToken,r)),i=i.insert(d,h),function(g,_,m){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,h,c)&&a.push(n.qr.updateTargetData(o,h))});let l=Oi(),u=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(wz(o,s,e.documentUpdates).next(c=>{l=c.us,u=c.cs})),!r.isEqual(ye.min())){const c=n.qr.getLastRemoteSnapshotVersion(o).next(d=>n.qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return q.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ts=i,o))}function wz(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Oi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{us:s,cs:i}})}function _z(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ez(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(o=>o?(i=o,q.resolve(i)):n.qr.allocateTargetId(r).next(s=>(i=new co(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function Tv(t,e,n){const r=Se(t),i=r.ts.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!cd(s))throw s;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function RT(t,e,n){const r=Se(t);let i=ye.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Se(l),f=d.ns.get(c);return f!==void 0?q.resolve(d.ts.get(f)):d.qr.getTargetData(u,c)}(r,s,Yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.es.getDocumentsMatchingQuery(s,e,n?i:ye.min(),n?o:Re())).next(a=>(Sz(r,hB(e),a),{documents:a,ls:o})))}function Sz(t,e,n){let r=t.rs.get(e)||ye.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.rs.set(e,r)}class PT{constructor(){this.activeTargetIds=wB()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tz{constructor(){this.eo=new PT,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new PT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bz{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd=null;function Cg(){return Jd===null?Jd=function(){return 268435456+Math.round(2147483648*Math.random())}():Jd++,"0x"+Jd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Rz extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${o}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get yo(){return!1}wo(n,r,i,o,s){const a=Cg(),l=this.So(n,r);ae("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,o,s),this.Do(n,l,u,i).then(c=>(ae("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ll("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Co(n,r,i,o,s,a){return this.wo(n,r,i,o,s)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}So(n,r){const i=Iz[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const o=Cg();return new Promise((s,a)=>{const l=new M6;l.setWithCredentials(!0),l.listenOnce(N6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bg.NO_ERROR:const c=l.getResponseJson();ae(Zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case bg.TIMEOUT:ae(Zt,`RPC '${e}' ${o} timed out`),a(new re(j.DEADLINE_EXCEEDED,"Request time out"));break;case bg.HTTP_ERROR:const d=l.getStatus();if(ae(Zt,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const p=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(m)>=0?m:j.UNKNOWN}(h.status);a(new re(p,h.message))}else a(new re(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new re(j.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ae(Zt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ae(Zt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}vo(e,n,r){const i=Cg(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=A6(),a=k6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new O6({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ae(Zt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,h=!1;const p=new Cz({co:_=>{h?ae(Zt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(ae(Zt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ae(Zt,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},lo:()=>d.close()}),g=(_,m,y)=>{_.listen(m,E=>{try{y(E)}catch(v){setTimeout(()=>{throw v},0)}})};return g(d,Qd.EventType.OPEN,()=>{h||ae(Zt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Qd.EventType.CLOSE,()=>{h||(h=!0,ae(Zt,`RPC '${e}' stream ${i} transport closed`),p.Ro())}),g(d,Qd.EventType.ERROR,_=>{h||(h=!0,ll(Zt,`RPC '${e}' stream ${i} transport errored:`,_),p.Ro(new re(j.UNAVAILABLE,"The operation could not be completed")))}),g(d,Qd.EventType.MESSAGE,_=>{var m;if(!h){const y=_.data[0];et(!!y);const E=y,v=E.error||((m=E[0])===null||m===void 0?void 0:m.error);if(v){ae(Zt,`RPC '${e}' stream ${i} received error:`,v);const T=v.status;let b=function(A){const N=gt[A];if(N!==void 0)return vk(N)}(T),I=v.message;b===void 0&&(b=j.INTERNAL,I="Unknown error status: "+T+" with message "+v.message),h=!0,p.Ro(new re(b,I)),d.close()}else ae(Zt,`RPC '${e}' stream ${i} received:`,y),p.Vo(y)}}),g(a,D6.STAT_EVENT,_=>{_.stat===oT.PROXY?ae(Zt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===oT.NOPROXY&&ae(Zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function Rg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(t){return new $B(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,r,i,o,s,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xk(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Di(n.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new re(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pz extends Ak{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=jB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ye.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?Jr(s.readTime):ye.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=Sv(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=yv(l)?{documents:WB(o,l)}:{query:HB(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Ek(o,s.resumeToken);const u=wv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=Dh(o,s.snapshotVersion.toTimestamp());const u=wv(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=KB(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=Sv(this.serializer),n.removeTarget=e,this.e_(n)}}class xz extends Ak{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=zB(e.writeResults,e.commitTime),r=Jr(e.commitTime);return this.listener.I_(r,n)}return et(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Sv(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BB(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new re(j.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(j.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(j.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class kz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Di(n),this.f_=!1):ae("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(s=>{r.enqueueAndForget(async()=>{Hs(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.C_.add(4),await hd(u),u.M_.set("Unknown"),u.C_.delete(4),await tm(u)}(this))})}),this.M_=new kz(r,i)}}async function tm(t){if(Hs(t))for(const e of t.v_)await e(!0)}async function hd(t){for(const e of t.v_)await e(!1)}function kk(t,e){const n=Se(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),M_(n)?O_(n):Nl(n).Ho()&&D_(n,e))}function Nk(t,e){const n=Se(t),r=Nl(n);n.D_.delete(e),r.Ho()&&Dk(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Hs(n)&&n.M_.set("Unknown"))}function D_(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(t).u_(e)}function Dk(t,e){t.x_.Oe(e),Nl(t).c_(e)}function O_(t){t.x_=new OB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Nl(t).start(),t.M_.g_()}function M_(t){return Hs(t)&&!Nl(t).jo()&&t.D_.size>0}function Hs(t){return Se(t).C_.size===0}function Ok(t){t.x_=void 0}async function Dz(t){t.D_.forEach((e,n)=>{D_(t,e)})}async function Oz(t,e){Ok(t),M_(t)?(t.M_.w_(e),O_(t)):t.M_.set("Unknown")}async function Mz(t,e,n){if(t.M_.set("Online"),e instanceof _k&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof Af?t.x_.$e(e):e instanceof wk?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ye.min()))try{const r=await Pk(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.D_.get(u);c&&o.D_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.D_.get(l);if(!c)return;o.D_.set(l,c.withResumeToken(dn.EMPTY_BYTE_STRING,c.snapshotVersion)),Dk(o,l);const d=new co(c.target,l,u,c.sequenceNumber);D_(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!cd(e))throw e;t.C_.add(1),await hd(t),t.M_.set("Offline"),n||(n=()=>Pk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await tm(t)})}function Mk(t,e){return e().catch(n=>Oh(t,n,e))}async function nm(t){const e=Se(t),n=Oo(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Lz(e);)try{const i=await _z(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,Vz(e,i)}catch(i){await Oh(e,i)}Lk(e)&&Vk(e)}function Lz(t){return Hs(t)&&t.b_.length<10}function Vz(t,e){t.b_.push(e);const n=Oo(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function Lk(t){return Hs(t)&&!Oo(t).jo()&&t.b_.length>0}function Vk(t){Oo(t).start()}async function $z(t){Oo(t).E_()}async function Fz(t){const e=Oo(t);for(const n of t.b_)e.P_(n.mutations)}async function Uz(t,e,n){const r=t.b_.shift(),i=R_.from(r,e,n);await Mk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nm(t)}async function jz(t,e){e&&Oo(t).h_&&await async function(r,i){if(function(s){return kB(s)&&s!==j.ABORTED}(i.code)){const o=r.b_.shift();Oo(r).Yo(),await Mk(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await nm(r)}}(t,e),Lk(t)&&Vk(t)}async function AT(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=Hs(n);n.C_.add(3),await hd(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await tm(n)}async function Bz(t,e){const n=Se(t);e?(n.C_.delete(2),await tm(n)):e||(n.C_.add(2),await hd(n),n.M_.set("Unknown"))}function Nl(t){return t.O_||(t.O_=function(n,r,i){const o=Se(n);return o.A_(),new Pz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:Dz.bind(null,t),Io:Oz.bind(null,t),a_:Mz.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),M_(t)?O_(t):t.M_.set("Unknown")):(await t.O_.stop(),Ok(t))})),t.O_}function Oo(t){return t.N_||(t.N_=function(n,r,i){const o=Se(n);return o.A_(),new xz(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{ho:$z.bind(null,t),Io:jz.bind(null,t),T_:Fz.bind(null,t),I_:Uz.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await nm(t)):(await t.N_.stop(),t.b_.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new L_(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(t,e){if(Di("AsyncQueue",`${e}: ${t}`),cd(t))return new re(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=uu(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new xa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(){this.B_=new ct(ue.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):he():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class hl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new hl(e,n,xa.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(){this.k_=void 0,this.listeners=[]}}class Wz{constructor(){this.queries=new kl(e=>ik(e),Qp),this.onlineState="Unknown",this.q_=new Set}}async function Hz(t,e){const n=Se(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new zz),i)try{o.k_=await n.onListen(r)}catch(s){const a=V_(s,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.Q_(n.onlineState),o.k_&&e.K_(o.k_)&&$_(n)}async function qz(t,e){const n=Se(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Kz(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.K_(i)&&(r=!0);s.k_=i}}r&&$_(n)}function Gz(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function $_(t){t.q_.forEach(e=>{e.next()})}class Qz{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new hl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){this.key=e}}class Fk{constructor(e){this.key=e}}class Yz{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Re(),this.mutatedKeys=Re(),this._a=ok(e),this.aa=new xa(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new kT,i=n?n.aa:this.aa;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),h=Yp(this.query,d)?d:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let _=!1;f&&h?f.data.isEqual(h.data)?p!==g&&(r.track({type:3,doc:h}),_=!0):this.ha(f,h)||(r.track({type:2,doc:h}),_=!0,(l&&this._a(h,l)>0||u&&this._a(h,u)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),_=!0):f&&!h&&(r.track({type:1,doc:f}),_=!0,(l||u)&&(a=!0)),_&&(h?(s=s.add(h),o=g?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{aa:s,la:r,Zi:a,mutatedKeys:o}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((u,c)=>function(f,h){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return p(f)-p(h)}(u.type,c.type)||this._a(u.doc,c.doc)),this.Pa(r);const s=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,o.length!==0||l?{snapshot:new hl(this.query,e.aa,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new kT,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Re(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new Fk(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new $k(r))}),n}da(e){this.ia=e.ls,this.oa=Re();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return hl.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class Xz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jz{constructor(e){this.key=e,this.Ra=!1}}class Zz{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new kl(a=>ik(a),Qp),this.fa=new Map,this.ga=new Set,this.pa=new ct(ue.comparator),this.ya=new Map,this.wa=new A_,this.Sa={},this.ba=new Map,this.Da=fl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function e8(t,e){const n=c8(t);let r,i;const o=n.ma.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Aa();else{const s=await Ez(n.localStore,Yr(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await t8(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&kk(n.remoteStore,s)}return i}async function t8(t,e,n,r,i){t.va=(d,f,h)=>async function(g,_,m,y){let E=_.view.ca(m);E.Zi&&(E=await RT(g.localStore,_.query,!1).then(({documents:b})=>_.view.ca(b,E)));const v=y&&y.targetChanges.get(_.targetId),T=_.view.applyChanges(E,g.isPrimaryClient,v);return DT(g,_.targetId,T.Ta),T.snapshot}(t,d,f,h);const o=await RT(t.localStore,e,!0),s=new Yz(e,o.ls),a=s.ca(o.documents),l=fd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);DT(t,n,u.Ta);const c=new Xz(e,n,s);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),u.snapshot}async function n8(t,e){const n=Se(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(o=>!Qp(o,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Tv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Nk(n.remoteStore,r.targetId),bv(n,r.targetId)}).catch(ud)):(bv(n,r.targetId),await Tv(n.localStore,r.targetId,!0))}async function r8(t,e,n){const r=d8(t);try{const i=await function(s,a){const l=Se(s),u=Rt.now(),c=a.reduce((h,p)=>h.add(p.key),Re());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Oi(),g=Re();return l.ss.getEntries(h,c).next(_=>{p=_,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(_=>{d=_;const m=[];for(const y of a){const E=CB(y,d.get(y.key).overlayedDocument);E!=null&&m.push(new Bo(y.key,E,QA(E.value.mapValue),Xr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,m,a)}).next(_=>{f=_;const m=_.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(h,_.batchId,m)})}).then(()=>({batchId:f.batchId,changes:ak(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Sa[s.currentUser.toKey()];u||(u=new ct($e)),u=u.insert(a,l),s.Sa[s.currentUser.toKey()]=u}(r,i.batchId,n),await pd(r,i.changes),await nm(r.remoteStore)}catch(i){const o=V_(i,"Failed to persist write");n.reject(o)}}async function Uk(t,e){const n=Se(t);try{const r=await vz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.ya.get(o);s&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Ra=!0:i.modifiedDocuments.size>0?et(s.Ra):i.removedDocuments.size>0&&(et(s.Ra),s.Ra=!1))}),await pd(n,r,e)}catch(r){await ud(r)}}function NT(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Se(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.listeners)f.Q_(a)&&(u=!0)}),u&&$_(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i8(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),o=i&&i.key;if(o){let s=new ct(ue.comparator);s=s.insert(o,on.newNoDocument(o,ye.min()));const a=Re().add(o),l=new Zp(ye.min(),new Map,new ct($e),s,a);await Uk(r,l),r.pa=r.pa.remove(o),r.ya.delete(e),F_(r)}else await Tv(r.localStore,e,!1).then(()=>bv(r,e,n)).catch(ud)}async function o8(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await yz(n.localStore,e);Bk(n,r,null),jk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pd(n,i)}catch(i){await ud(i)}}async function s8(t,e,n){const r=Se(t);try{const i=await function(s,a){const l=Se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(et(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Bk(r,e,n),jk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pd(r,i)}catch(i){await ud(i)}}function jk(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function Bk(t,e,n){const r=Se(t);let i=r.Sa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function bv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||zk(t,r)})}function zk(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(Nk(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),F_(t))}function DT(t,e,n){for(const r of n)r instanceof $k?(t.wa.addReference(r.key,e),a8(t,r)):r instanceof Fk?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||zk(t,r.key)):he()}function a8(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.ga.add(r),F_(t))}function F_(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new ue(Je.fromString(e)),r=t.Da.next();t.ya.set(r,new Jz(n)),t.pa=t.pa.insert(n,r),kk(t.remoteStore,new co(Yr(nk(n.path)),r,"TargetPurposeLimboResolution",E_._e))}}async function pd(t,e,n){const r=Se(t),i=[],o=[],s=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{s.push(r.va(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=N_.Qi(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.Va.a_(i),await async function(l,u){const c=Se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>q.forEach(u,f=>q.forEach(f.ki,h=>c.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>q.forEach(f.qi,h=>c.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!cd(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const h=c.ts.get(f),p=h.snapshotVersion,g=h.withLastLimboFreeSnapshotVersion(p);c.ts=c.ts.insert(f,g)}}}(r.localStore,o))}async function l8(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=await Rk(n.localStore,e);n.currentUser=e,function(o,s){o.ba.forEach(a=>{a.forEach(l=>{l.reject(new re(j.CANCELLED,s))})}),o.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(n,r._s)}}function u8(t,e){const n=Se(t),r=n.ya.get(e);if(r&&r.Ra)return Re().add(r.key);{let i=Re();const o=n.fa.get(e);if(!o)return i;for(const s of o){const a=n.ma.get(s);i=i.unionWith(a.view.ua)}return i}}function c8(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Uk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i8.bind(null,e),e.Va.a_=Kz.bind(null,e.eventManager),e.Va.Fa=Gz.bind(null,e.eventManager),e}function d8(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s8.bind(null,e),e}class OT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=em(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return gz(this.persistence,new pz,e.initialUser,this.serializer)}createPersistence(e){return new dz(k_.jr,this.serializer)}createSharedClientState(e){return new Tz}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class f8{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l8.bind(null,this.syncEngine),await Bz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Wz}()}createDatastore(e){const n=em(e.databaseInfo.databaseId),r=function(o){return new Rz(o)}(e.databaseInfo);return function(o,s,a,l){return new Az(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Nz(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>NT(this.syncEngine,n,0),function(){return xT.D()?new xT:new bz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new Zz(i,o,s,a,l,u);return c&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Se(n);ae("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await hd(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Di("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=qA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=V_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g8(t);ae("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>AT(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>AT(e.remoteStore,o)),t._onlineComponents=e}function m8(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function g8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!m8(n))throw n;ll("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new OT)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Pg(t,new OT);return t._offlineComponents}async function Wk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await MT(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await MT(t,new f8))),t._onlineComponents}function y8(t){return Wk(t).then(e=>e.syncEngine)}async function v8(t){const e=await Wk(t),n=e.eventManager;return n.onListen=e8.bind(null,e.syncEngine),n.onUnlisten=n8.bind(null,e.syncEngine),n}function w8(t,e,n={}){const r=new bo;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new h8({next:f=>{s.enqueueAndForget(()=>qz(o,d)),f.fromCache&&l.source==="server"?u.reject(new re(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new Qz(a,c,{includeMetadataChanges:!0,J_:!0});return Hz(o,d)}(await v8(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t,e,n){if(!n)throw new re(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _8(t,e,n,r){if(e===!0&&r===!0)throw new re(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VT(t){if(!ue.isDocumentKey(t))throw new re(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $T(t){if(ue.isDocumentKey(t))throw new re(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function Ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rm(t);throw new re(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function E8(t,e){if(e<=0)throw new re(j.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class im{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V6;switch(r.type){case"firstParty":return new j6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LT.get(n);r&&(ae("ComponentProvider","Removing Datastore"),LT.delete(n),r.terminate())}(this),Promise.resolve()}}function S8(t,e,n,r={}){var i;const o=(t=Ds(t,im))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=tn.MOCK_USER;else{a=cU(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new tn(u)}t._authCredentials=new $6(new HA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Io extends zo{constructor(e,n,r){super(e,n,nk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new ue(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function T8(t,e,...n){if(t=_n(t),qk("collection","path",e),t instanceof im){const r=Je.fromString(e,...n);return $T(r),new Io(t,null,r)}{if(!(t instanceof Nn||t instanceof Io))throw new re(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return $T(r),new Io(t.firestore,null,r)}}function Kk(t,e,...n){if(t=_n(t),arguments.length===1&&(e=qA.newId()),qk("doc","path",e),t instanceof im){const r=Je.fromString(e,...n);return VT(r),new Nn(t,null,new ue(r))}{if(!(t instanceof Nn||t instanceof Io))throw new re(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Je.fromString(e,...n));return VT(r),new Nn(t.firestore,t instanceof Io?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xk(this,"async_queue_retry"),this.iu=()=>{const n=Rg();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Rg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Rg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new bo;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!cd(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Di("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=L_.createAndSchedule(this,e,n,r,o=>this.au(o));return this.Xa.push(i),i}su(){this.eu&&he()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class om extends im{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new b8}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yk(this),this._firestoreClient.terminate()}}function Gk(t,e){const n=typeof t=="object"?t:zw(),r=typeof t=="string"?t:e||"(default)",i=Bw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=lU("firestore");o&&S8(i,...o)}return i}function Qk(t){return t._firestoreClient||Yk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Yk(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Z6(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Hk(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new p8(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(dn.fromBase64String(e))}catch(n){throw new re(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pl(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=/^__.*__$/;class C8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new dd(e,this.data,n,this.fieldTransforms)}}class Xk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class B_{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new B_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Mh(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(Jk(this.Iu)&&I8.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class R8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||em(e)}pu(e,n,r,i=!1){return new B_({Iu:e,methodName:n,gu:r,path:Wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z_(t){const e=t._freezeSettings(),n=em(t._databaseId);return new R8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function P8(t,e,n,r,i,o={}){const s=t.pu(o.merge||o.mergeFields?2:0,e,n,i);W_("Data must be an object, but it was:",s,r);const a=Zk(r,s);let l,u;if(o.merge)l=new Fn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=Iv(e,d,n);if(!s.contains(f))throw new re(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);tN(c,f)||c.push(f)}l=new Fn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new C8(new Rn(a),l,u)}class am extends U_{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof am}}function x8(t,e,n,r){const i=t.pu(1,e,n);W_("Data must be an object, but it was:",i,r);const o=[],s=Rn.empty();Ws(r,(l,u)=>{const c=H_(e,l,n);u=_n(u);const d=i.Ru(c);if(u instanceof am)o.push(c);else{const f=md(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new Fn(o);return new Xk(s,a,i.fieldTransforms)}function A8(t,e,n,r,i,o){const s=t.pu(1,e,n),a=[Iv(e,r,n)],l=[i];if(o.length%2!=0)throw new re(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Iv(e,o[f])),l.push(o[f+1]);const u=[],c=Rn.empty();for(let f=a.length-1;f>=0;--f)if(!tN(u,a[f])){const h=a[f];let p=l[f];p=_n(p);const g=s.Ru(h);if(p instanceof am)u.push(h);else{const _=md(p,g);_!=null&&(u.push(h),c.set(h,_))}}const d=new Fn(u);return new Xk(c,d,s.fieldTransforms)}function k8(t,e,n,r=!1){return md(n,t.pu(r?4:3,e))}function md(t,e){if(eN(t=_n(t)))return W_("Unsupported field value:",e,t),Zk(t,e);if(t instanceof U_)return function(r,i){if(!Jk(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=md(a,i.Vu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _B(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Dh(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Dh(i.serializer,o)}}if(r instanceof j_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pl)return{bytesValue:Ek(i.serializer,r._byteString)};if(r instanceof Nn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${rm(r)}`)}(t,e)}function Zk(t,e){const n={};return KA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,(r,i)=>{const o=md(i,e.Eu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof j_||t instanceof pl||t instanceof Nn||t instanceof U_)}function W_(t,e,n){if(!eN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=rm(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function Iv(t,e,n){if((e=_n(e))instanceof sm)return e._internalPath;if(typeof e=="string")return H_(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const N8=new RegExp("[~\\*/\\[\\]]");function H_(t,e,n){if(e.search(N8)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sm(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new re(j.INVALID_ARGUMENT,a+t+l)}function tN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D8 extends nN{data(){return super.data()}}function lm(t,e){return typeof e=="string"?H_(t,e):e instanceof sm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class q_{}class K_ extends q_{}function M8(t,e,...n){let r=[];e instanceof q_&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof G_).length,a=o.filter(l=>l instanceof um).length;if(s>1||s>0&&a>0)throw new re(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class um extends K_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new um(e,n,r)}_apply(e){const n=this._parse(e);return rN(e._query,n),new zo(e.firestore,e.converter,vv(e._query,n))}_parse(e){const n=z_(e.firestore);return function(o,s,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new re(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){jT(d,c);const h=[];for(const p of d)h.push(UT(l,o,p));f={arrayValue:{values:h}}}else f=UT(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||jT(d,c),f=k8(a,s,d,c==="in"||c==="not-in");return _t.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function L8(t,e,n){const r=e,i=lm("where",t);return um._create(i,r,n)}class G_ extends q_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)rN(s,l),s=vv(s,l)}(e._query,n),new zo(e.firestore,e.converter,vv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Q_ extends K_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Q_(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new re(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new re(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fc(o,s)}(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Al(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function V8(t,e="asc"){const n=e,r=lm("orderBy",t);return Q_._create(r,n)}class Y_ extends K_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Y_(e,n,r)}_apply(e){return new zo(e.firestore,e.converter,Ah(e._query,this._limit,this._limitType))}}function $8(t){return E8("limit",t),Y_._create("limit",t,"F")}function UT(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new re(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rk(e)&&n.indexOf("/")!==-1)throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Je.fromString(n));if(!ue.isDocumentKey(r))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cT(t,new ue(r))}if(n instanceof Nn)return cT(t,n._key);throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(n)}.`)}function jT(t,e){if(!Array.isArray(t)||t.length===0)throw new re(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rN(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new re(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F8{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ws(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new j_(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=T_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Je.fromString(e);et(Ck(r));const i=new cc(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||Di(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class j8 extends nN{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kf extends j8{data(e={}){return super.data(e)}}class B8{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Zd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kf(this._firestore,this._userDataWriter,r.key,r,new Zd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new kf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new kf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Zd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:z8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function z8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}class W8 extends F8{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function H8(t){t=Ds(t,zo);const e=Ds(t.firestore,om),n=Qk(e),r=new W8(e);return O8(t._query),w8(n,t._query).then(i=>new B8(e,r,t,i))}function q8(t,e,n){t=Ds(t,Nn);const r=Ds(t.firestore,om),i=U8(t.converter,e,n);return iN(r,[P8(z_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Xr.none())])}function K8(t,e,n,...r){t=Ds(t,Nn);const i=Ds(t.firestore,om),o=z_(i);let s;return s=typeof(e=_n(e))=="string"||e instanceof sm?A8(o,"updateDoc",t._key,e,n,r):x8(o,"updateDoc",t._key,e),iN(i,[s.toMutation(t._key,Xr.exists(!0))])}function iN(t,e){return function(r,i){const o=new bo;return r.asyncQueue.enqueueAndForget(async()=>r8(await y8(r),i,o)),o.promise}(Qk(t),e)}(function(e,n=!0){(function(i){xl=i})(Il),ol(new Rs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new om(new F6(r.getProvider("auth-internal")),new z6(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),To(sT,"4.3.2",e),To(sT,"4.3.2","esm2017")})();const oN=w.createContext(null);function G8(t){const{children:e}=t,[n,r]=w.useState(null),[i,o]=w.useState(null),[s,a]=w.useState(!0),[l,u]=w.useState(null);w.useEffect(()=>Zu().onAuthStateChanged(f=>{f?(r(f.uid),o(f.displayName)):(r(null),o(null)),a(!1)}),[]);const c=w.useCallback(async f=>{try{f==="github"?await Y8():await Q8(),u(null)}catch(h){u(h)}},[]),d=w.useCallback(async()=>{try{await Zu().signOut(),u(null)}catch(f){u(f)}},[]);return C.jsx(oN.Provider,{value:{isLoading:s,error:l,userId:n,displayName:i,signIn:c,signOut:d},children:s?null:e})}function Q8(){return jx(Zu(),new fi)}function Y8(){return jx(Zu(),new hi)}/**
 * @remix-run/router v1.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(this,arguments)}var yt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yt||(yt={}));const BT="popstate";function X8(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=oi(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),mc("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Ms(o))}function r(i,o){Os(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Z8(e,n,r,t)}function Ie(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Os(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J8(){return Math.random().toString(36).substr(2,8)}function zT(t,e){return{usr:t.state,key:t.key,idx:e}}function mc(t,e,n,r){return n===void 0&&(n=null),it({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oi(e):e,{state:n,key:e&&e.key||r||J8()})}function Ms(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=yt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(it({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=yt.Pop;let _=c(),m=_==null?null:_-u;u=_,l&&l({action:a,location:g.location,delta:m})}function f(_,m){a=yt.Push;let y=mc(g.location,_,m);n&&n(y,_),u=c()+1;let E=zT(y,u),v=g.createHref(y);try{s.pushState(E,"",v)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(v)}o&&l&&l({action:a,location:g.location,delta:1})}function h(_,m){a=yt.Replace;let y=mc(g.location,_,m);n&&n(y,_),u=c();let E=zT(y,u),v=g.createHref(y);s.replaceState(E,"",v),o&&l&&l({action:a,location:g.location,delta:0})}function p(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof _=="string"?_:Ms(_);return Ie(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(BT,d),l=_,()=>{i.removeEventListener(BT,d),l=null}},createHref(_){return e(i,_)},createURL:p,encodeLocation(_){let m=p(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(_){return s.go(_)}};return g}var pt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(pt||(pt={}));const e7=new Set(["lazy","caseSensitive","path","id","index","children"]);function t7(t){return t.index===!0}function Cv(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(Ie(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ie(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),t7(i)){let l=it({},i,e(i),{id:a});return r[a]=l,l}else{let l=it({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Cv(i.children,e,s,r)),l}})}function ma(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?oi(e):e,i=Dl(r.pathname||"/",n);if(i==null)return null;let o=sN(t);r7(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=f7(o[a],m7(i));return s}function n7(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function sN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Ie(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ti([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Ie(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sN(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:c7(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of aN(o.path))i(o,s,l)}),e}function aN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=aN(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function r7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:d7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const i7=/^:\w+$/,o7=3,s7=2,a7=1,l7=10,u7=-2,WT=t=>t==="*";function c7(t,e){let n=t.split("/"),r=n.length;return n.some(WT)&&(r+=u7),e&&(r+=s7),n.filter(i=>!WT(i)).reduce((i,o)=>i+(i7.test(o)?o7:o===""?a7:l7),r)}function d7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function f7(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=h7({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:Ti([i,c.pathname]),pathnameBase:w7(Ti([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=Ti([i,c.pathnameBase]))}return o}function h7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";s=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=g7(a[d]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function p7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Os(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function m7(t){try{return decodeURI(t)}catch(e){return Os(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function g7(t,e){try{return decodeURIComponent(t)}catch(n){return Os(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Dl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function y7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oi(t):t;return{pathname:n?n.startsWith("/")?n:v7(n,e):e,search:_7(r),hash:E7(i)}}function v7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gd(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oi(t):(i=it({},t),Ie(!i.pathname||!i.pathname.includes("?"),xg("?","pathname","search",i)),Ie(!i.pathname||!i.pathname.includes("#"),xg("#","pathname","hash",i)),Ie(!i.search||!i.search.includes("#"),xg("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=y7(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),w7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,E7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class X_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function lN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uN=["post","put","patch","delete"],S7=new Set(uN),T7=["get",...uN],b7=new Set(T7),I7=new Set([301,302,303,307,308]),C7=new Set([307,308]),Ag={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},R7={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Jl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P7=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function x7(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ie(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let O=t.detectErrorBoundary;i=M=>({hasErrorBoundary:O(M)})}else i=P7;let o={},s=Cv(t.routes,i,void 0,o),a,l=t.basename||"/",u=it({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,f=null,h=null,p=null,g=t.hydrationData!=null,_=ma(s,t.history.location,l),m=null;if(_==null){let O=er(404,{pathname:t.history.location.pathname}),{matches:M,route:H}=JT(s);_=M,m={[H.id]:O}}let y=!_.some(O=>O.route.lazy)&&(!_.some(O=>O.route.loader)||t.hydrationData!=null),E,v={historyAction:t.history.action,location:t.history.location,matches:_,initialized:y,navigation:Ag,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},T=yt.Pop,b=!1,I,R=!1,A=!1,N=[],V=[],U=new Map,z=0,$=-1,W=new Map,k=new Set,L=new Map,x=new Map,D=new Map,B=!1;function Q(){return c=t.history.listen(O=>{let{action:M,location:H,delta:te}=O;if(B){B=!1;return}Os(D.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=sE({currentLocation:v.location,nextLocation:H,historyAction:M});if(ge&&te!=null){B=!0,t.history.go(te*-1),vd(ge,{state:"blocked",location:H,proceed(){vd(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),t.history.go(te)},reset(){let pe=new Map(v.blockers);pe.set(ge,Jl),we({blockers:pe})}});return}return nt(M,H)}),v.initialized||nt(yt.Pop,v.location),E}function ee(){c&&c(),d.clear(),I&&I.abort(),v.fetchers.forEach((O,M)=>De(M)),v.blockers.forEach((O,M)=>oE(M))}function Ve(O){return d.add(O),()=>d.delete(O)}function we(O){v=it({},v,O),d.forEach(M=>M(v))}function We(O,M){var H,te;let ge=v.actionData!=null&&v.navigation.formMethod!=null&&wr(v.navigation.formMethod)&&v.navigation.state==="loading"&&((H=O.state)==null?void 0:H._isRedirect)!==!0,pe;M.actionData?Object.keys(M.actionData).length>0?pe=M.actionData:pe=null:ge?pe=v.actionData:pe=null;let Ee=M.loaderData?XT(v.loaderData,M.loaderData,M.matches||[],M.errors):v.loaderData,de=v.blockers;de.size>0&&(de=new Map(de),de.forEach((rt,Yt)=>de.set(Yt,Jl)));let ce=b===!0||v.navigation.formMethod!=null&&wr(v.navigation.formMethod)&&((te=O.state)==null?void 0:te._isRedirect)!==!0;a&&(s=a,a=void 0),R||T===yt.Pop||(T===yt.Push?t.history.push(O,O.state):T===yt.Replace&&t.history.replace(O,O.state)),we(it({},M,{actionData:pe,loaderData:Ee,historyAction:T,location:O,initialized:!0,navigation:Ag,revalidation:"idle",restoreScrollPosition:lE(O,M.matches||v.matches),preventScrollReset:ce,blockers:de})),T=yt.Pop,b=!1,R=!1,A=!1,N=[],V=[]}async function Fe(O,M){if(typeof O=="number"){t.history.go(O);return}let H=Rv(v.location,v.matches,l,u.v7_prependBasename,O,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:te,submission:ge,error:pe}=HT(u.v7_normalizeFormMethod,!1,H,M),Ee=v.location,de=mc(v.location,te,M&&M.state);de=it({},de,t.history.encodeLocation(de));let ce=M&&M.replace!=null?M.replace:void 0,rt=yt.Push;ce===!0?rt=yt.Replace:ce===!1||ge!=null&&wr(ge.formMethod)&&ge.formAction===v.location.pathname+v.location.search&&(rt=yt.Replace);let Yt=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Le=sE({currentLocation:Ee,nextLocation:de,historyAction:rt});if(Le){vd(Le,{state:"blocked",location:de,proceed(){vd(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Fe(O,M)},reset(){let qe=new Map(v.blockers);qe.set(Le,Jl),we({blockers:qe})}});return}return await nt(rt,de,{submission:ge,pendingError:pe,preventScrollReset:Yt,replace:M&&M.replace})}function Me(){if(G(),we({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){nt(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}nt(T||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function nt(O,M,H){I&&I.abort(),I=null,T=O,R=(H&&H.startUninterruptedRevalidation)===!0,MN(v.location,v.matches),b=(H&&H.preventScrollReset)===!0;let te=a||s,ge=H&&H.overrideNavigation,pe=ma(te,M,l);if(!pe){let qe=er(404,{pathname:M.pathname}),{matches:ht,route:Wo}=JT(te);mm(),We(M,{matches:ht,loaderData:{},errors:{[Wo.id]:qe}});return}if(v.initialized&&!A&&O7(v.location,M)&&!(H&&H.submission&&wr(H.submission.formMethod))){We(M,{matches:pe});return}I=new AbortController;let Ee=eu(t.history,M,I.signal,H&&H.submission),de,ce;if(H&&H.pendingError)ce={[ga(pe).route.id]:H.pendingError};else if(H&&H.submission&&wr(H.submission.formMethod)){let qe=await Pt(Ee,M,H.submission,pe,{replace:H.replace});if(qe.shortCircuited)return;de=qe.pendingActionData,ce=qe.pendingActionError,ge=kg(M,H.submission),Ee=new Request(Ee.url,{signal:Ee.signal})}let{shortCircuited:rt,loaderData:Yt,errors:Le}=await Et(Ee,M,pe,ge,H&&H.submission,H&&H.fetcherSubmission,H&&H.replace,de,ce);rt||(I=null,We(M,it({matches:pe},de?{actionData:de}:{},{loaderData:Yt,errors:Le})))}async function Pt(O,M,H,te,ge){ge===void 0&&(ge={}),G();let pe=$7(M,H);we({navigation:pe});let Ee,de=xv(te,M);if(!de.route.action&&!de.route.lazy)Ee={type:pt.error,error:er(405,{method:O.method,pathname:M.pathname,routeId:de.route.id})};else if(Ee=await Zl("action",O,de,te,o,i,l),O.signal.aborted)return{shortCircuited:!0};if(Aa(Ee)){let ce;return ge&&ge.replace!=null?ce=ge.replace:ce=Ee.location===v.location.pathname+v.location.search,await X(v,Ee,{submission:H,replace:ce}),{shortCircuited:!0}}if(Cu(Ee)){let ce=ga(te,de.route.id);return(ge&&ge.replace)!==!0&&(T=yt.Push),{pendingActionData:{},pendingActionError:{[ce.route.id]:Ee.error}}}if(os(Ee))throw er(400,{type:"defer-action"});return{pendingActionData:{[de.route.id]:Ee.data}}}async function Et(O,M,H,te,ge,pe,Ee,de,ce){let rt=te||kg(M,ge),Yt=ge||pe||tb(rt),Le=a||s,[qe,ht]=qT(t.history,v,H,Yt,M,A,N,V,L,k,Le,l,de,ce);if(mm(ze=>!(H&&H.some(pr=>pr.route.id===ze))||qe&&qe.some(pr=>pr.route.id===ze)),$=++z,qe.length===0&&ht.length===0){let ze=be();return We(M,it({matches:H,loaderData:{},errors:ce||null},de?{actionData:de}:{},ze?{fetchers:new Map(v.fetchers)}:{})),{shortCircuited:!0}}if(!R){ht.forEach(pr=>{let Bi=v.fetchers.get(pr.key),_m=tu(void 0,Bi?Bi.data:void 0);v.fetchers.set(pr.key,_m)});let ze=de||v.actionData;we(it({navigation:rt},ze?Object.keys(ze).length===0?{actionData:null}:{actionData:ze}:{},ht.length>0?{fetchers:new Map(v.fetchers)}:{}))}ht.forEach(ze=>{U.has(ze.key)&&Te(ze.key),ze.controller&&U.set(ze.key,ze.controller)});let Wo=()=>ht.forEach(ze=>Te(ze.key));I&&I.signal.addEventListener("abort",Wo);let{results:Ho,loaderResults:Vl,fetcherResults:gm}=await se(v.matches,H,qe,ht,O);if(O.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Wo),ht.forEach(ze=>U.delete(ze.key));let si=ZT(Ho);if(si){if(si.idx>=qe.length){let ze=ht[si.idx-qe.length].key;k.add(ze)}return await X(v,si.result,{replace:Ee}),{shortCircuited:!0}}let{loaderData:ai,errors:wd}=YT(v,H,qe,Vl,ce,ht,gm,x);x.forEach((ze,pr)=>{ze.subscribe(Bi=>{(Bi||ze.done)&&x.delete(pr)})});let ym=be(),vm=At($),wm=ym||vm||ht.length>0;return it({loaderData:ai,errors:wd},wm?{fetchers:new Map(v.fetchers)}:{})}function xt(O){return v.fetchers.get(O)||R7}function bn(O,M,H,te){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(O)&&Te(O);let ge=a||s,pe=Rv(v.location,v.matches,l,u.v7_prependBasename,H,M,te==null?void 0:te.relative),Ee=ma(ge,pe,l);if(!Ee){fe(O,M,er(404,{pathname:pe}));return}let{path:de,submission:ce,error:rt}=HT(u.v7_normalizeFormMethod,!0,pe,te);if(rt){fe(O,M,rt);return}let Yt=xv(Ee,de);if(b=(te&&te.preventScrollReset)===!0,ce&&wr(ce.formMethod)){Ae(O,M,de,Yt,Ee,ce);return}L.set(O,{routeId:M,path:de}),Gn(O,M,de,Yt,Ee,ce)}async function Ae(O,M,H,te,ge,pe){if(G(),L.delete(O),!te.route.action&&!te.route.lazy){let St=er(405,{method:pe.formMethod,pathname:H,routeId:M});fe(O,M,St);return}let Ee=v.fetchers.get(O),de=F7(pe,Ee);v.fetchers.set(O,de),we({fetchers:new Map(v.fetchers)});let ce=new AbortController,rt=eu(t.history,H,ce.signal,pe);U.set(O,ce);let Yt=z,Le=await Zl("action",rt,te,ge,o,i,l);if(rt.signal.aborted){U.get(O)===ce&&U.delete(O);return}if(Aa(Le))if(U.delete(O),$>Yt){let St=ta(void 0);v.fetchers.set(O,St),we({fetchers:new Map(v.fetchers)});return}else{k.add(O);let St=tu(pe);return v.fetchers.set(O,St),we({fetchers:new Map(v.fetchers)}),X(v,Le,{fetcherSubmission:pe})}if(Cu(Le)){fe(O,M,Le.error);return}if(os(Le))throw er(400,{type:"defer-action"});let qe=v.navigation.location||v.location,ht=eu(t.history,qe,ce.signal),Wo=a||s,Ho=v.navigation.state!=="idle"?ma(Wo,v.navigation.location,l):v.matches;Ie(Ho,"Didn't find any matches after fetcher action");let Vl=++z;W.set(O,Vl);let gm=tu(pe,Le.data);v.fetchers.set(O,gm);let[si,ai]=qT(t.history,v,Ho,pe,qe,A,N,V,L,k,Wo,l,{[te.route.id]:Le.data},void 0);ai.filter(St=>St.key!==O).forEach(St=>{let $l=St.key,uE=v.fetchers.get($l),VN=tu(void 0,uE?uE.data:void 0);v.fetchers.set($l,VN),U.has($l)&&Te($l),St.controller&&U.set($l,St.controller)}),we({fetchers:new Map(v.fetchers)});let wd=()=>ai.forEach(St=>Te(St.key));ce.signal.addEventListener("abort",wd);let{results:ym,loaderResults:vm,fetcherResults:wm}=await se(v.matches,Ho,si,ai,ht);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",wd),W.delete(O),U.delete(O),ai.forEach(St=>U.delete(St.key));let ze=ZT(ym);if(ze){if(ze.idx>=si.length){let St=ai[ze.idx-si.length].key;k.add(St)}return X(v,ze.result)}let{loaderData:pr,errors:Bi}=YT(v,v.matches,si,vm,void 0,ai,wm,x);if(v.fetchers.has(O)){let St=ta(Le.data);v.fetchers.set(O,St)}let _m=At(Vl);v.navigation.state==="loading"&&Vl>$?(Ie(T,"Expected pending action"),I&&I.abort(),We(v.navigation.location,{matches:Ho,loaderData:pr,errors:Bi,fetchers:new Map(v.fetchers)})):(we(it({errors:Bi,loaderData:XT(v.loaderData,pr,Ho,Bi)},_m||ai.length>0?{fetchers:new Map(v.fetchers)}:{})),A=!1)}async function Gn(O,M,H,te,ge,pe){let Ee=v.fetchers.get(O),de=tu(pe,Ee?Ee.data:void 0);v.fetchers.set(O,de),we({fetchers:new Map(v.fetchers)});let ce=new AbortController,rt=eu(t.history,H,ce.signal);U.set(O,ce);let Yt=z,Le=await Zl("loader",rt,te,ge,o,i,l);if(os(Le)&&(Le=await hN(Le,rt.signal,!0)||Le),U.get(O)===ce&&U.delete(O),rt.signal.aborted)return;if(Aa(Le))if($>Yt){let ht=ta(void 0);v.fetchers.set(O,ht),we({fetchers:new Map(v.fetchers)});return}else{k.add(O),await X(v,Le);return}if(Cu(Le)){let ht=ga(v.matches,M);v.fetchers.delete(O),we({fetchers:new Map(v.fetchers),errors:{[ht.route.id]:Le.error}});return}Ie(!os(Le),"Unhandled fetcher deferred data");let qe=ta(Le.data);v.fetchers.set(O,qe),we({fetchers:new Map(v.fetchers)})}async function X(O,M,H){let{submission:te,fetcherSubmission:ge,replace:pe}=H===void 0?{}:H;M.revalidate&&(A=!0);let Ee=mc(O.location,M.location,{_isRedirect:!0});if(Ie(Ee,"Expected a location on the redirect navigation"),n){let qe=!1;if(M.reloadDocument)qe=!0;else if(cN.test(M.location)){const ht=t.history.createURL(M.location);qe=ht.origin!==e.location.origin||Dl(ht.pathname,l)==null}if(qe){pe?e.location.replace(M.location):e.location.assign(M.location);return}}I=null;let de=pe===!0?yt.Replace:yt.Push,{formMethod:ce,formAction:rt,formEncType:Yt}=O.navigation;!te&&!ge&&ce&&rt&&Yt&&(te=tb(O.navigation));let Le=te||ge;if(C7.has(M.status)&&Le&&wr(Le.formMethod))await nt(de,Ee,{submission:it({},Le,{formAction:M.location}),preventScrollReset:b});else{let qe=kg(Ee,te);await nt(de,Ee,{overrideNavigation:qe,fetcherSubmission:ge,preventScrollReset:b})}}async function se(O,M,H,te,ge){let pe=await Promise.all([...H.map(ce=>Zl("loader",ge,ce,M,o,i,l)),...te.map(ce=>ce.matches&&ce.match&&ce.controller?Zl("loader",eu(t.history,ce.path,ce.controller.signal),ce.match,ce.matches,o,i,l):{type:pt.error,error:er(404,{pathname:ce.path})})]),Ee=pe.slice(0,H.length),de=pe.slice(H.length);return await Promise.all([eb(O,H,Ee,Ee.map(()=>ge.signal),!1,v.loaderData),eb(O,te.map(ce=>ce.match),de,te.map(ce=>ce.controller?ce.controller.signal:null),!0)]),{results:pe,loaderResults:Ee,fetcherResults:de}}function G(){A=!0,N.push(...mm()),L.forEach((O,M)=>{U.has(M)&&(V.push(M),Te(M))})}function fe(O,M,H){let te=ga(v.matches,M);De(O),we({errors:{[te.route.id]:H},fetchers:new Map(v.fetchers)})}function De(O){let M=v.fetchers.get(O);U.has(O)&&!(M&&M.state==="loading"&&W.has(O))&&Te(O),L.delete(O),W.delete(O),k.delete(O),v.fetchers.delete(O)}function Te(O){let M=U.get(O);Ie(M,"Expected fetch controller: "+O),M.abort(),U.delete(O)}function He(O){for(let M of O){let H=xt(M),te=ta(H.data);v.fetchers.set(M,te)}}function be(){let O=[],M=!1;for(let H of k){let te=v.fetchers.get(H);Ie(te,"Expected fetcher: "+H),te.state==="loading"&&(k.delete(H),O.push(H),M=!0)}return He(O),M}function At(O){let M=[];for(let[H,te]of W)if(te<O){let ge=v.fetchers.get(H);Ie(ge,"Expected fetcher: "+H),ge.state==="loading"&&(Te(H),W.delete(H),M.push(H))}return He(M),M.length>0}function ji(O,M){let H=v.blockers.get(O)||Jl;return D.get(O)!==M&&D.set(O,M),H}function oE(O){v.blockers.delete(O),D.delete(O)}function vd(O,M){let H=v.blockers.get(O)||Jl;Ie(H.state==="unblocked"&&M.state==="blocked"||H.state==="blocked"&&M.state==="blocked"||H.state==="blocked"&&M.state==="proceeding"||H.state==="blocked"&&M.state==="unblocked"||H.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+H.state+" -> "+M.state);let te=new Map(v.blockers);te.set(O,M),we({blockers:te})}function sE(O){let{currentLocation:M,nextLocation:H,historyAction:te}=O;if(D.size===0)return;D.size>1&&Os(!1,"A router only supports one blocker at a time");let ge=Array.from(D.entries()),[pe,Ee]=ge[ge.length-1],de=v.blockers.get(pe);if(!(de&&de.state==="proceeding")&&Ee({currentLocation:M,nextLocation:H,historyAction:te}))return pe}function mm(O){let M=[];return x.forEach((H,te)=>{(!O||O(te))&&(H.cancel(),M.push(te),x.delete(te))}),M}function ON(O,M,H){if(f=O,p=M,h=H||null,!g&&v.navigation===Ag){g=!0;let te=lE(v.location,v.matches);te!=null&&we({restoreScrollPosition:te})}return()=>{f=null,p=null,h=null}}function aE(O,M){return h&&h(O,M.map(te=>n7(te,v.loaderData)))||O.key}function MN(O,M){if(f&&p){let H=aE(O,M);f[H]=p()}}function lE(O,M){if(f){let H=aE(O,M),te=f[H];if(typeof te=="number")return te}return null}function LN(O){o={},a=Cv(O,i,void 0,o)}return E={get basename(){return l},get state(){return v},get routes(){return s},initialize:Q,subscribe:Ve,enableScrollRestoration:ON,navigate:Fe,fetch:bn,revalidate:Me,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:xt,deleteFetcher:De,dispose:ee,getBlocker:ji,deleteBlocker:oE,_internalFetchControllers:U,_internalActiveDeferreds:x,_internalSetRoutes:LN},E}function A7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Rv(t,e,n,r,i,o,s){let a,l;if(o!=null&&s!=="path"){a=[];for(let c of e)if(a.push(c),c.route.id===o){l=c;break}}else a=e,l=e[e.length-1];let u=cm(i||".",gd(a).map(c=>c.pathnameBase),Dl(t.pathname,n)||t.pathname,s==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!J_(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Ti([n,u.pathname])),Ms(u)}function HT(t,e,n,r){if(!r||!A7(r))return{path:n};if(r.formMethod&&!V7(r.formMethod))return{path:n,error:er(405,{method:r.formMethod})};let i=()=>({path:n,error:er(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=fN(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!wr(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((h,p)=>{let[g,_]=p;return""+h+g+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!wr(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ie(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=Pv(r.formData),u=r.formData;else if(r.body instanceof FormData)l=Pv(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=QT(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=QT(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(wr(c.formMethod))return{path:n,submission:c};let d=oi(n);return e&&d.search&&J_(d.search)&&l.append("index",""),d.search="?"+l,{path:Ms(d),submission:c}}function k7(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function qT(t,e,n,r,i,o,s,a,l,u,c,d,f,h){let p=h?Object.values(h)[0]:f?Object.values(f)[0]:void 0,g=t.createURL(e.location),_=t.createURL(i),m=h?Object.keys(h)[0]:void 0,E=k7(n,m).filter((T,b)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(N7(e.loaderData,e.matches[b],T)||s.some(A=>A===T.route.id))return!0;let I=e.matches[b],R=T;return KT(T,it({currentUrl:g,currentParams:I.params,nextUrl:_,nextParams:R.params},r,{actionResult:p,defaultShouldRevalidate:o||g.pathname+g.search===_.pathname+_.search||g.search!==_.search||dN(I,R)}))}),v=[];return l.forEach((T,b)=>{if(!n.some(V=>V.route.id===T.routeId))return;let I=ma(c,T.path,d);if(!I){v.push({key:b,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let R=e.fetchers.get(b),A=xv(I,T.path),N=!1;u.has(b)?N=!1:a.includes(b)?N=!0:R&&R.state!=="idle"&&R.data===void 0?N=o:N=KT(A,it({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:o})),N&&v.push({key:b,routeId:T.routeId,path:T.path,matches:I,match:A,controller:new AbortController})}),[E,v]}function N7(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function dN(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function KT(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function GT(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ie(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Os(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!e7.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,it({},e(i),{lazy:void 0}))}async function Zl(t,e,n,r,i,o,s,a){a===void 0&&(a={});let l,u,c,d=p=>{let g,_=new Promise((m,y)=>g=y);return c=()=>g(),e.signal.addEventListener("abort",c),Promise.race([p({request:e,params:n.params,context:a.requestContext}),_])};try{let p=n.route[t];if(n.route.lazy)if(p){let g,_=await Promise.all([d(p).catch(m=>{g=m}),GT(n.route,o,i)]);if(g)throw g;u=_[0]}else if(await GT(n.route,o,i),p=n.route[t],p)u=await d(p);else if(t==="action"){let g=new URL(e.url),_=g.pathname+g.search;throw er(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:pt.data,data:void 0};else if(p)u=await d(p);else{let g=new URL(e.url),_=g.pathname+g.search;throw er(404,{pathname:_})}Ie(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){l=pt.error,u=p}finally{c&&e.signal.removeEventListener("abort",c)}if(L7(u)){let p=u.status;if(I7.has(p)){let m=u.headers.get("Location");if(Ie(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!cN.test(m))m=Rv(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,m);else if(!a.isStaticRequest){let y=new URL(e.url),E=m.startsWith("//")?new URL(y.protocol+m):new URL(m),v=Dl(E.pathname,s)!=null;E.origin===y.origin&&v&&(m=E.pathname+E.search+E.hash)}if(a.isStaticRequest)throw u.headers.set("Location",m),u;return{type:pt.redirect,status:p,location:m,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===pt.error?pt.error:pt.data,response:u};let g,_=u.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?g=await u.json():g=await u.text(),l===pt.error?{type:l,error:new X_(p,u.statusText,g),headers:u.headers}:{type:pt.data,data:g,statusCode:u.status,headers:u.headers}}if(l===pt.error)return{type:l,error:u};if(M7(u)){var f,h;return{type:pt.deferred,deferredData:u,statusCode:(f=u.init)==null?void 0:f.status,headers:((h=u.init)==null?void 0:h.headers)&&new Headers(u.init.headers)}}return{type:pt.data,data:u}}function eu(t,e,n,r){let i=t.createURL(fN(e)).toString(),o={signal:n};if(r&&wr(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Pv(r.formData):o.body=r.formData}return new Request(i,o)}function Pv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function QT(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function D7(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let f=e[d].route.id;if(Ie(!Aa(c),"Cannot handle redirect results in processLoaderData"),Cu(c)){let h=ga(t,f),p=c.error;r&&(p=Object.values(r)[0],r=void 0),s=s||{},s[h.route.id]==null&&(s[h.route.id]=p),o[f]=void 0,l||(l=!0,a=lN(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else os(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function YT(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=D7(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:f,controller:h}=o[c];Ie(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let p=s[c];if(!(h&&h.signal.aborted))if(Cu(p)){let g=ga(t.matches,f==null?void 0:f.route.id);u&&u[g.route.id]||(u=it({},u,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(Aa(p))Ie(!1,"Unhandled fetcher revalidation redirect");else if(os(p))Ie(!1,"Unhandled fetcher deferred data");else{let g=ta(p.data);t.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function XT(t,e,n,r){let i=it({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function ga(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function JT(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function er(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new X_(t||500,s,new Error(a),!0)}function ZT(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Aa(n))return{result:n,idx:e}}}function fN(t){let e=typeof t=="string"?oi(t):t;return Ms(it({},e,{hash:""}))}function O7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function os(t){return t.type===pt.deferred}function Cu(t){return t.type===pt.error}function Aa(t){return(t&&t.type)===pt.redirect}function M7(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function L7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function V7(t){return b7.has(t.toLowerCase())}function wr(t){return S7.has(t.toLowerCase())}async function eb(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!dN(u,l)&&(o&&o[l.route.id])!==void 0;if(os(a)&&(i||c)){let d=r[s];Ie(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await hN(a,d,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function hN(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:pt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:pt.error,error:i}}return{type:pt.data,data:t.deferredData.data}}}function J_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xv(t,e){let n=typeof e=="string"?oi(e).search:e.search;if(t[t.length-1].route.index&&J_(n||""))return t[t.length-1];let r=gd(t);return r[r.length-1]}function tb(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function kg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function $7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function F7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ta(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}/**
 * React Router v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}const dm=w.createContext(null),pN=w.createContext(null),Ol=w.createContext(null),fm=w.createContext(null),Ui=w.createContext({outlet:null,matches:[],isDataRoute:!1}),mN=w.createContext(null);function U7(t,e){let{relative:n}=e===void 0?{}:e;Ml()||Ie(!1);let{basename:r,navigator:i}=w.useContext(Ol),{hash:o,pathname:s,search:a}=yN(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Ti([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ml(){return w.useContext(fm)!=null}function Ll(){return Ml()||Ie(!1),w.useContext(fm).location}function gN(t){w.useContext(Ol).static||w.useLayoutEffect(t)}function hm(){let{isDataRoute:t}=w.useContext(Ui);return t?eW():j7()}function j7(){Ml()||Ie(!1);let t=w.useContext(dm),{basename:e,navigator:n}=w.useContext(Ol),{matches:r}=w.useContext(Ui),{pathname:i}=Ll(),o=JSON.stringify(gd(r).map(l=>l.pathnameBase)),s=w.useRef(!1);return gN(()=>{s.current=!0}),w.useCallback(function(l,u){if(u===void 0&&(u={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let c=cm(l,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Ti([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,o,i,t])}const B7=w.createContext(null);function z7(t){let e=w.useContext(Ui).outlet;return e&&w.createElement(B7.Provider,{value:t},e)}function yN(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=w.useContext(Ui),{pathname:i}=Ll(),o=JSON.stringify(gd(r).map(s=>s.pathnameBase));return w.useMemo(()=>cm(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function W7(t,e,n){Ml()||Ie(!1);let{navigator:r}=w.useContext(Ol),{matches:i}=w.useContext(Ui),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Ll(),u;if(e){var c;let g=typeof e=="string"?oi(e):e;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Ie(!1),u=g}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=ma(t,{pathname:f}),p=Q7(h&&h.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Ti([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Ti([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,n);return e&&p?w.createElement(fm.Provider,{value:{location:Lh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yt.Pop}},p):p}function H7(){let t=Z7(),e=lN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,o)}const q7=w.createElement(H7,null);class K7 extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?w.createElement(Ui.Provider,{value:this.props.routeContext},w.createElement(mN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G7(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(dm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Ui.Provider,{value:e},r)}function Q7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||Ie(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,u)=>{let c=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||q7);let f=e.concat(o.slice(0,u+1)),h=()=>{let p;return c?p=d:l.route.Component?p=w.createElement(l.route.Component,null):l.route.element?p=l.route.element:p=a,w.createElement(G7,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:p})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?w.createElement(K7,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var vN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vN||{}),Vh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vh||{});function Y7(t){let e=w.useContext(dm);return e||Ie(!1),e}function X7(t){let e=w.useContext(pN);return e||Ie(!1),e}function J7(t){let e=w.useContext(Ui);return e||Ie(!1),e}function wN(t){let e=J7(),n=e.matches[e.matches.length-1];return n.route.id||Ie(!1),n.route.id}function Z7(){var t;let e=w.useContext(mN),n=X7(Vh.UseRouteError),r=wN(Vh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function eW(){let{router:t}=Y7(vN.UseNavigateStable),e=wN(Vh.UseNavigateStable),n=w.useRef(!1);return gN(()=>{n.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lh({fromRouteId:e},o)))},[t,e])}const tW="startTransition",nb=Lv[tW];function nW(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=w.useState(n.state),{v7_startTransition:s}=r||{},a=w.useCallback(d=>{s&&nb?nb(()=>o(d)):o(d)},[o,s]);w.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,f,h)=>n.navigate(d,{state:f,preventScrollReset:h==null?void 0:h.preventScrollReset}),replace:(d,f,h)=>n.navigate(d,{replace:!0,state:f,preventScrollReset:h==null?void 0:h.preventScrollReset})}),[n]),u=n.basename||"/",c=w.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return w.createElement(w.Fragment,null,w.createElement(dm.Provider,{value:c},w.createElement(pN.Provider,{value:i},w.createElement(iW,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?w.createElement(rW,{routes:n.routes,state:i}):e))),null)}function rW(t){let{routes:e,state:n}=t;return W7(e,void 0,n)}function _N(t){let{to:e,replace:n,state:r,relative:i}=t;Ml()||Ie(!1);let{matches:o}=w.useContext(Ui),{pathname:s}=Ll(),a=hm(),l=cm(e,gd(o).map(c=>c.pathnameBase),s,i==="path"),u=JSON.stringify(l);return w.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function EN(t){return z7(t.context)}function iW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yt.Pop,navigator:o,static:s=!1}=t;Ml()&&Ie(!1);let a=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=oi(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:h="default"}=r,p=w.useMemo(()=>{let g=Dl(u,a);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:h},navigationType:i}},[a,u,c,d,f,h,i]);return p==null?null:w.createElement(Ol.Provider,{value:l},w.createElement(fm.Provider,{children:n,value:p}))}new Promise(()=>{});function oW(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.16.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function sW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function aW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lW(t,e){return t.button===0&&(!e||e==="_self")&&!aW(t)}const uW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function cW(t,e){return x7({basename:e==null?void 0:e.basename,future:gc({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:X8({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||dW(),routes:t,mapRouteProperties:oW}).initialize()}function dW(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gc({},e,{errors:fW(e.errors)})),e}function fW(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new X_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const hW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SN=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,d=sW(e,uW),{basename:f}=w.useContext(Ol),h,p=!1;if(typeof u=="string"&&pW.test(u)&&(h=u,hW))try{let y=new URL(window.location.href),E=u.startsWith("//")?new URL(y.protocol+u):new URL(u),v=Dl(E.pathname,f);E.origin===y.origin&&v!=null?u=v+E.search+E.hash:p=!0}catch{}let g=U7(u,{relative:i}),_=mW(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i});function m(y){r&&r(y),y.defaultPrevented||_(y)}return w.createElement("a",gc({},d,{href:h||g,onClick:p||o?r:m,ref:n,target:l}))});var rb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(rb||(rb={}));var ib;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ib||(ib={}));function mW(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=hm(),l=Ll(),u=yN(t,{relative:s});return w.useCallback(c=>{if(lW(c,n)){c.preventDefault();let d=r!==void 0?r:Ms(l)===Ms(u);a(t,{replace:d,state:i,preventScrollReset:o,relative:s})}},[l,a,u,r,i,n,t,o,s])}function gW(){return C.jsx(_o,{children:"Need to redo this tab"})}var TN={exports:{}},yW="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vW=yW,wW=vW;function bN(){}function IN(){}IN.resetWarningCache=bN;var _W=function(){function t(r,i,o,s,a,l){if(l!==wW){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:IN,resetWarningCache:bN};return n.PropTypes=n,n};TN.exports=_W();var EW=TN.exports;const qo=wb(EW);var SW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},TW=Object.defineProperty,bW=Object.defineProperties,IW=Object.getOwnPropertyDescriptors,$h=Object.getOwnPropertySymbols,CN=Object.prototype.hasOwnProperty,RN=Object.prototype.propertyIsEnumerable,ob=(t,e,n)=>e in t?TW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sb=(t,e)=>{for(var n in e||(e={}))CN.call(e,n)&&ob(t,n,e[n]);if($h)for(var n of $h(e))RN.call(e,n)&&ob(t,n,e[n]);return t},CW=(t,e)=>bW(t,IW(e)),RW=(t,e)=>{var n={};for(var r in t)CN.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$h)for(var r of $h(t))e.indexOf(r)<0&&RN.call(t,r)&&(n[r]=t[r]);return n},yd=(t,e,n)=>{const r=w.forwardRef((i,o)=>{var s=i,{color:a="currentColor",size:l=24,stroke:u=2,children:c}=s,d=RW(s,["color","size","stroke","children"]);return w.createElement("svg",sb(CW(sb({ref:o},SW),{width:l,height:l,stroke:a,strokeWidth:u,className:`tabler-icon tabler-icon-${t}`}),d),[...n.map(([f,h])=>w.createElement(f,h)),...c||[]])});return r.propTypes={color:qo.string,size:qo.oneOfType([qo.string,qo.number]),stroke:qo.oneOfType([qo.string,qo.number])},r.displayName=`${e}`,r},PN=yd("brand-github","IconBrandGithub",[["path",{d:"M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5",key:"svg-0"}]]),PW=yd("brand-google","IconBrandGoogle",[["path",{d:"M17.788 5.108a9 9 0 1 0 3.212 6.892h-8",key:"svg-0"}]]),Z_=yd("dots","IconDots",[["path",{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}]]),xW=yd("logout","IconLogout",[["path",{d:"M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M9 12h12l-3 -3",key:"svg-1"}],["path",{d:"M18 15l3 -3",key:"svg-2"}]]),AW=yd("user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);function eE(){const t=w.useContext(oN);if(!t)throw new Error("useAuth must be used inside an AuthProvider");return t}function kW(){const{signOut:t,userId:e,displayName:n}=eE(),r=hm(),i=Ll();return C.jsxs(Ew,{p:"lg",size:"xs",children:[C.jsxs(at,{justify:"space-between",align:"center",mb:"md",children:[C.jsx(Zr,{component:SN,to:"/",fz:22,fw:"600",children:" Lifting log"}),C.jsxs(at,{gap:"xs",children:[C.jsx(ko,{variant:"subtle",color:"gray",component:"a",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/scwood/workout-log",children:C.jsx(PN,{})}),e&&C.jsxs(Ne,{children:[C.jsx(Ne.Target,{children:C.jsx(ko,{variant:"subtle",color:"gray",children:C.jsx(AW,{})})}),C.jsxs(Ne.Dropdown,{children:[n&&C.jsx(Ne.Item,{disabled:!0,children:n}),C.jsx(Ne.Item,{onClick:t,leftSection:C.jsx(xW,{size:14}),children:"Sign out"})]})]})]})]}),e&&C.jsx(Ur,{mb:"md",value:i.pathname,onChange:o,children:C.jsxs(Ur.List,{children:[C.jsx(Ur.Tab,{value:"/",children:"Current workout"}),C.jsx(Ur.Tab,{value:"/plan",children:"Workout plan"}),C.jsx(Ur.Tab,{value:"/history",children:"History"})]})}),C.jsx(EN,{})]});function o(s){s&&r(s)}}function NW(){const{signIn:t,error:e}=eE(),n=hm();return C.jsx(C.Fragment,{children:C.jsxs(at,{direction:"column",gap:"md",children:[!!e&&C.jsx(ow,{color:"red",children:e==null?void 0:e.message}),C.jsx(wn,{size:"md",color:"gray",leftSection:C.jsx(PN,{}),onClick:()=>r("github"),children:"Sign in with GitHub"}),C.jsx(wn,{size:"md",color:"gray",leftSection:C.jsx(PW,{}),onClick:()=>r("google"),children:"Sign in with Google"})]})});async function r(i){await t(i),n("/")}}const xN=w.createContext(null);function DW(t){const{userId:e,children:n}=t;return C.jsx(xN.Provider,{value:{userId:e},children:n})}function OW(){const{userId:t}=eE();return t?C.jsx(DW,{userId:t,children:C.jsx(EN,{})}):C.jsx(_N,{to:"/sign-in"})}function tE(){const t=w.useContext(xN);if(!t)throw new Error("useCurrentUser must be used within a CurrentUserProvider");return t}async function MW({userId:t,...e}){const n=Kk(nE()),r={id:n.id,userId:t,createdTimestamp:Date.now(),completedTimestamp:null,notes:null,days:[],...e};await q8(n,r)}async function LW(t){const e=await H8(M8(nE(),L8("userId","==",t),V8("createdTimestamp","desc"),$8(1)));return e.empty?null:e.docs[0].data()}async function VW(t,e){await K8(Kk(nE(),t),{...e})}function nE(){return T8(Gk(zw()),"workouts")}function Ru(t){return["currentWorkout",t]}function AN(){const{userId:t}=tE();return Z9({queryKey:Ru(t),queryFn:()=>LW(t)})}function $W(t){return["workouts",t]}function pm(){const{userId:t}=tE(),e=Pp();return ex({mutationFn:({workoutId:n,updates:r})=>VW(n,r),onMutate:({workoutId:n,updates:r})=>{const i=e.getQueryData(Ru(t));i&&i.id===n&&e.setQueryData(Ru(t),{...i,...r})},onSettled:()=>{e.invalidateQueries({queryKey:Ru(t)}),e.invalidateQueries({queryKey:$W(t)})}})}var pn=(t=>(t.DoublePlate="doublePlate",t.SinglePlate="singlePlate",t.Other="other",t))(pn||{}),jt=(t=>(t.Percentage="percentage",t.Weight="weight",t))(jt||{});const kN=45,ab=[45,25,10,5,2.5,1.25];function NN(t,e){let n=t;e===pn.DoublePlate&&(n=(t-kN)/2);const r=[];for(let i=0;i<ab.length;i++){const o=ab[i],s=n%o,a=(n-s)/o;for(let l=0;l<a;l++)r.push(o);a>0&&(n=s)}return r.join(", ")}function yc(t){const e=Object.values(t.workingSets);return e.length===t.sets&&e.every(n=>n.isLogged)}function FW(t){return t.exercises.some(e=>yc(e))}function Av(t){return t.type===pn.DoublePlate||t.type===pn.SinglePlate}function UW(t,e){if(e.type===jt.Weight)return e.value;let n=t.minimumWeightIncrement;t.type===pn.DoublePlate&&(n=kN);const r=e.value/100;return Math.max(n,jW(t.weight*r,t.minimumWeightIncrement))}function jW(t,e){return Math.round(t/e)*e}function kv(t){return`${t.sets}x${t.reps}x${t.weight}`}function BW(t){const{exercise:e,workingSet:n,onChange:r}=t;return C.jsxs(Ue.Tr,{children:[C.jsx(Ue.Td,{children:e.weight}),Av(e)&&C.jsx(Ue.Td,{children:NN(e.weight,e.type)}),C.jsx(Ue.Td,{children:C.jsx($n,{styles:{input:{width:42}},allowDecimal:!1,max:99,min:0,placeholder:String(e.reps),value:n.reps??"",onChange:i,hideControls:!0})}),C.jsx(Ue.Td,{children:C.jsx(qc,{label:"Enter reps to log",withArrow:!0,disabled:n.reps!==null,events:{hover:!0,touch:!0,focus:!1},children:C.jsx(pp,{size:"md",color:"green",onChange:o,disabled:n.reps===null,checked:n.isLogged})})})]});function i(s){const a=parseInt(String(s));r({isLogged:a>=0?n.isLogged:!1,reps:a>=0?a:null})}function o(s){r({isLogged:s.target.checked,reps:n.reps})}}function zW(t){const{opened:e,exercise:n,onClose:r,onSave:i}=t,[o,s]=w.useState("doNothing"),[a,l]=w.useState((n==null?void 0:n.weight)??""),[u,c]=w.useState((n==null?void 0:n.sets)??""),[d,f]=w.useState((n==null?void 0:n.reps)??""),[h,p]=w.useState(e);h!==e&&(p(e),y());const g={weight:parseInt(String(a)),sets:parseInt(String(u)),reps:parseInt(String(d))};return C.jsxs(Kn,{opened:e,onClose:r,centered:!0,title:"Exercise complete",children:[C.jsx(rr.Group,{label:"What do you want to do next session?",required:!0,value:o??"",onChange:E=>s(E),children:C.jsxs(at,{gap:"xs",direction:"column",children:[C.jsx(rr,{mt:"md",label:"Do nothing",description:"Keep things the same for next session",value:"doNothing"}),C.jsx(rr,{label:"Add a rep",description:"Add a single rep for next session",value:"addRep"}),C.jsxs("div",{children:[C.jsx(rr,{label:"Add weight",description:"Increases weight by the minimum amount for next session",value:"addWeight"}),o==="addWeight"&&C.jsx($n,{allowDecimal:!1,allowNegative:!1,value:d,onChange:f,label:"Rep goal at new weight",required:!0,mb:"xs",ml:"xl"})]}),C.jsxs("div",{children:[C.jsx(rr,{label:"Custom",description:"Change the weight, reps, and/or sets for next session",value:"custom"}),o==="custom"&&C.jsxs(at,{direction:"column",gap:4,mt:4,children:[C.jsx($n,{allowDecimal:!1,allowNegative:!1,value:a,onChange:l,label:"Weight",ml:"xl",required:!0}),C.jsx($n,{allowDecimal:!1,allowNegative:!1,value:u,onChange:c,label:"Sets",ml:"xl",required:!0}),C.jsx($n,{allowDecimal:!1,allowNegative:!1,value:d,onChange:f,label:"Reps",ml:"xl",required:!0})]})]})]})}),C.jsx(at,{justify:"flex-end",mt:"lg",children:C.jsx(wn,{color:"green",disabled:!m(),onClick:_,children:"Save"})})]});function _(){if(n===null)return;const E={};switch(o){case"addRep":E.reps=n.reps+1;break;case"addWeight":E.weight=n.weight+n.minimumWeightIncrement,E.reps=g.reps;break;case"custom":E.weight=g.weight,E.sets=g.sets,E.reps=g.reps;break}i(E),r()}function m(){return o==="custom"?g.weight>=0&&g.sets>=0&&g.reps>=0:o==="addWeight"?g.reps>=0:!0}function y(){s("doNothing"),l((n==null?void 0:n.weight)??""),c((n==null?void 0:n.sets)??""),f((n==null?void 0:n.reps)??"")}}function WW(t){const{workout:e,day:n}=t,{mutate:r}=pm(),[i,o]=w.useState(!1),[s,a]=w.useState(null),[l,u]=w.useState(null),[c,d]=w.useState(null),f=n.exercises.filter(_=>!yc(_));return C.jsxs(C.Fragment,{children:[C.jsxs(sr,{order:3,children:["Day: ",n.name]}),C.jsx(El,{mt:4,mb:"md"}),f.map(_=>C.jsxs("div",{children:[C.jsxs(sr,{order:4,mb:"xs",children:[_.name,":"]}),C.jsxs(Ue,{mb:"lg",withTableBorder:!0,children:[C.jsx(Ue.Thead,{children:C.jsxs(Ue.Tr,{children:[C.jsx(Ue.Th,{children:"Weight"}),Av(_)&&C.jsx(Ue.Th,{children:"Plates"}),C.jsx(Ue.Th,{children:"Reps"}),C.jsx(Ue.Th,{children:"Log"})]})}),C.jsxs(Ue.Tbody,{children:[_.warmUpSets.map(m=>{const y=UW(_,m);return C.jsxs(Ue.Tr,{children:[C.jsx(Ue.Td,{children:y}),Av(_)&&C.jsx(Ue.Td,{children:NN(y,_.type)}),C.jsx(Ue.Td,{children:m.reps}),C.jsx(Ue.Td,{})]},m.id)}),Array.from({length:_.sets}).map((m,y)=>{const E=_.workingSets[y]??{isLogged:!1,reps:null};return C.jsx(BW,{exercise:_,workingSet:E,onChange:v=>{h(_,y,v)}},y)})]})]})]},_.id)),C.jsx(zW,{exercise:s,opened:i,onSave:p,onClose:()=>o(!1)})]});async function h(_,m,y){const E={..._,workingSets:{..._.workingSets,[m]:y}};yc(E)?(a(_),u(y),d(m),o(!0)):await g(E)}function p(_){if(s===null||l===null||c===null)return;const m={...s,workingSets:{...s.workingSets,[c]:l},nextSession:_};g(m)}async function g(_){await r({workoutId:e.id,updates:{days:e.days.map(m=>m.id===n.id?{...n,exercises:n.exercises.map(y=>y.id===_.id?_:y)}:m)}})}}function HW(t){const{onUndo:e,exercise:n}=t;return C.jsx(Cs,{withBorder:!0,shadow:"sm",children:C.jsxs(Cs.Section,{withBorder:!0,inheritPadding:!0,py:"xs",children:[C.jsx(sr,{order:4,mb:2,children:n.name}),C.jsxs(js,{size:"sm",c:"dimmed",children:["This session: ",kv(n)," (",Object.values(n.workingSets).map(r=>r.reps).join(","),")",C.jsx("br",{}),"Next session:"," ",kv({...n,...n.nextSession})]}),C.jsx(wn,{fullWidth:!0,size:"xs",mt:"sm",mb:6,onClick:()=>e(n),children:"Undo"})]})})}function qW(){const{isLoading:t,isError:e,data:n}=AN(),{mutate:r}=pm(),[i,o]=w.useState((n==null?void 0:n.notes)??""),[s,a]=w.useState(n);if(n!==s&&(a(n),o((n==null?void 0:n.notes)??"")),t)return C.jsx(_o,{children:C.jsx(Us,{})});if(e)return C.jsx(_o,{children:"Failed to load workout"});if(!n||n.days.length===0)return C.jsxs(_o,{children:["To get started,",C.jsx(sw,{to:"/plan",component:SN,children:"create a workout plan"}),"."]});if(n.completedTimestamp)return C.jsxs(C.Fragment,{children:[C.jsx(sr,{order:3,mb:"md",children:"Workout complete"}),C.jsx("p",{children:'Click the button below to create the next workout or click "undo" on an exercise to correct any mistakes.'}),C.jsx(wn,{color:"green",mb:"sm",children:"Create next workout"}),u(),c()]});const l=n.days.filter(h=>h.exercises.some(p=>!yc(p)));return C.jsxs(C.Fragment,{children:[C.jsx(at,{align:"center",justify:"space-between",children:C.jsx(sr,{order:3,children:"Current workout"})}),C.jsxs(js,{fz:"sm",c:"dimmed",mb:"sm",children:["Created on"," ",new Date(n.createdTimestamp).toLocaleString(void 0,{dateStyle:"long",timeStyle:"short"}),".",C.jsx("br",{})]}),l.map(h=>C.jsx(WW,{day:h,workout:n},h.id)),u(),c()]});function u(){return C.jsx(Sw,{label:"Notes",placeholder:"Feelings, etc.",mb:"lg",value:i,onChange:h=>o(h.target.value),onBlur:d})}function c(){if(!n)return null;const h=n.days.filter(FW);return h.length===0?null:C.jsxs(C.Fragment,{children:[C.jsx(sr,{order:3,mb:"md",children:"Completed exercises"}),C.jsx(at,{direction:"column",gap:"md",children:h.map(p=>{const g=p.exercises.filter(yc);return C.jsxs("div",{children:[C.jsxs("div",{children:[C.jsxs(sr,{order:3,children:["Day: ",p.name]}),C.jsx(El,{mt:4,mb:"md"})]}),C.jsx(at,{direction:"column",gap:"md",children:g.map(_=>C.jsx(HW,{exercise:_,onUndo:m=>f(p,m)},_.id))})]},p.id)})})]})}function d(){if(!n)return;const h=i.trim(),p=i.trim().length>0?h:null;r({workoutId:n.id,updates:{notes:p}})}function f(h,p){n&&r({workoutId:n.id,updates:{completedTimestamp:null,days:n.days.map(g=>g.id===h.id?{...g,exercises:g.exercises.map(_=>{if(_.id!==p.id)return _;const m={..._.workingSets},y=m[_.sets-1];return y&&(y.isLogged=!1),{..._,workingSets:m}})}:g)}})}}var Ft=[];for(var Ng=0;Ng<256;++Ng)Ft.push((Ng+256).toString(16).slice(1));function KW(t,e=0){return(Ft[t[e+0]]+Ft[t[e+1]]+Ft[t[e+2]]+Ft[t[e+3]]+"-"+Ft[t[e+4]]+Ft[t[e+5]]+"-"+Ft[t[e+6]]+Ft[t[e+7]]+"-"+Ft[t[e+8]]+Ft[t[e+9]]+"-"+Ft[t[e+10]]+Ft[t[e+11]]+Ft[t[e+12]]+Ft[t[e+13]]+Ft[t[e+14]]+Ft[t[e+15]]).toLowerCase()}var ef,GW=new Uint8Array(16);function QW(){if(!ef&&(ef=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ef))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ef(GW)}var YW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const lb={randomUUID:YW};function rE(t,e,n){if(lb.randomUUID&&!e&&!t)return lb.randomUUID();t=t||{};var r=t.random||(t.rng||QW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return KW(r)}function XW(t){const{opened:e,day:n,onClose:r,onSave:i}=t,[o,s]=w.useState((n==null?void 0:n.name)??""),[a,l]=w.useState(e);a!==e&&(s((n==null?void 0:n.name)??""),l(e));const u=o.trim().length>0;return C.jsxs(Kn,{opened:e,onClose:r,title:`${n?"Edit":"Create"} day`,centered:!0,children:[C.jsx(Cp,{required:!0,label:"Label",placeholder:"Monday",description:"Label for the day. For example: A, B, Monday, Tuesday, etc.",value:o,onChange:d=>s(d.target.value)}),C.jsx(at,{justify:"flex-end",mt:"lg",children:C.jsx(wn,{color:"green",onClick:c,disabled:!u,children:"Save"})})]});function c(){i(o),r()}}const tf={[jt.Weight]:"Fixed weight",[jt.Percentage]:"Percentage of working weight"};function JW(t){const{opened:e,warmUpSet:n,onClose:r,onSave:i}=t,[o,s]=w.useState((n==null?void 0:n.reps)??""),[a,l]=w.useState((n==null?void 0:n.value)??""),[u,c]=w.useState((n==null?void 0:n.type)??jt.Percentage),[d,f]=w.useState(e);d!==e&&(f(e),p());const h={reps:parseInt(String(o)),value:parseInt(String(a))};return C.jsxs(Kn,{opened:e,onClose:r,centered:!0,title:`${n?"Edit":"Create"} warm-up set`,children:[C.jsxs(at,{direction:"column",gap:"sm",children:[C.jsx(Aw,{value:tf[u],allowDeselect:!1,onChange:m,label:"Type",required:!0,description:"Warm-up sets can be a fixed weight (e.g. 45 lbs) or a percentage of the working weight (e.g. 60%).",data:[tf[jt.Percentage],tf[jt.Weight]]}),C.jsx($n,{allowDecimal:!1,allowNegative:!1,label:"Reps",description:"Number of reps for the set",placeholder:u===jt.Percentage?"5":"10",required:!0,value:o,onChange:s}),C.jsx($n,{allowDecimal:!1,allowNegative:!1,required:!0,max:u===jt.Percentage?100:void 0,placeholder:u===jt.Percentage?"60":"45",description:u===jt.Percentage?"Percentage of working weight (1-100)":"Weight in pounds",label:u===jt.Percentage?"Percentage":"Weight",value:a,onChange:l})]}),C.jsx(at,{justify:"flex-end",mt:"lg",children:C.jsx(wn,{color:"green",onClick:_,disabled:!g(),children:"Save"})})]});function p(){s((n==null?void 0:n.reps)??""),l((n==null?void 0:n.value)??""),c((n==null?void 0:n.type)??jt.Percentage)}function g(){return h.reps>0&&h.value>=0}function _(){r(),i(n?{...n,type:u,reps:h.reps,value:h.value}:{id:rE(),type:u,reps:h.reps,value:h.value})}function m(y){y===tf[jt.Weight]?c(jt.Weight):c(jt.Percentage)}}function ZW(t){const{warmUpSet:e,moveUpDisabled:n,moveDownDisabled:r,onEdit:i,onDelete:o,onMoveUp:s,onMoveDown:a}=t;return C.jsx(Cs,{children:C.jsxs(at,{justify:"space-between",align:"center",children:[C.jsxs(js,{size:"sm",children:[e.reps," rep",e.reps!==1&&"s"," for"," ",e.value,e.type===jt.Weight?"lbs":"% of working weight"]}),C.jsxs(Ne,{children:[C.jsx(Ne.Target,{children:C.jsx(ko,{variant:"subtle",color:"gray",children:C.jsx(Z_,{style:{width:F(16),height:F(16)}})})}),C.jsxs(Ne.Dropdown,{children:[C.jsx(Ne.Item,{disabled:n,onClick:()=>s(e),children:"Move up"}),C.jsx(Ne.Item,{disabled:r,onClick:()=>a(e),children:"Move down"}),C.jsx(Ne.Item,{onClick:()=>i(e),children:"Edit"}),C.jsx(Ne.Item,{color:"red",onClick:()=>o(e),children:"Delete"})]})]})]})})}function eH(t,e,n){const r=[...t],i=r[e];return r[e]=r[n],r[n]=i,r}function iE(t,e,n){const r=t.findIndex(e),i=n==="up"?0:t.length-1;if(r===-1||r===i)return t;const o=n==="up"?r-1:r+1;return eH(t,r,o)}function tH(t){const{opened:e,exercise:n,onClose:r,onSave:i}=t,[o,s]=w.useState((n==null?void 0:n.name)??""),[a,l]=w.useState((n==null?void 0:n.weight)??""),[u,c]=w.useState((n==null?void 0:n.sets)??""),[d,f]=w.useState((n==null?void 0:n.reps)??""),[h,p]=w.useState((n==null?void 0:n.type)??pn.DoublePlate),[g,_]=w.useState((n==null?void 0:n.minimumWeightIncrement)??""),[m,y]=w.useState((n==null?void 0:n.warmUpSets)??[]),[E,v]=w.useState(!1),[T,b]=w.useState(null),[I,R]=w.useState(e);I!==e&&(R(e),V());const A={weight:parseFloat(String(a)),sets:parseInt(String(u)),reps:parseInt(String(d)),minimumWeightIncrement:parseFloat(String(g))};return C.jsxs(C.Fragment,{children:[C.jsxs(Kn,{centered:!0,opened:e,onClose:r,title:`${n?"Edit":"Create"} exercise`,children:[C.jsxs(at,{direction:"column",gap:"sm",children:[C.jsx(Cp,{required:!0,label:"Name",description:"Name of the exercise",placeholder:"Bench press",value:o,onChange:D=>s(D.target.value)}),C.jsx($n,{required:!0,label:"Weight",description:"Your current working weight for the exercise in pounds",value:a,placeholder:"150",allowNegative:!1,allowDecimal:!0,onChange:l}),C.jsx($n,{required:!0,label:"Sets",placeholder:"3",description:"Number of working sets you aim to complete currently",value:u,allowNegative:!1,allowDecimal:!1,onChange:c}),C.jsx($n,{required:!0,label:"Reps",placeholder:"5",description:"Number of reps you aim to complete per working set currently",allowNegative:!1,allowDecimal:!1,value:d,onChange:f}),C.jsx(rr.Group,{value:h,onChange:D=>p(D),required:!0,name:"exerciseType",label:"Exercise type",description:"This field tells the app how to calculate warm-up sets. If your exercise uses plates, the app will tell you which plates to load.",children:C.jsxs(at,{direction:"column",gap:"xs",mt:"xs",children:[C.jsx(rr,{value:pn.DoublePlate,label:"Two sets of plates",description:"Use this for barbell exercises or machines that are weighted with plates on two sides (leg press, etc.)."}),C.jsx(rr,{value:pn.SinglePlate,label:"One set of plates",description:"Use this for exercises that are weighted with a single set of plates (weighted pull-ups, dips, etc.)"}),C.jsx(rr,{value:pn.Other,description:"Use this for exercises that are not weighted with plates (dumbbell, cable machines, bodyweight etc.)",label:"Other"})]})}),h===pn.Other&&C.jsx($n,{required:!0,allowDecimal:!0,allowNegative:!1,value:g,onChange:_,placeholder:"5",label:"Minimum weight increment",description:"The smallest weight increment for the exercise (might be 5 for a dumbbell exercise, 2.5 for a certain machine, etc.)"}),C.jsxs("div",{children:[C.jsx(Wc,{children:"Warm-up sets"}),C.jsx(zc,{children:"Optional warm-up sets for the exercise."})]}),m.map((D,B)=>C.jsx(ZW,{warmUpSet:D,moveUpDisabled:B===0,moveDownDisabled:B===m.length-1,onMoveUp:Q=>W(Q,"up"),onMoveDown:Q=>W(Q,"down"),onEdit:z,onDelete:$},D.id)),C.jsx(wn,{onClick:U,children:"Add warm-up set"})]}),C.jsx(at,{justify:"flex-end",mt:"lg",children:C.jsx(wn,{color:"green",disabled:!N(),onClick:L,children:"Save"})})]}),C.jsx(JW,{warmUpSet:T??void 0,opened:E,onClose:()=>v(!1),onSave:k})]});function N(){return o.trim().length>0&&A.weight>=0&&A.sets>0&&A.reps>0&&(h!==pn.Other||h===pn.Other&&A.minimumWeightIncrement>=0)}function V(){s((n==null?void 0:n.name)??""),l((n==null?void 0:n.weight)??""),c((n==null?void 0:n.sets)??""),f((n==null?void 0:n.reps)??""),p((n==null?void 0:n.type)??pn.DoublePlate),_((n==null?void 0:n.minimumWeightIncrement)??""),y((n==null?void 0:n.warmUpSets)??[])}function U(){b(null),v(!0)}function z(D){b(D),v(!0)}function $(D){y(B=>B.filter(Q=>Q.id!==D.id))}function W(D,B){y(Q=>iE(Q,ee=>ee.id===D.id,B))}function k(D){y(T?B=>B.map(Q=>Q.id===T.id?D:Q):B=>[...B,D])}function L(){r(),i(n?{...n,name:o,weight:A.weight,sets:A.sets,reps:A.reps,type:h,minimumWeightIncrement:x(),warmUpSets:m}:{id:rE(),name:o,weight:A.weight,sets:A.sets,reps:A.reps,type:h,minimumWeightIncrement:x(),warmUpSets:m,workingSets:{},nextSession:{}})}function x(){return h===pn.DoublePlate?5:h===pn.SinglePlate?2.5:A.minimumWeightIncrement}}function nH(t){const{exercise:e,moveDownDisabled:n,moveUpDisabled:r,onEdit:i,onDelete:o,onMoveDown:s,onMoveUp:a}=t;return C.jsxs(Cs,{withBorder:!0,children:[C.jsxs(at,{justify:"space-between",align:"center",children:[C.jsx(sr,{order:4,children:e.name}),C.jsxs(Ne,{children:[C.jsx(Ne.Target,{children:C.jsx(ko,{variant:"subtle",color:"gray",children:C.jsx(Z_,{})})}),C.jsxs(Ne.Dropdown,{children:[C.jsx(Ne.Item,{disabled:r,onClick:()=>a(e),children:"Move up"}),C.jsx(Ne.Item,{disabled:n,onClick:()=>s(e),children:"Move down"}),C.jsx(Ne.Item,{onClick:()=>i(e),children:"Edit"}),C.jsx(Ne.Item,{color:"red",onClick:()=>o(e),children:"Delete"})]})]})]}),C.jsxs(js,{c:"dimmed",size:"sm",children:[kv(e)," with ",e.warmUpSets.length," warm-up sets."]})]})}function rH(t){const{day:e,workout:n,moveDownDisabled:r,moveUpDisabled:i,onEdit:o,onDelete:s,onMoveDown:a,onMoveUp:l}=t,[u,c]=w.useState(!1),[d,f]=w.useState(null),{mutate:h}=pm();return C.jsxs("div",{children:[C.jsx(sr,{order:3,children:C.jsxs(at,{justify:"space-between",align:"center",children:[C.jsxs("span",{children:["Day: ",e.name]}),C.jsxs(Ne,{children:[C.jsx(Ne.Target,{children:C.jsx(ko,{variant:"subtle",color:"gray",children:C.jsx(Z_,{})})}),C.jsxs(Ne.Dropdown,{children:[C.jsx(Ne.Item,{disabled:i,onClick:()=>l(e),children:"Move up"}),C.jsx(Ne.Item,{disabled:r,onClick:()=>a(e),children:"Move down"}),C.jsx(Ne.Item,{onClick:()=>o(e),children:"Edit"}),C.jsx(Ne.Item,{color:"red",onClick:()=>s(e),children:"Delete"})]})]})]})}),C.jsx(El,{mt:4,mb:"md"}),C.jsxs(at,{direction:"column",gap:"md",children:[e.exercises.map((v,T)=>C.jsx(nH,{exercise:v,moveUpDisabled:T===0,moveDownDisabled:T===e.exercises.length-1,onEdit:p,onDelete:m,onMoveUp:b=>y(b,"up"),onMoveDown:b=>{y(b,"down")}},v.id)),C.jsx(wn,{onClick:g,children:"Add exercise"})]}),C.jsx(tH,{exercise:d??void 0,onSave:_,opened:u,onClose:()=>c(!1)})]});function p(v){f(v),c(!0)}function g(){f(null),c(!0)}async function _(v){let T;d?T=e.exercises.map(b=>b.id===d.id?v:b):T=[...e.exercises,v],await E(T)}async function m(v){const T=e.exercises.filter(b=>b.id!==v.id);await E(T)}async function y(v,T){const b=iE(e.exercises,I=>I.id===v.id,T);await E(b)}async function E(v){await h({workoutId:n.id,updates:{days:n.days.map(T=>T.id===e.id?{...T,exercises:v}:T)}})}}function iH(){const{userId:t}=tE(),e=Pp();return ex({mutationFn:({...n})=>MW({userId:t,...n}),onSettled:()=>{e.invalidateQueries({queryKey:Ru(t)})}})}function oH(){const[t,e]=w.useState(!1),[n,r]=w.useState(null),{data:i,isLoading:o,isError:s}=AN(),{mutate:a}=pm(),{mutate:l,isPending:u}=iH();if(o)return C.jsx(_o,{children:C.jsx(Us,{})});if(s)return C.jsx(_o,{children:"Failed to load workout plan"});if(!i)return C.jsxs(at,{direction:"column",align:"center",gap:"sm",children:[C.jsx("div",{children:"Press the button below to create a workout plan"}),C.jsx(wn,{color:"green",loading:u,onClick:()=>l({}),children:"Create workout plan"})]});return C.jsxs(C.Fragment,{children:[C.jsx(sr,{mb:"sm",order:3,children:"Workout plan"}),C.jsxs(at,{direction:"column",gap:"lg",children:[i.days.map((_,m)=>C.jsx(rH,{day:_,workout:i,moveUpDisabled:m===0,moveDownDisabled:m===i.days.length-1,onEdit:p,onDelete:d,onMoveUp:y=>f(y,"up"),onMoveDown:y=>f(y,"down")},_.id)),C.jsx(El,{}),C.jsx(wn,{onClick:g,children:"Add day"})]}),C.jsx(XW,{opened:t,day:n??void 0,onClose:h,onSave:c})]});async function c(_){if(!i)return;let m;n?m=i.days.map(y=>y.id===n.id?{...y,name:_}:y):m=[...i.days,{id:rE(),name:_,exercises:[]}],await a({workoutId:i.id,updates:{days:m}})}async function d(_){if(!i)return;const m=i.days.filter(y=>y.id!==_.id);await a({workoutId:i.id,updates:{days:m}})}async function f(_,m){if(!i)return;const y=iE(i.days,E=>E.id===_.id,m);await a({workoutId:i.id,updates:{days:y}})}function h(){e(!1)}function p(_){r(_),e(!0)}function g(){r(null),e(!0)}}const sH=cW([{path:"/",element:C.jsx(kW,{}),children:[{element:C.jsx(OW,{}),children:[{index:!0,element:C.jsx(qW,{})},{path:"plan",element:C.jsx(oH,{})},{path:"history",element:C.jsx(gW,{})}]},{path:"sign-in",element:C.jsx(NW,{})},{path:"*",element:C.jsx(_N,{to:"/"})}]}]);function aH(){return C.jsx(nW,{router:sH})}const DN=ux({apiKey:"AIzaSyBQpLMpVWLjHU7xenqPbsEWzGQ1b2eIdcw",authDomain:"lifting-log-948d2.firebaseapp.com",projectId:"lifting-log-948d2",storageBucket:"lifting-log-948d2.appspot.com",messagingSenderId:"651878724833",appId:"1:651878724833:web:a2b6eccf72b49530bcf3a0",measurementId:"G-WE0QE376H5"});Zu(DN);Gk(DN);const lH={headings:{fontWeight:"600"}},uH=new L9;function cH(){return C.jsx(G8,{children:C.jsx(tR,{theme:lH,defaultColorScheme:"dark",children:C.jsx(j9,{client:uH,children:C.jsx(aH,{})})})})}const dH=Dg.createRoot(document.getElementById("root"));dH.render(C.jsx(S.StrictMode,{children:C.jsx(cH,{})}));
