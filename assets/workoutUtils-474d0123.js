var ot=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var r=(t,e,s)=>(ot(t,e,"read from private field"),s?s.call(t):e.get(t)),f=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},l=(t,e,s,a)=>(ot(t,e,"write to private field"),a?a.call(t,s):e.set(t,s),s);var p=(t,e,s)=>(ot(t,e,"access private method"),s);import{p as tt,u as X,b as et,R as N,B as st,g as rt,j as Kt,ab as qt,$ as Ht,ak as Gt,al as Jt,k as Xt,Q as Yt,r as P,U as Zt,S as te,f as ee,af as se,ag as ct,am as re,an as wt,ao as St,ap as ae,aq as ne,ar as ie,as as Ot,ai as It,aj as oe,at as ce,au as Qt,av as ue,aw as le,ax as he,ay as de,az as fe,aA as Ut,aB as kt,aC as pe,aD as Dt,aE as Ft}from"./index-65e88226.js";var Wt={root:"m-1b7284a3"};const me={},ye=rt((t,{radius:e,shadow:s})=>({root:{"--paper-radius":e===void 0?void 0:Kt(e),"--paper-shadow":qt(s)}})),gt=tt((t,e)=>{const s=X("Paper",me,t),{classNames:a,className:o,style:n,styles:i,unstyled:c,withBorder:d,vars:y,radius:u,shadow:S,variant:R,mod:w,...g}=s,b=et({name:"Paper",props:s,classes:Wt,className:o,style:n,classNames:a,styles:i,unstyled:c,vars:y,varsResolver:ye});return N.createElement(st,{ref:e,mod:[{"data-with-border":d},w],...b("root"),variant:R,...g})});gt.classes=Wt;gt.displayName="@mantine/core/Paper";var $t={root:"m-b6d8b162"};function ge(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const ve={inherit:!1},be=rt((t,{variant:e,lineClamp:s,gradient:a,size:o,color:n})=>({root:{"--text-fz":Ht(o),"--text-lh":Gt(o),"--text-gradient":e==="gradient"?Jt(a,t):void 0,"--text-line-clamp":typeof s=="number"?s.toString():void 0,"--text-color":n?Xt(n,t):void 0}})),Nt=tt((t,e)=>{const s=X("Text",ve,t),{lineClamp:a,truncate:o,inline:n,inherit:i,gradient:c,span:d,__staticSelector:y,vars:u,className:S,style:R,classNames:w,styles:g,unstyled:b,variant:m,mod:B,size:M,...A}=s,Y=et({name:["Text",y],props:s,classes:$t,className:S,style:R,classNames:w,styles:g,unstyled:b,vars:u,varsResolver:be});return N.createElement(st,{...Y("root",{focusable:!0}),ref:e,component:d?"span":"p",variant:m,mod:[{"data-truncate":ge(o),"data-line-clamp":typeof a=="number","data-inline":n,"data-inherit":i},B],size:M,...A})});Nt.classes=$t;Nt.displayName="@mantine/core/Text";const[Ce,Re]=Yt("Card component was not found in tree");var vt={root:"m-e615b15f",section:"m-599a2148"};const we={},at=tt((t,e)=>{const s=X("CardSection",we,t),{classNames:a,className:o,style:n,styles:i,vars:c,withBorder:d,inheritPadding:y,mod:u,...S}=s,R=Re();return N.createElement(st,{ref:e,mod:[{"with-border":d,"inherit-padding":y},u],...R.getStyles("section",{className:o,style:n,styles:i,classNames:a}),...S})});at.classes=vt;at.displayName="@mantine/core/CardSection";const Se={},Oe=rt((t,{padding:e})=>({root:{"--card-padding":Zt(e)}})),bt=tt((t,e)=>{const s=X("Card",Se,t),{classNames:a,className:o,style:n,styles:i,unstyled:c,vars:d,children:y,padding:u,...S}=s,R=et({name:"Card",props:s,classes:vt,className:o,style:n,classNames:a,styles:i,unstyled:c,vars:d,varsResolver:Oe}),w=P.Children.toArray(y),g=w.map((b,m)=>typeof b=="object"&&b&&"type"in b&&b.type===at?P.cloneElement(b,{"data-first-section":m===0||void 0,"data-last-section":m===w.length-1||void 0}):b);return N.createElement(Ce,{value:{getStyles:R}},N.createElement(gt,{ref:e,unstyled:c,...R("root"),...S},g))});bt.classes=vt;bt.displayName="@mantine/core/Card";bt.Section=at;const Pe=["h1","h2","h3","h4","h5","h6"];function Ee(t,e){const s=e!==void 0?e:`h${t}`;return Pe.includes(s)?{fontSize:`var(--mantine-${s}-font-size)`,fontWeight:`var(--mantine-${s}-font-weight)`,lineHeight:`var(--mantine-${s}-line-height)`}:{fontSize:te(s),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var Bt={root:"m-8a5d1357"};const xe={order:1},Te=rt((t,{order:e,size:s,lineClamp:a,textWrap:o})=>{const n=Ee(e,s);return{root:{"--title-fw":n.fontWeight,"--title-lh":n.lineHeight,"--title-fz":n.fontSize,"--title-line-clamp":typeof a=="number"?a.toString():void 0,"--title-text-wrap":o}}}),Mt=ee((t,e)=>{const s=X("Title",xe,t),{classNames:a,className:o,style:n,styles:i,unstyled:c,order:d,vars:y,size:u,variant:S,lineClamp:R,textWrap:w,mod:g,...b}=s,m=et({name:"Title",props:s,classes:Bt,className:o,style:n,classNames:a,styles:i,unstyled:c,vars:y,varsResolver:Te});return[1,2,3,4,5,6].includes(d)?N.createElement(st,{...m("root"),component:`h${d}`,variant:S,ref:e,mod:[{order:d,"data-line-clamp":typeof R=="number"},g],size:u,...b}):null});Mt.classes=Bt;Mt.displayName="@mantine/core/Title";var C,h,D,v,T,F,E,j,W,$,I,Q,x,U,k,z,_,ut,V,lt,K,ht,q,dt,H,ft,G,pt,J,mt,Z,At,Tt,Ie=(Tt=class extends se{constructor(e,s){super();f(this,k);f(this,_);f(this,V);f(this,K);f(this,q);f(this,H);f(this,G);f(this,J);f(this,Z);f(this,C,void 0);f(this,h,void 0);f(this,D,void 0);f(this,v,void 0);f(this,T,void 0);f(this,F,void 0);f(this,E,void 0);f(this,j,void 0);f(this,W,void 0);f(this,$,void 0);f(this,I,void 0);f(this,Q,void 0);f(this,x,void 0);f(this,U,void 0);l(this,h,void 0),l(this,D,void 0),l(this,v,void 0),l(this,U,new Set),l(this,C,e),this.options=s,l(this,E,null),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(r(this,h).addObserver(this),Pt(r(this,h),this.options)?p(this,k,z).call(this):this.updateResult(),p(this,q,dt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yt(r(this,h),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yt(r(this,h),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,p(this,H,ft).call(this),p(this,G,pt).call(this),r(this,h).removeObserver(this)}setOptions(e,s){const a=this.options,o=r(this,h);if(this.options=r(this,C).defaultQueryOptions(e),ct(a,this.options)||r(this,C).getQueryCache().notify({type:"observerOptionsUpdated",query:r(this,h),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),p(this,J,mt).call(this);const n=this.hasListeners();n&&Et(r(this,h),o,this.options,a)&&p(this,k,z).call(this),this.updateResult(s),n&&(r(this,h)!==o||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&p(this,_,ut).call(this);const i=p(this,V,lt).call(this);n&&(r(this,h)!==o||this.options.enabled!==a.enabled||i!==r(this,x))&&p(this,K,ht).call(this,i)}getOptimisticResult(e){const s=r(this,C).getQueryCache().build(r(this,C),e),a=this.createResult(s,e);return Ue(this,a)&&(l(this,v,a),l(this,F,this.options),l(this,T,r(this,h).state)),a}getCurrentResult(){return r(this,v)}trackResult(e){const s={};return Object.keys(e).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(r(this,U).add(a),e[a])})}),s}getCurrentQuery(){return r(this,h)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=r(this,C).defaultQueryOptions(e),a=r(this,C).getQueryCache().build(r(this,C),s);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,s))}fetch(e){return p(this,k,z).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),r(this,v)))}createResult(e,s){var Rt;const a=r(this,h),o=this.options,n=r(this,v),i=r(this,T),c=r(this,F),y=e!==a?e.state:r(this,D),{state:u}=e;let{error:S,errorUpdatedAt:R,fetchStatus:w,status:g}=u,b=!1,m;if(s._optimisticResults){const O=this.hasListeners(),it=!O&&Pt(e,s),Vt=O&&Et(e,a,s,o);(it||Vt)&&(w=ie(e.options.networkMode)?"fetching":"paused",u.dataUpdatedAt||(g="pending")),s._optimisticResults==="isRestoring"&&(w="idle")}if(s.select&&typeof u.data<"u")if(n&&u.data===(i==null?void 0:i.data)&&s.select===r(this,j))m=r(this,W);else try{l(this,j,s.select),m=s.select(u.data),m=Ot(n==null?void 0:n.data,m,s),l(this,W,m),l(this,E,null)}catch(O){l(this,E,O)}else m=u.data;if(typeof s.placeholderData<"u"&&typeof m>"u"&&g==="pending"){let O;if(n!=null&&n.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))O=n.data;else if(O=typeof s.placeholderData=="function"?s.placeholderData((Rt=r(this,$))==null?void 0:Rt.state.data,r(this,$)):s.placeholderData,s.select&&typeof O<"u")try{O=s.select(O),l(this,E,null)}catch(it){l(this,E,it)}typeof O<"u"&&(g="success",m=Ot(n==null?void 0:n.data,O,s),b=!0)}r(this,E)&&(S=r(this,E),m=r(this,W),R=Date.now(),g="error");const B=w==="fetching",M=g==="pending",A=g==="error",Y=M&&B;return{status:g,fetchStatus:w,isPending:M,isSuccess:g==="success",isError:A,isInitialLoading:Y,isLoading:Y,data:m,dataUpdatedAt:u.dataUpdatedAt,error:S,errorUpdatedAt:R,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>y.dataUpdateCount||u.errorUpdateCount>y.errorUpdateCount,isFetching:B,isRefetching:B&&!M,isLoadingError:A&&u.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:b,isRefetchError:A&&u.dataUpdatedAt!==0,isStale:Ct(e,s),refetch:this.refetch}}updateResult(e){const s=r(this,v),a=this.createResult(r(this,h),this.options);if(l(this,T,r(this,h).state),l(this,F,this.options),r(this,T).data!==void 0&&l(this,$,r(this,h)),ct(a,s))return;l(this,v,a);const o={},n=()=>{if(!s)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!r(this,U).size)return!0;const d=new Set(c??r(this,U));return this.options.throwOnError&&d.add("error"),Object.keys(r(this,v)).some(y=>{const u=y;return r(this,v)[u]!==s[u]&&d.has(u)})};(e==null?void 0:e.listeners)!==!1&&n()&&(o.listeners=!0),p(this,Z,At).call(this,{...o,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&p(this,q,dt).call(this)}},C=new WeakMap,h=new WeakMap,D=new WeakMap,v=new WeakMap,T=new WeakMap,F=new WeakMap,E=new WeakMap,j=new WeakMap,W=new WeakMap,$=new WeakMap,I=new WeakMap,Q=new WeakMap,x=new WeakMap,U=new WeakMap,k=new WeakSet,z=function(e){p(this,J,mt).call(this);let s=r(this,h).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(re)),s},_=new WeakSet,ut=function(){if(p(this,H,ft).call(this),wt||r(this,v).isStale||!St(this.options.staleTime))return;const s=ae(r(this,v).dataUpdatedAt,this.options.staleTime)+1;l(this,I,setTimeout(()=>{r(this,v).isStale||this.updateResult()},s))},V=new WeakSet,lt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(r(this,h)):this.options.refetchInterval)??!1},K=new WeakSet,ht=function(e){p(this,G,pt).call(this),l(this,x,e),!(wt||this.options.enabled===!1||!St(r(this,x))||r(this,x)===0)&&l(this,Q,setInterval(()=>{(this.options.refetchIntervalInBackground||ne.isFocused())&&p(this,k,z).call(this)},r(this,x)))},q=new WeakSet,dt=function(){p(this,_,ut).call(this),p(this,K,ht).call(this,p(this,V,lt).call(this))},H=new WeakSet,ft=function(){r(this,I)&&(clearTimeout(r(this,I)),l(this,I,void 0))},G=new WeakSet,pt=function(){r(this,Q)&&(clearInterval(r(this,Q)),l(this,Q,void 0))},J=new WeakSet,mt=function(){const e=r(this,C).getQueryCache().build(r(this,C),this.options);if(e===r(this,h))return;const s=r(this,h);l(this,h,e),l(this,D,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Z=new WeakSet,At=function(e){It.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(r(this,v))}),r(this,C).getQueryCache().notify({query:r(this,h),type:"observerResultsUpdated"})})},Tt);function Qe(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Pt(t,e){return Qe(t,e)||t.state.dataUpdatedAt>0&&yt(t,e,e.refetchOnMount)}function yt(t,e,s){if(e.enabled!==!1){const a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&Ct(t,e)}return!1}function Et(t,e,s,a){return s.enabled!==!1&&(t!==e||a.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&Ct(t,s)}function Ct(t,e){return t.isStaleByTime(e.staleTime)}function Ue(t,e){return!ct(t.getCurrentResult(),e)}var zt=P.createContext(!1),ke=()=>P.useContext(zt);zt.Provider;function De(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Fe=P.createContext(De()),We=()=>P.useContext(Fe);function $e(t,e){return typeof t=="function"?t(...e):!!t}var Ne=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Be=t=>{P.useEffect(()=>{t.clearReset()},[t])},Me=({result:t,errorResetBoundary:e,throwOnError:s,query:a})=>t.isError&&!e.isReset()&&!t.isFetching&&$e(s,[t.error,a]),Ae=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},ze=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Le=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function je(t,e,s){const a=oe(s),o=ke(),n=We(),i=a.defaultQueryOptions(t);i._optimisticResults=o?"isRestoring":"optimistic",Ae(i),Ne(i,n),Be(n);const[c]=P.useState(()=>new e(a,i)),d=c.getOptimisticResult(i);if(P.useSyncExternalStore(P.useCallback(y=>{const u=o?()=>{}:c.subscribe(It.batchCalls(y));return c.updateResult(),u},[c,o]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),P.useEffect(()=>{c.setOptions(i,{listeners:!1})},[i,c]),ze(i,d))throw Le(i,c,n);if(Me({result:d,errorResetBoundary:n,throwOnError:i.throwOnError,query:c.getCurrentQuery()}))throw d.error;return i.notifyOnChangeProps?d:c.trackResult(d)}function _e(t,e){return je(t,Ie,e)}function Ve(){const t=P.useContext(ce);if(!t)throw new Error("useCurrentUser must be used within a CurrentUserProvider");return t}async function Ze({userId:t,...e}){const s=Qt(nt()),a={id:s.id,userId:t,createdTimestamp:Date.now(),completedTimestamp:null,notes:null,days:[],...e};await ue(s,a)}async function ts(t){const e=await Ut(kt(nt(),Ft("userId","==",t),Dt("createdTimestamp","desc"),pe(1)));return e.empty?null:e.docs[0].data()}async function es(t,e){await le(Qt(nt(),t),{...e})}async function Ke(t){return(await Ut(kt(nt(),Ft("userId","==",t),Dt("createdTimestamp","desc")))).docs.map(s=>s.data())}function nt(){return he(de(fe()),"workouts")}function qe(t){return["workouts",t]}function ss(){const{userId:t}=Ve();return _e({queryKey:qe(t),queryFn:()=>Ke(t)})}var L=(t=>(t.DoublePlate="doublePlate",t.SinglePlate="singlePlate",t.Other="other",t))(L||{}),Lt=(t=>(t.Percentage="percentage",t.Weight="weight",t))(Lt||{});const jt=45,xt=[45,25,10,5,2.5,1.25];function rs(t,e){let s=t;e===L.DoublePlate&&(s=(t-jt)/2);const a=[];for(let o=0;o<xt.length;o++){const n=xt[o],i=s%n,c=(s-i)/n;for(let d=0;d<c;d++)a.push(n);c>0&&(s=i)}return a.join(", ")}function _t(t){const e=Object.values(t.workingSets);return e.length===t.sets&&e.every(s=>s.isLogged)}function as(t){return t.exercises.some(_t)}function He(t){return t.exercises.every(_t)}function ns(t){return t.days.every(He)}function is(t){return t.type===L.DoublePlate||t.type===L.SinglePlate}function os(t,e){if(e.type===Lt.Weight)return e.value;let s=t.minimumWeightIncrement;t.type===L.DoublePlate&&(s=jt);const a=e.value/100;return Math.max(s,Ge(t.weight*a,t.minimumWeightIncrement))}function Ge(t,e){return Math.round(t/e)*e}function cs(t){return`${t.sets}x${t.reps}x${t.weight}`}export{bt as C,L as E,gt as P,Nt as T,Lt as W,_t as a,Mt as b,rs as c,cs as d,ns as e,as as f,os as g,_e as h,is as i,ts as j,es as k,Ze as l,ss as m,$e as s,Ve as u,qe as w};
